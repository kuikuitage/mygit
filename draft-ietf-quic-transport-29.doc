{\rtf\ansi\deff0\ansicpg1252
{\fonttbl
{\f0\froman times new roman;}{\f1\fmodern courier;}}
{\colortbl\red0\green0\blue0;\red0\green0\blue255;}
\jexpand\viewkind1\viewscale100

{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2028\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop13733\shpright10506\shpbottom13733\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2029\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\paperw11893\paperh16840\margl666\margr133\margt666\margb666
\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf0\f1\charscalex100 {QUIC                                                     J. Iyengar, Ed.}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {Internet-Draft                                                    Fastly}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {Intended status: Standards Track                         M. Thomson, Ed.}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {Expires: 12 December 2020                                        Mozilla}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {                                                            10 June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-293\slmult0 \fs20\cf0\f1\charscalex100 {           QUIC: A UDP-Based Multiplexed and Secure Transport}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {                      draft-ietf-quic-transport-29}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {Abstract}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   This document defines the core of the QUIC transport protocol.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Accompanying documents describe QUIC\uc1\u8217Xs loss detection and congestion}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   control and the use of TLS for key negotiation.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {Note to Readers}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Discussion of this draft takes place on the QUIC working group}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   mailing list (quic@ietf.org (mailto:quic@ietf.org)), which is}\par\pard\li760\ri0\sl-226\slmult0 \*\tx2533\fs20\cf0\f1\charscalex100 {   archived at}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://mailarchive.ietf.org/arch/search/?email_list=quic"}}{\fldrslt {https://mailarchive.ietf.org/arch/search/?email_list=quic}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx6093\fs20\cf0\f1\charscalex100 {   Working Group information can be found at}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://github/"}}{\fldrslt {https://github}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://github/"}}{\fldrslt {.com/quicwg;}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   source code and issues list for this draft can be found at}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "https://github.com/quicwg/base-drafts/labels/-transport"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://github.com/quicwg/base-drafts/labels/-transport"}}{\fldrslt {https://github.com/quicwg/base-drafts/labels/-transport}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://github.com/quicwg/base-drafts/labels/-transport"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {Status of This Memo}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   This Internet-Draft is submitted in full conformance with the}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2773\*\tx4080\fs20\cf0\f1\charscalex100 {   provisions of}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/bcp78"}}{\fldrslt {BCP 78}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/bcp78"}}{\fldrslt { and}}}}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/bcp79"}}{\fldrslt {BCP 79}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/bcp79"}}{\fldrslt {.}}}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Internet-Drafts are working documents of the Internet Engineering}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Task Force (IETF).  Note that other groups may also distribute}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   working documents as Internet-Drafts.  The list of current Internet-}\par\pard\li746\ri0\sl-240\slmult0 \*\tx2653\fs20\cf0\f1\charscalex100 {   Drafts is at}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://datatracker.ietf.org/drafts/current/"}}{\fldrslt {https://datatracker.ietf.org/drafts/current/}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://datatracker.ietf.org/drafts/current/"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   Internet-Drafts are draft documents valid for a maximum of six months}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   and may be updated, replaced, or obsoleted by other documents at any}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   time.  It is inappropriate to use Internet-Drafts as reference}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   material or to cite them other than as "work in progress."}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   This Internet-Draft will expire on 12 December 2020.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {Copyright Notice}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Copyright (c) 2020 IETF Trust and the persons identified as the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   document authors.  All rights reserved.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020                [Page 1]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2030\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2031\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#2"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \*\tx4440\fs20\cf0\f1\charscalex100 {   This document is subject to}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/bcp78"}}{\fldrslt {BCP 78}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/bcp78"}}{\fldrslt { and }}}the IETF Trust\uc1\u8217Xs Legal}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Provisions Relating to IETF Documents {\field{\*\fldinst{HYPERLINK "https://trustee.ietf.org/license-info"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://trustee.ietf.org/license-info"}}{\fldrslt {https://trustee.ietf.org/}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "https://trustee.ietf.org/license-info"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://trustee.ietf.org/license-info"}}{\fldrslt {license-info}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://trustee.ietf.org/license-info"}}{\fldrslt {) }}}in effect on the date of publication of this document.}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   Please review these documents carefully, as they describe your rights}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   and restrictions with respect to this document.  Code Components}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   extracted from this document must include Simplified BSD License text}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5266\fs20\cf0\f1\charscalex100 {   as described in Section 4.e of the}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://trustee.ietf.org/license-info"}}{\fldrslt {Trust Legal Provisions}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://trustee.ietf.org/license-info"}}{\fldrslt { and }}}are}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   provided without warranty as described in the Simplified BSD License.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {Table of Contents}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \*\tx9186\fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#6"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#6"}}{\fldrslt {1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#6"}}{\fldrslt {. }}} Introduction  . . . . . . . . . . . . . . . . . . . . . . . .  }\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#6"}}{\fldrslt {6}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx9186\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#7"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#7"}}{\fldrslt {1.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#7"}}{\fldrslt {. }}} Document Structure  . . . . . . . . . . . . . . . . . . .  }\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#7"}}{\fldrslt {7}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx9186\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#8"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#8"}}{\fldrslt {1.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#8"}}{\fldrslt {. }}} Terms and Definitions . . . . . . . . . . . . . . . . . .  }\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#8"}}{\fldrslt {8}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx9186\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#9"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#9"}}{\fldrslt {1.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#9"}}{\fldrslt {. }}} Notational Conventions  . . . . . . . . . . . . . . . . .  }\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#9"}}{\fldrslt {9}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#10"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#10"}}{\fldrslt {2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#10"}}{\fldrslt {. }}} Streams . . . . . . . . . . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#10"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#10"}}{\fldrslt {10}}}}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#11"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#11"}}{\fldrslt {2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#11"}}{\fldrslt {. }}} Stream Types and Identifiers  . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#11"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#11"}}{\fldrslt {11}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#12"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#12"}}{\fldrslt {2.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#12"}}{\fldrslt {. }}} Sending and Receiving Data  . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#12"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#12"}}{\fldrslt {12}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#13"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#13"}}{\fldrslt {2.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#13"}}{\fldrslt {. }}} Stream Prioritization . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#13"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#13"}}{\fldrslt {13}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#13"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#13"}}{\fldrslt {2.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#13"}}{\fldrslt {. }}} Required Operations on Streams  . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#13"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#13"}}{\fldrslt {13}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt {3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt {. }}} Stream States . . . . . . . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt {14}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt {3.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt {. }}} Sending Stream States . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt {14}}}}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#17"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#17"}}{\fldrslt {3.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#17"}}{\fldrslt {. }}} Receiving Stream States . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#17"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#17"}}{\fldrslt {17}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#19"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#19"}}{\fldrslt {3.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#19"}}{\fldrslt {. }}} Permitted Frame Types . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#19"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#19"}}{\fldrslt {19}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#20"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#20"}}{\fldrslt {3.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#20"}}{\fldrslt {. }}} Bidirectional Stream States . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#20"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#20"}}{\fldrslt {20}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#21"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#21"}}{\fldrslt {3.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#21"}}{\fldrslt {. }}} Solicited State Transitions . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#21"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#21"}}{\fldrslt {21}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt {4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt {. }}} Flow Control  . . . . . . . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt {23}}}}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt {4.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt {. }}} Data Flow Control . . . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt {23}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#24"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#24"}}{\fldrslt {4.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#24"}}{\fldrslt {. }}} Flow Credit Increments  . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#24"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#24"}}{\fldrslt {24}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#25"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#25"}}{\fldrslt {4.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#25"}}{\fldrslt {. }}} Handling Stream Cancellation  . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#25"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#25"}}{\fldrslt {25}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#26"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#26"}}{\fldrslt {4.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#26"}}{\fldrslt {. }}} Stream Final Size . . . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#26"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#26"}}{\fldrslt {26}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#27"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#27"}}{\fldrslt {4.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#27"}}{\fldrslt {. }}} Controlling Concurrency . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#27"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#27"}}{\fldrslt {27}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#27"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#27"}}{\fldrslt {5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#27"}}{\fldrslt {. }}} Connections . . . . . . . . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#27"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#27"}}{\fldrslt {27}}}}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#28"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#28"}}{\fldrslt {5.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#28"}}{\fldrslt {. }}} Connection ID . . . . . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#28"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#28"}}{\fldrslt {28}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#29"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#29"}}{\fldrslt {5.1.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#29"}}{\fldrslt {. }}} Issuing Connection IDs  . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#29"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#29"}}{\fldrslt {29}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#30"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#30"}}{\fldrslt {5.1.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#30"}}{\fldrslt {. }}} Consuming and Retiring Connection IDs . . . . . . . . {\field{\*\fldinst{HYPERLINK "#30"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#30"}}{\fldrslt {30}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#31"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#31"}}{\fldrslt {5.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#31"}}{\fldrslt {. }}} Matching Packets to Connections . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#31"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#31"}}{\fldrslt {31}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#32"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#32"}}{\fldrslt {5.2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#32"}}{\fldrslt {. }}} Client Packet Handling  . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#32"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#32"}}{\fldrslt {32}}}}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#32"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#32"}}{\fldrslt {5.2.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#32"}}{\fldrslt {. }}} Server Packet Handling  . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#32"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#32"}}{\fldrslt {32}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#33"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#33"}}{\fldrslt {5.2.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#33"}}{\fldrslt {. }}} Considerations for Simple Load Balancers  . . . . . . {\field{\*\fldinst{HYPERLINK "#33"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#33"}}{\fldrslt {33}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#34"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#34"}}{\fldrslt {5.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#34"}}{\fldrslt {. }}} Life of a QUIC Connection . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#34"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#34"}}{\fldrslt {34}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#35"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#35"}}{\fldrslt {5.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#35"}}{\fldrslt {. }}} Required Operations on Connections  . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#35"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#35"}}{\fldrslt {35}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt {6}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt {. }}} Version Negotiation . . . . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt {36}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt {6.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt {. }}} Sending Version Negotiation Packets . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt {36}}}}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt {6.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt {. }}} Handling Version Negotiation Packets  . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt {36}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#37"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#37"}}{\fldrslt {6.2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#37"}}{\fldrslt {. }}} Version Negotiation Between Draft Versions  . . . . . {\field{\*\fldinst{HYPERLINK "#37"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#37"}}{\fldrslt {37}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#37"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#37"}}{\fldrslt {6.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#37"}}{\fldrslt {. }}} Using Reserved Versions . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#37"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#37"}}{\fldrslt {37}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#38"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#38"}}{\fldrslt {7}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#38"}}{\fldrslt {. }}} Cryptographic and Transport Handshake . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#38"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#38"}}{\fldrslt {38}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020                [Page 2]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2032\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2033\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#3"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#39"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#39"}}{\fldrslt {7.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#39"}}{\fldrslt {. }}} Example Handshake Flows . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#39"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#39"}}{\fldrslt {39}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#40"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#40"}}{\fldrslt {7.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#40"}}{\fldrslt {. }}} Negotiating Connection IDs  . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#40"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#40"}}{\fldrslt {40}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#41"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#41"}}{\fldrslt {7.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#41"}}{\fldrslt {. }}} Authenticating Connection IDs . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#41"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#41"}}{\fldrslt {41}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#43"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#43"}}{\fldrslt {7.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#43"}}{\fldrslt {. }}} Transport Parameters  . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#43"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#43"}}{\fldrslt {43}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#44"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#44"}}{\fldrslt {7.4.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#44"}}{\fldrslt {. }}} Values of Transport Parameters for 0-RTT  . . . . . . {\field{\*\fldinst{HYPERLINK "#44"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#44"}}{\fldrslt {44}}}}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {7.4.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {. }}} New Transport Parameters  . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {46}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {7.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {. }}} Cryptographic Message Buffering . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {46}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {8}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {. }}} Address Validation  . . . . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {46}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#47"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#47"}}{\fldrslt {8.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#47"}}{\fldrslt {. }}} Address Validation During Connection Establishment  . . . {\field{\*\fldinst{HYPERLINK "#47"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#47"}}{\fldrslt {47}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#48"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#48"}}{\fldrslt {8.1.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#48"}}{\fldrslt {. }}} Token Construction  . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#48"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#48"}}{\fldrslt {48}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#48"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#48"}}{\fldrslt {8.1.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#48"}}{\fldrslt {. }}} Address Validation using Retry Packets  . . . . . . . {\field{\*\fldinst{HYPERLINK "#48"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#48"}}{\fldrslt {48}}}}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#49"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#49"}}{\fldrslt {8.1.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#49"}}{\fldrslt {. }}} Address Validation for Future Connections . . . . . . {\field{\*\fldinst{HYPERLINK "#49"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#49"}}{\fldrslt {49}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#51"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#51"}}{\fldrslt {8.1.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#51"}}{\fldrslt {. }}} Address Validation Token Integrity  . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#51"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#51"}}{\fldrslt {51}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt {8.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt {. }}} Path Validation . . . . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt {52}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#53"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#53"}}{\fldrslt {8.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#53"}}{\fldrslt {. }}} Initiating Path Validation  . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#53"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#53"}}{\fldrslt {53}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#53"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#53"}}{\fldrslt {8.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#53"}}{\fldrslt {. }}} Path Validation Responses . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#53"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#53"}}{\fldrslt {53}}}}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {8.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {. }}} Successful Path Validation  . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {54}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {8.6}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {. }}} Failed Path Validation  . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {54}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {9}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {. }}} Connection Migration  . . . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {54}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#55"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#55"}}{\fldrslt {9.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#55"}}{\fldrslt {. }}} Probing a New Path  . . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#55"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#55"}}{\fldrslt {55}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#56"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#56"}}{\fldrslt {9.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#56"}}{\fldrslt {. }}} Initiating Connection Migration . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#56"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#56"}}{\fldrslt {56}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#56"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#56"}}{\fldrslt {9.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#56"}}{\fldrslt {. }}} Responding to Connection Migration  . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#56"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#56"}}{\fldrslt {56}}}}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#57"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#57"}}{\fldrslt {9.3.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#57"}}{\fldrslt {. }}} Peer Address Spoofing . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#57"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#57"}}{\fldrslt {57}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#58"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#58"}}{\fldrslt {9.3.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#58"}}{\fldrslt {. }}} On-Path Address Spoofing  . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#58"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#58"}}{\fldrslt {58}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#58"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#58"}}{\fldrslt {9.3.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#58"}}{\fldrslt {. }}} Off-Path Packet Forwarding  . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#58"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#58"}}{\fldrslt {58}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#59"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#59"}}{\fldrslt {9.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#59"}}{\fldrslt {. }}} Loss Detection and Congestion Control . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#59"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#59"}}{\fldrslt {59}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#60"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#60"}}{\fldrslt {9.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#60"}}{\fldrslt {. }}} Privacy Implications of Connection Migration  . . . . . . {\field{\*\fldinst{HYPERLINK "#60"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#60"}}{\fldrslt {60}}}}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#62"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#62"}}{\fldrslt {9.6}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#62"}}{\fldrslt {. }}} Server\uc1\u8217Xs Preferred Address  . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#62"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#62"}}{\fldrslt {62}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#62"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#62"}}{\fldrslt {9.6.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#62"}}{\fldrslt {. }}} Communicating a Preferred Address . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#62"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#62"}}{\fldrslt {62}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#63"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#63"}}{\fldrslt {9.6.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#63"}}{\fldrslt {. }}} Responding to Connection Migration  . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#63"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#63"}}{\fldrslt {63}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {       9.6.3.  Interaction of Client Migration and Preferred}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {               Address . . . . . . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#63"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#63"}}{\fldrslt {63}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#64"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#64"}}{\fldrslt {9.7}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#64"}}{\fldrslt {. }}} Use of IPv6 Flow-Label and Migration  . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#64"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#64"}}{\fldrslt {64}}}}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#64"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#64"}}{\fldrslt {10}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#64"}}{\fldrslt {. }}}Connection Termination  . . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#64"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#64"}}{\fldrslt {64}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#65"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#65"}}{\fldrslt {10.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#65"}}{\fldrslt {. }}} Closing and Draining Connection States . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#65"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#65"}}{\fldrslt {65}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#66"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#66"}}{\fldrslt {10.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#66"}}{\fldrslt {. }}} Idle Timeout . . . . . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#66"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#66"}}{\fldrslt {66}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#66"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#66"}}{\fldrslt {10.2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#66"}}{\fldrslt {. }}} Liveness Testing . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#66"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#66"}}{\fldrslt {66}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt {10.2.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt {. }}} Deferring Idle Timeout . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt {67}}}}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt {10.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt {. }}} Immediate Close  . . . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt {67}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#69"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#69"}}{\fldrslt {10.3.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#69"}}{\fldrslt {. }}} Immediate Close During the Handshake . . . . . . . . {\field{\*\fldinst{HYPERLINK "#69"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#69"}}{\fldrslt {69}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {10.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {. }}} Stateless Reset  . . . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {70}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#73"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#73"}}{\fldrslt {10.4.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#73"}}{\fldrslt {. }}} Detecting a Stateless Reset  . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#73"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#73"}}{\fldrslt {73}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#74"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#74"}}{\fldrslt {10.4.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#74"}}{\fldrslt {. }}} Calculating a Stateless Reset Token  . . . . . . . . {\field{\*\fldinst{HYPERLINK "#74"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#74"}}{\fldrslt {74}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#75"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#75"}}{\fldrslt {10.4.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#75"}}{\fldrslt {. }}} Looping  . . . . . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#75"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#75"}}{\fldrslt {75}}}}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#75"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#75"}}{\fldrslt {11}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#75"}}{\fldrslt {. }}}Error Handling  . . . . . . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#75"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#75"}}{\fldrslt {75}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#76"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#76"}}{\fldrslt {11.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#76"}}{\fldrslt {. }}} Connection Errors  . . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#76"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#76"}}{\fldrslt {76}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#76"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#76"}}{\fldrslt {11.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#76"}}{\fldrslt {. }}} Stream Errors  . . . . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#76"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#76"}}{\fldrslt {76}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#77"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#77"}}{\fldrslt {12}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#77"}}{\fldrslt {. }}}Packets and Frames  . . . . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#77"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#77"}}{\fldrslt {77}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020                [Page 3]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2034\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2035\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#4"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#77"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#77"}}{\fldrslt {12.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#77"}}{\fldrslt {. }}} Protected Packets  . . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#77"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#77"}}{\fldrslt {77}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#78"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#78"}}{\fldrslt {12.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#78"}}{\fldrslt {. }}} Coalescing Packets . . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#78"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#78"}}{\fldrslt {78}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#79"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#79"}}{\fldrslt {12.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#79"}}{\fldrslt {. }}} Packet Numbers . . . . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#79"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#79"}}{\fldrslt {79}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#80"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#80"}}{\fldrslt {12.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#80"}}{\fldrslt {. }}} Frames and Frame Types . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#80"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#80"}}{\fldrslt {80}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#83"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#83"}}{\fldrslt {13}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#83"}}{\fldrslt {. }}}Packetization and Reliability . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#83"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#83"}}{\fldrslt {83}}}}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#84"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#84"}}{\fldrslt {13.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#84"}}{\fldrslt {. }}} Packet Processing  . . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#84"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#84"}}{\fldrslt {84}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#84"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#84"}}{\fldrslt {13.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#84"}}{\fldrslt {. }}} Generating Acknowledgements  . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#84"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#84"}}{\fldrslt {84}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#85"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#85"}}{\fldrslt {13.2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#85"}}{\fldrslt {. }}} Sending ACK Frames . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#85"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#85"}}{\fldrslt {85}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#86"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#86"}}{\fldrslt {13.2.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#86"}}{\fldrslt {. }}} Acknowledgement Frequency  . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#86"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#86"}}{\fldrslt {86}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#86"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#86"}}{\fldrslt {13.2.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#86"}}{\fldrslt {. }}} Managing ACK Ranges  . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#86"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#86"}}{\fldrslt {86}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#87"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#87"}}{\fldrslt {13.2.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#87"}}{\fldrslt {. }}} Receiver Tracking of ACK Frames  . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#87"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#87"}}{\fldrslt {87}}}}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#87"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#87"}}{\fldrslt {13.2.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#87"}}{\fldrslt {. }}} Limiting ACK Ranges  . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#87"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#87"}}{\fldrslt {87}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#88"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#88"}}{\fldrslt {13.2.6}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#88"}}{\fldrslt {. }}} Measuring and Reporting Host Delay . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#88"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#88"}}{\fldrslt {88}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#88"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#88"}}{\fldrslt {13.2.7}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#88"}}{\fldrslt {. }}} ACK Frames and Packet Protection . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#88"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#88"}}{\fldrslt {88}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#89"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#89"}}{\fldrslt {13.2.8}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#89"}}{\fldrslt {. }}} PADDING Frames Consume Congestion Window . . . . . . {\field{\*\fldinst{HYPERLINK "#89"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#89"}}{\fldrslt {89}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#89"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#89"}}{\fldrslt {13.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#89"}}{\fldrslt {. }}} Retransmission of Information  . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#89"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#89"}}{\fldrslt {89}}}}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#92"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#92"}}{\fldrslt {13.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#92"}}{\fldrslt {. }}} Explicit Congestion Notification . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#92"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#92"}}{\fldrslt {92}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#92"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#92"}}{\fldrslt {13.4.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#92"}}{\fldrslt {. }}} ECN Counts . . . . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#92"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#92"}}{\fldrslt {92}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#93"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#93"}}{\fldrslt {13.4.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#93"}}{\fldrslt {. }}} ECN Validation . . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#93"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#93"}}{\fldrslt {93}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#95"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#95"}}{\fldrslt {14}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#95"}}{\fldrslt {. }}}Packet Size . . . . . . . . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#95"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#95"}}{\fldrslt {95}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#95"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#95"}}{\fldrslt {14.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#95"}}{\fldrslt {. }}} Initial Packet Size  . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#95"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#95"}}{\fldrslt {95}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#96"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#96"}}{\fldrslt {14.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#96"}}{\fldrslt {. }}} Path Maximum Transmission Unit (PMTU)  . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#96"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#96"}}{\fldrslt {96}}}}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt {14.2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt {. }}} Handling of ICMP Messages by PMTUD . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt {97}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt {14.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt {. }}} Datagram Packetization Layer PMTU Discovery  . . . . . . {\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt {97}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#98"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#98"}}{\fldrslt {14.3.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#98"}}{\fldrslt {. }}} DPLPMTUD and Initial Connectivity  . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#98"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#98"}}{\fldrslt {98}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#98"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#98"}}{\fldrslt {14.3.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#98"}}{\fldrslt {. }}} Validating the QUIC Path with DPLPMTUD . . . . . . . {\field{\*\fldinst{HYPERLINK "#98"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#98"}}{\fldrslt {98}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#98"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#98"}}{\fldrslt {14.3.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#98"}}{\fldrslt {. }}} Handling of ICMP Messages by DPLPMTUD  . . . . . . . {\field{\*\fldinst{HYPERLINK "#98"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#98"}}{\fldrslt {98}}}}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#98"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#98"}}{\fldrslt {14.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#98"}}{\fldrslt {. }}} Sending QUIC PMTU Probes . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#98"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#98"}}{\fldrslt {98}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#99"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#99"}}{\fldrslt {14.4.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#99"}}{\fldrslt {. }}} PMTU Probes Containing Source Connection ID  . . . . {\field{\*\fldinst{HYPERLINK "#99"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#99"}}{\fldrslt {99}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#99"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#99"}}{\fldrslt {15}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#99"}}{\fldrslt {. }}}Versions  . . . . . . . . . . . . . . . . . . . . . . . . . . {\field{\*\fldinst{HYPERLINK "#99"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#99"}}{\fldrslt {99}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#100"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#100"}}{\fldrslt {16}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#100"}}{\fldrslt {. }}}Variable-Length Integer Encoding  . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#100"}}{\fldrslt {100}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#101"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#101"}}{\fldrslt {17}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#101"}}{\fldrslt {. }}}Packet Formats  . . . . . . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#101"}}{\fldrslt {101}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#101"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#101"}}{\fldrslt {17.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#101"}}{\fldrslt {. }}} Packet Number Encoding and Decoding  . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#101"}}{\fldrslt {101}}}}\par\pard\li760\ri0\sl-226\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#102"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#102"}}{\fldrslt {17.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#102"}}{\fldrslt {. }}} Long Header Packets  . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#102"}}{\fldrslt {102}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#105"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#105"}}{\fldrslt {17.2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#105"}}{\fldrslt {. }}} Version Negotiation Packet . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#105"}}{\fldrslt {105}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#107"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#107"}}{\fldrslt {17.2.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#107"}}{\fldrslt {. }}} Initial Packet . . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#107"}}{\fldrslt {107}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#109"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#109"}}{\fldrslt {17.2.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#109"}}{\fldrslt {. }}} 0-RTT  . . . . . . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#109"}}{\fldrslt {109}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#110"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#110"}}{\fldrslt {17.2.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#110"}}{\fldrslt {. }}} Handshake Packet . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#110"}}{\fldrslt {110}}}}\par\pard\li760\ri0\sl-226\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#111"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#111"}}{\fldrslt {17.2.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#111"}}{\fldrslt {. }}} Retry Packet . . . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#111"}}{\fldrslt {111}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#113"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#113"}}{\fldrslt {17.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#113"}}{\fldrslt {. }}} Short Header Packets . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#113"}}{\fldrslt {113}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#115"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#115"}}{\fldrslt {17.3.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#115"}}{\fldrslt {. }}} Latency Spin Bit . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#115"}}{\fldrslt {115}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#116"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#116"}}{\fldrslt {18}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#116"}}{\fldrslt {. }}}Transport Parameter Encoding  . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#116"}}{\fldrslt {116}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {18.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {. }}} Reserved Transport Parameters  . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {117}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {18.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {. }}} Transport Parameter Definitions  . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {117}}}}\par\pard\li760\ri0\sl-226\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#121"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#121"}}{\fldrslt {19}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#121"}}{\fldrslt {. }}}Frame Types and Formats . . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#121"}}{\fldrslt {121}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#121"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#121"}}{\fldrslt {19.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#121"}}{\fldrslt {. }}} PADDING Frame  . . . . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#121"}}{\fldrslt {121}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt {19.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt {. }}} PING Frame . . . . . . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt {122}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt {19.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt {. }}} ACK Frames . . . . . . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt {122}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020                [Page 4]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2036\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2037\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#5"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#124"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#124"}}{\fldrslt {19.3.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#124"}}{\fldrslt {. }}} ACK Ranges . . . . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#124"}}{\fldrslt {124}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#125"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#125"}}{\fldrslt {19.3.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#125"}}{\fldrslt {. }}} ECN Counts . . . . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#125"}}{\fldrslt {125}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#126"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#126"}}{\fldrslt {19.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#126"}}{\fldrslt {. }}} RESET_STREAM Frame . . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#126"}}{\fldrslt {126}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#127"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#127"}}{\fldrslt {19.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#127"}}{\fldrslt {. }}} STOP_SENDING Frame . . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#127"}}{\fldrslt {127}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#127"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#127"}}{\fldrslt {19.6}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#127"}}{\fldrslt {. }}} CRYPTO Frame . . . . . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#127"}}{\fldrslt {127}}}}\par\pard\li760\ri0\sl-226\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#128"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#128"}}{\fldrslt {19.7}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#128"}}{\fldrslt {. }}} NEW_TOKEN Frame  . . . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#128"}}{\fldrslt {128}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#129"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#129"}}{\fldrslt {19.8}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#129"}}{\fldrslt {. }}} STREAM Frames  . . . . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#129"}}{\fldrslt {129}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt {19.9}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt {. }}} MAX_DATA Frame . . . . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt {131}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt {19.10}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt {. }}}MAX_STREAM_DATA Frame  . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt {131}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#132"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#132"}}{\fldrslt {19.11}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#132"}}{\fldrslt {. }}}MAX_STREAMS Frames . . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#132"}}{\fldrslt {132}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#133"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#133"}}{\fldrslt {19.12}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#133"}}{\fldrslt {. }}}DATA_BLOCKED Frame . . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#133"}}{\fldrslt {133}}}}\par\pard\li760\ri0\sl-226\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#134"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#134"}}{\fldrslt {19.13}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#134"}}{\fldrslt {. }}}STREAM_DATA_BLOCKED Frame  . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#134"}}{\fldrslt {134}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#134"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#134"}}{\fldrslt {19.14}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#134"}}{\fldrslt {. }}}STREAMS_BLOCKED Frames . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#134"}}{\fldrslt {134}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#135"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#135"}}{\fldrslt {19.15}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#135"}}{\fldrslt {. }}}NEW_CONNECTION_ID Frame  . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#135"}}{\fldrslt {135}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#136"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#136"}}{\fldrslt {19.16}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#136"}}{\fldrslt {. }}}RETIRE_CONNECTION_ID Frame . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#136"}}{\fldrslt {136}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#137"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#137"}}{\fldrslt {19.17}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#137"}}{\fldrslt {. }}}PATH_CHALLENGE Frame . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#137"}}{\fldrslt {137}}}}\par\pard\li760\ri0\sl-226\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#138"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#138"}}{\fldrslt {19.18}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#138"}}{\fldrslt {. }}}PATH_RESPONSE Frame  . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#138"}}{\fldrslt {138}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#138"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#138"}}{\fldrslt {19.19}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#138"}}{\fldrslt {. }}}CONNECTION_CLOSE Frames  . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#138"}}{\fldrslt {138}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#139"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#139"}}{\fldrslt {19.20}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#139"}}{\fldrslt {. }}}HANDSHAKE_DONE frame . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#139"}}{\fldrslt {139}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {19.21}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {. }}}Extension Frames . . . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {140}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {20}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {. }}}Transport Error Codes . . . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {140}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#142"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#142"}}{\fldrslt {20.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#142"}}{\fldrslt {. }}} Application Protocol Error Codes . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#142"}}{\fldrslt {142}}}}\par\pard\li760\ri0\sl-226\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#142"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#142"}}{\fldrslt {21}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#142"}}{\fldrslt {. }}}Security Considerations . . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#142"}}{\fldrslt {142}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#142"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#142"}}{\fldrslt {21.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#142"}}{\fldrslt {. }}} Handshake Denial of Service  . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#142"}}{\fldrslt {142}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#143"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#143"}}{\fldrslt {21.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#143"}}{\fldrslt {. }}} Amplification Attack . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#143"}}{\fldrslt {143}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#144"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#144"}}{\fldrslt {21.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#144"}}{\fldrslt {. }}} Optimistic ACK Attack  . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#144"}}{\fldrslt {144}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#144"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#144"}}{\fldrslt {21.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#144"}}{\fldrslt {. }}} Slowloris Attacks  . . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#144"}}{\fldrslt {144}}}}\par\pard\li760\ri0\sl-226\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#144"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#144"}}{\fldrslt {21.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#144"}}{\fldrslt {. }}} Stream Fragmentation and Reassembly Attacks  . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#144"}}{\fldrslt {144}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#145"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#145"}}{\fldrslt {21.6}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#145"}}{\fldrslt {. }}} Stream Commitment Attack . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#145"}}{\fldrslt {145}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#145"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#145"}}{\fldrslt {21.7}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#145"}}{\fldrslt {. }}} Peer Denial of Service . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#145"}}{\fldrslt {145}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#146"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#146"}}{\fldrslt {21.8}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#146"}}{\fldrslt {. }}} Explicit Congestion Notification Attacks . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#146"}}{\fldrslt {146}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#146"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#146"}}{\fldrslt {21.9}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#146"}}{\fldrslt {. }}} Stateless Reset Oracle . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#146"}}{\fldrslt {146}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#147"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#147"}}{\fldrslt {21.10}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#147"}}{\fldrslt {. }}}Version Downgrade  . . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#147"}}{\fldrslt {147}}}}\par\pard\li760\ri0\sl-226\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#147"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#147"}}{\fldrslt {21.11}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#147"}}{\fldrslt {. }}}Targeted Attacks by Routing  . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#147"}}{\fldrslt {147}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#147"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#147"}}{\fldrslt {21.12}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#147"}}{\fldrslt {. }}}Overview of Security Properties  . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#147"}}{\fldrslt {147}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#148"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#148"}}{\fldrslt {21.12.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#148"}}{\fldrslt {. }}} Handshake . . . . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#148"}}{\fldrslt {148}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#149"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#149"}}{\fldrslt {21.12.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#149"}}{\fldrslt {. }}} Protected Packets . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#149"}}{\fldrslt {149}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#150"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#150"}}{\fldrslt {21.12.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#150"}}{\fldrslt {. }}} Connection Migration  . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#150"}}{\fldrslt {150}}}}\par\pard\li760\ri0\sl-226\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt {22}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt {. }}}IANA Considerations . . . . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt {154}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt {22.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt {. }}} Registration Policies for QUIC Registries  . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt {154}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt {22.1.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt {. }}} Provisional Registrations  . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt {154}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#155"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#155"}}{\fldrslt {22.1.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#155"}}{\fldrslt {. }}} Selecting Codepoints . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#155"}}{\fldrslt {155}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#156"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#156"}}{\fldrslt {22.1.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#156"}}{\fldrslt {. }}} Reclaiming Provisional Codepoints  . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#156"}}{\fldrslt {156}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#157"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#157"}}{\fldrslt {22.1.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#157"}}{\fldrslt {. }}} Permanent Registrations  . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#157"}}{\fldrslt {157}}}}\par\pard\li760\ri0\sl-226\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#157"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#157"}}{\fldrslt {22.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#157"}}{\fldrslt {. }}} QUIC Transport Parameter Registry  . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#157"}}{\fldrslt {157}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#158"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#158"}}{\fldrslt {22.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#158"}}{\fldrslt {. }}} QUIC Frame Type Registry . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#158"}}{\fldrslt {158}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#159"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#159"}}{\fldrslt {22.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#159"}}{\fldrslt {. }}} QUIC Transport Error Codes Registry  . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#159"}}{\fldrslt {159}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {23}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {. }}}References  . . . . . . . . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {161}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020                [Page 5]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2038\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2039\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#6"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {23.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {. }}} Normative References . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {161}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#162"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#162"}}{\fldrslt {23.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#162"}}{\fldrslt {. }}} Informative References . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#162"}}{\fldrslt {162}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#164"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#164"}}{\fldrslt {Appendix A}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#164"}}{\fldrslt {. }}} Sample Packet Number Decoding Algorithm  . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#164"}}{\fldrslt {164}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#165"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#165"}}{\fldrslt {Appendix B}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#165"}}{\fldrslt {. }}} Sample ECN Validation Algorithm  . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#165"}}{\fldrslt {165}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#166"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#166"}}{\fldrslt {Appendix C}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#166"}}{\fldrslt {. }}} Change Log . . . . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#166"}}{\fldrslt {166}}}}\par\pard\li760\ri0\sl-226\slmult0 \*\tx2773\*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#166"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#166"}}{\fldrslt {C.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#166"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-28"}}{\fldrslt {draft-ietf-quic-transport-28}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-28"}}{\fldrslt {  }}}. . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#166"}}{\fldrslt {166}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2773\*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#166"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#166"}}{\fldrslt {C.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#166"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-27"}}{\fldrslt {draft-ietf-quic-transport-27}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-27"}}{\fldrslt {  }}}. . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#166"}}{\fldrslt {166}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2773\*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#168"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#168"}}{\fldrslt {C.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#168"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-26"}}{\fldrslt {draft-ietf-quic-transport-26}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-26"}}{\fldrslt {  }}}. . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#168"}}{\fldrslt {168}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2773\*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#168"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#168"}}{\fldrslt {C.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#168"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-25"}}{\fldrslt {draft-ietf-quic-transport-25}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-25"}}{\fldrslt {  }}}. . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#168"}}{\fldrslt {168}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2773\*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#168"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#168"}}{\fldrslt {C.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#168"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-24"}}{\fldrslt {draft-ietf-quic-transport-24}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-24"}}{\fldrslt {  }}}. . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#168"}}{\fldrslt {168}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2773\*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#169"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#169"}}{\fldrslt {C.6}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#169"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-23"}}{\fldrslt {draft-ietf-quic-transport-23}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-23"}}{\fldrslt {  }}}. . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#169"}}{\fldrslt {169}}}}\par\pard\li760\ri0\sl-226\slmult0 \*\tx2773\*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#170"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#170"}}{\fldrslt {C.7}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#170"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-22"}}{\fldrslt {draft-ietf-quic-transport-22}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-22"}}{\fldrslt {  }}}. . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#170"}}{\fldrslt {170}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2773\*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#171"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#171"}}{\fldrslt {C.8}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#171"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-21"}}{\fldrslt {draft-ietf-quic-transport-21}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-21"}}{\fldrslt {  }}}. . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#171"}}{\fldrslt {171}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2773\*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#171"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#171"}}{\fldrslt {C.9}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#171"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-20"}}{\fldrslt {draft-ietf-quic-transport-20}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-20"}}{\fldrslt {  }}}. . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#171"}}{\fldrslt {171}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2773\*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#172"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#172"}}{\fldrslt {C.10}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#172"}}{\fldrslt {. }}}Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-19"}}{\fldrslt {draft-ietf-quic-transport-19}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-19"}}{\fldrslt {  }}}. . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#172"}}{\fldrslt {172}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2773\*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#172"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#172"}}{\fldrslt {C.11}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#172"}}{\fldrslt {. }}}Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-18"}}{\fldrslt {draft-ietf-quic-transport-18}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-18"}}{\fldrslt {  }}}. . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#172"}}{\fldrslt {172}}}}\par\pard\li760\ri0\sl-226\slmult0 \*\tx2773\*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#173"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#173"}}{\fldrslt {C.12}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#173"}}{\fldrslt {. }}}Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-17"}}{\fldrslt {draft-ietf-quic-transport-17}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-17"}}{\fldrslt {  }}}. . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#173"}}{\fldrslt {173}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2773\*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#174"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#174"}}{\fldrslt {C.13}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#174"}}{\fldrslt {. }}}Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-16"}}{\fldrslt {draft-ietf-quic-transport-16}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-16"}}{\fldrslt {  }}}. . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#174"}}{\fldrslt {174}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2773\*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#175"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#175"}}{\fldrslt {C.14}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#175"}}{\fldrslt {. }}}Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-15"}}{\fldrslt {draft-ietf-quic-transport-15}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-15"}}{\fldrslt {  }}}. . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#175"}}{\fldrslt {175}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2773\*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#175"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#175"}}{\fldrslt {C.15}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#175"}}{\fldrslt {. }}}Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-14"}}{\fldrslt {draft-ietf-quic-transport-14}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-14"}}{\fldrslt {  }}}. . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#175"}}{\fldrslt {175}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2773\*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#175"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#175"}}{\fldrslt {C.16}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#175"}}{\fldrslt {. }}}Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-13"}}{\fldrslt {draft-ietf-quic-transport-13}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-13"}}{\fldrslt {  }}}. . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#175"}}{\fldrslt {175}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2773\*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#176"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#176"}}{\fldrslt {C.17}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#176"}}{\fldrslt {. }}}Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-12"}}{\fldrslt {draft-ietf-quic-transport-12}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-12"}}{\fldrslt {  }}}. . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#176"}}{\fldrslt {176}}}}\par\pard\li760\ri0\sl-226\slmult0 \*\tx2773\*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#177"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#177"}}{\fldrslt {C.18}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#177"}}{\fldrslt {. }}}Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-11"}}{\fldrslt {draft-ietf-quic-transport-11}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-11"}}{\fldrslt {  }}}. . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#177"}}{\fldrslt {177}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2773\*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#177"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#177"}}{\fldrslt {C.19}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#177"}}{\fldrslt {. }}}Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-10"}}{\fldrslt {draft-ietf-quic-transport-10}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-10"}}{\fldrslt {  }}}. . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#177"}}{\fldrslt {177}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2773\*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#178"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#178"}}{\fldrslt {C.20}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#178"}}{\fldrslt {. }}}Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-09"}}{\fldrslt {draft-ietf-quic-transport-09}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-09"}}{\fldrslt {  }}}. . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#178"}}{\fldrslt {178}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2773\*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#179"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#179"}}{\fldrslt {C.21}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#179"}}{\fldrslt {. }}}Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-08"}}{\fldrslt {draft-ietf-quic-transport-08}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-08"}}{\fldrslt {  }}}. . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#179"}}{\fldrslt {179}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2773\*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#179"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#179"}}{\fldrslt {C.22}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#179"}}{\fldrslt {. }}}Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-07"}}{\fldrslt {draft-ietf-quic-transport-07}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-07"}}{\fldrslt {  }}}. . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#179"}}{\fldrslt {179}}}}\par\pard\li760\ri0\sl-226\slmult0 \*\tx2773\*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#180"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#180"}}{\fldrslt {C.23}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#180"}}{\fldrslt {. }}}Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-06"}}{\fldrslt {draft-ietf-quic-transport-06}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-06"}}{\fldrslt {  }}}. . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#180"}}{\fldrslt {180}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2773\*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#180"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#180"}}{\fldrslt {C.24}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#180"}}{\fldrslt {. }}}Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-05"}}{\fldrslt {draft-ietf-quic-transport-05}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-05"}}{\fldrslt {  }}}. . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#180"}}{\fldrslt {180}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2773\*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#181"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#181"}}{\fldrslt {C.25}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#181"}}{\fldrslt {. }}}Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-04"}}{\fldrslt {draft-ietf-quic-transport-04}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-04"}}{\fldrslt {  }}}. . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#181"}}{\fldrslt {181}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2773\*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#181"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#181"}}{\fldrslt {C.26}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#181"}}{\fldrslt {. }}}Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-03"}}{\fldrslt {draft-ietf-quic-transport-03}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-03"}}{\fldrslt {  }}}. . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#181"}}{\fldrslt {181}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2773\*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#182"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#182"}}{\fldrslt {C.27}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#182"}}{\fldrslt {. }}}Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-02"}}{\fldrslt {draft-ietf-quic-transport-02}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-02"}}{\fldrslt {  }}}. . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#182"}}{\fldrslt {182}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2773\*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#182"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#182"}}{\fldrslt {C.28}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#182"}}{\fldrslt {. }}}Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-01"}}{\fldrslt {draft-ietf-quic-transport-01}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-01"}}{\fldrslt {  }}}. . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#182"}}{\fldrslt {182}}}}\par\pard\li760\ri0\sl-226\slmult0 \*\tx2773\*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#184"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#184"}}{\fldrslt {C.29}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#184"}}{\fldrslt {. }}}Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-00"}}{\fldrslt {draft-ietf-quic-transport-00}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-00"}}{\fldrslt {  }}}. . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#184"}}{\fldrslt {184}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2773\*\tx8946\fs20\cf0\f1\charscalex100 {    {\field{\*\fldinst{HYPERLINK "#185"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#185"}}{\fldrslt {C.30}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#185"}}{\fldrslt {. }}}Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-hamilton-quic-transport-protocol-01"}}{\fldrslt {draft-hamilton-quic-transport-protocol-01}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-hamilton-quic-transport-protocol-01"}}{\fldrslt { . }}}. . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#185"}}{\fldrslt {185}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {   Contributors  . . . . . . . . . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#185"}}{\fldrslt {185}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8946\fs20\cf0\f1\charscalex100 {   Authors\uc1\u8217X Addresses  . . . . . . . . . . . . . . . . . . . . . . .}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#186"}}{\fldrslt {186}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#6"}}{\fldrslt {1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#6"}}{\fldrslt {. }}} Introduction}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC is a multiplexed and secure general-purpose transport protocol}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that provides:}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Stream multiplexing}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Stream and connection-level flow control}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Low-latency connection establishment}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-306\slmult0 \fs20\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020                [Page 6]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2040\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2041\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#7"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   *  Connection migration and resilience to NAT rebinding}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Authenticated and encrypted header and payload}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC uses UDP as a substrate to avoid requiring changes to legacy}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   client operating systems and middleboxes.  QUIC authenticates all of}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   its headers and encrypts most of the data it exchanges, including its}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   signaling, to avoid incurring a dependency on middleboxes.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#7"}}{\fldrslt {1.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#7"}}{\fldrslt {. }}} Document Structure}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   This document describes the core QUIC protocol and is structured as}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   follows:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Streams are the basic service abstraction that QUIC provides.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {      - {\field{\*\fldinst{HYPERLINK "#10"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#10"}}{\fldrslt {Section 2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#10"}}{\fldrslt { describes }}}core concepts related to streams,}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      - {\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt {Section 3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt { provides }}}a reference model for stream states, and}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      - {\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt {Section 4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt { outlines }}}the operation of flow control.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Connections are the context in which QUIC endpoints communicate.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      - {\field{\*\fldinst{HYPERLINK "#27"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#27"}}{\fldrslt {Section 5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#27"}}{\fldrslt { describes }}}core concepts related to connections,}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      - {\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt {Section 6}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt { describes }}}version negotiation,}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {      - {\field{\*\fldinst{HYPERLINK "#38"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#38"}}{\fldrslt {Section 7}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#38"}}{\fldrslt { details }}}the process for establishing connections,}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      - {\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {Section 8}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt { specifies }}}critical denial of service mitigation}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {         mechanisms,}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {      - {\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {Section 9}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt { describes }}}how endpoints migrate a connection to a new}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {         network path,}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      - {\field{\*\fldinst{HYPERLINK "#64"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#64"}}{\fldrslt {Section 10}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#64"}}{\fldrslt { lists }}}the options for terminating an open}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {         connection, and}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {      - {\field{\*\fldinst{HYPERLINK "#75"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#75"}}{\fldrslt {Section 11}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#75"}}{\fldrslt { provides }}}general guidance for error handling.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  Packets and frames are the basic unit used by QUIC to communicate.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      - {\field{\*\fldinst{HYPERLINK "#77"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#77"}}{\fldrslt {Section 12}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#77"}}{\fldrslt { describes }}}concepts related to packets and frames,}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {      - {\field{\*\fldinst{HYPERLINK "#83"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#83"}}{\fldrslt {Section 13}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#83"}}{\fldrslt { defines }}}models for the transmission, retransmission,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {         and acknowledgement of data, and}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020                [Page 7]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2042\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2043\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#8"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {      - {\field{\*\fldinst{HYPERLINK "#95"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#95"}}{\fldrslt {Section 14}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#95"}}{\fldrslt { specifies }}}rules for managing the size of packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Finally, encoding details of QUIC protocol elements are described}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      in:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {      - {\field{\*\fldinst{HYPERLINK "#99"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#99"}}{\fldrslt {Section 15}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#99"}}{\fldrslt { (Versions),}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      - {\field{\*\fldinst{HYPERLINK "#100"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#100"}}{\fldrslt {Section 16}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#100"}}{\fldrslt { (Integer }}}Encoding),}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      - {\field{\*\fldinst{HYPERLINK "#101"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#101"}}{\fldrslt {Section 17}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#101"}}{\fldrslt { (Packet }}}Headers),}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {      - {\field{\*\fldinst{HYPERLINK "#116"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#116"}}{\fldrslt {Section 18}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#116"}}{\fldrslt { (Transport }}}Parameters),}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      - {\field{\*\fldinst{HYPERLINK "#121"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#121"}}{\fldrslt {Section 19}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#121"}}{\fldrslt { (Frames), }}}and}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      - {\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {Section 20}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt { (Errors).}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Accompanying documents describe QUIC\uc1\u8217Xs loss detection and congestion}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   control {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-RECOVERY}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {], }}}and the use of TLS for key negotiation}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt { [}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {].}}}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   This document defines QUIC version 1, which conforms to the protocol}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   invariants in {\field{\*\fldinst{HYPERLINK "#163"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#163"}}{\fldrslt {QUIC-INVARIANTS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#163"}}{\fldrslt {].}}}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   To refer to QUIC version 1, cite this document.  References to the}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   limited set of version-independent properties of QUIC can cite}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#163"}}{\fldrslt { [}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#163"}}{\fldrslt {QUIC-INVARIANTS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#163"}}{\fldrslt {].}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#8"}}{\fldrslt {1.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#8"}}{\fldrslt {. }}} Terms and Definitions}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   "OPTIONAL" in this document are to be interpreted as described in}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/bcp14"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/bcp14"}}{\fldrslt {BCP 14}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/bcp14"}}{\fldrslt { [}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc2119"}}{\fldrslt {RFC2119}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc2119"}}{\fldrslt {] }}}{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8174"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8174"}}{\fldrslt {RFC8174}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8174"}}{\fldrslt {] }}}when, and only when, they appear in all}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   capitals, as shown here.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Commonly used terms in the document are described below.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC:  The transport protocol described by this document.  QUIC is a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      name, not an acronym.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC packet:  A complete processable unit of QUIC that can be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      encapsulated in a UDP datagram.  Multiple QUIC packets can be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      encapsulated in a single UDP datagram.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Ack-eliciting Packet:  A QUIC packet that contains frames other than}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      ACK, PADDING, and CONNECTION_CLOSE.  These cause a recipient to}\par\pard\li760\ri0\sl-240\slmult0 \*\tx4786\fs20\cf0\f1\charscalex100 {      send an acknowledgment; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#85"}}{\fldrslt {Section 13.2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#85"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020                [Page 8]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2044\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2045\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#9"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   Out-of-order packet:  A packet that does not increase the largest}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      received packet number for its packet number space {\field{\*\fldinst{HYPERLINK "#79"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#79"}}{\fldrslt {Section 12.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#79"}}{\fldrslt {)}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      by exactly one.  A packet can arrive out of order if it is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      delayed, if earlier packets are lost or delayed, or if the sender}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      intentionally skips a packet number.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Endpoint:  An entity that can participate in a QUIC connection by}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      generating, receiving, and processing QUIC packets.  There are}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      only two types of endpoint in QUIC: client and server.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Client:  The endpoint initiating a QUIC connection.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Server:  The endpoint accepting incoming QUIC connections.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Address:  When used without qualification, the tuple of IP version,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      IP address, UDP protocol, and UDP port number that represents one}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      end of a network path.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Connection ID:  An opaque identifier that is used to identify a QUIC}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      connection at an endpoint.  Each endpoint sets a value for its}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      peer to include in packets sent towards the endpoint.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Stream:  A unidirectional or bidirectional channel of ordered bytes}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      within a QUIC connection.  A QUIC connection can carry multiple}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      simultaneous streams.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Application:  An entity that uses QUIC to send and receive data.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#9"}}{\fldrslt {1.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#9"}}{\fldrslt {. }}} Notational Conventions}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   Packet and frame diagrams in this document use a bespoke format.  The}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   purpose of this format is to summarize, not define, protocol}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   elements.  Prose defines the complete semantics and details of}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   structures.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Complex fields are named and then followed by a list of fields}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   surrounded by a pair of matching braces.  Each field in this list is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   separated by commas.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Individual fields include length information, plus indications about}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   fixed value, optionality, or repetitions.  Individual fields use the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   following notational conventions, with all lengths in bits:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   x (A):  Indicates that x is A bits long}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   x (i):  Indicates that x uses the variable-length encoding in}\par\pard\li1466\ri0\sl-240\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#100"}}{\fldrslt {Section 16}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020                [Page 9]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2046\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2047\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#10"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   x (A..B):  Indicates that x can be any length from A to B; A can be}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      omitted to indicate a minimum of zero bits and B can be omitted to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      indicate no set upper limit; values in this format always end on}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      an octet boundary}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   x (?) = C:  Indicates that x has a fixed value of C}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   x (?) = C..D:  Indicates that x has a value in the range from C to D,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      inclusive}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   [x (E)]:  Indicates that x is optional (and has length of E)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   x (E) ...:  Indicates that x is repeated zero or more times (and that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      each instance is length E)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   This document uses network byte order (that is, big endian) values.}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   Fields are placed starting from the high-order bits of each byte.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   By convention, individual fields reference a complex field by using}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the name of the complex field.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   For example:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Example Structure \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     One-bit Field (1),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     7-bit Field with Fixed Value (7) = 61,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Field with Variable-Length Integer (i),}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     Arbitrary-Length Field (..),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Variable-Length Field (8..24),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Field With Minimum Length (16..),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Field With Maximum Length (..128),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     [Optional Field (64)],}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Repeated Field (8) ...,}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {                          Figure 1: Example Format}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#10"}}{\fldrslt {2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#10"}}{\fldrslt {. }}} Streams}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Streams in QUIC provide a lightweight, ordered byte-stream}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   abstraction to an application.  Streams can be unidirectional or}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   bidirectional.  An alternative view of QUIC unidirectional streams is}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   a "message" abstraction of practically unlimited length.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs20\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 10]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2048\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2049\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#11"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   Streams can be created by sending data.  Other processes associated}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   with stream management - ending, cancelling, and managing flow}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   control - are all designed to impose minimal overheads.  For}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   instance, a single STREAM frame {\field{\*\fldinst{HYPERLINK "#129"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#129"}}{\fldrslt {Section 19.8}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#129"}}{\fldrslt {) }}}can open, carry data}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   for, and close a stream.  Streams can also be long-lived and can last}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   the entire duration of a connection.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   Streams can be created by either endpoint, can concurrently send data}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   interleaved with other streams, and can be cancelled.  QUIC does not}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   provide any means of ensuring ordering between bytes on different}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   streams.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC allows for an arbitrary number of streams to operate}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   concurrently and for an arbitrary amount of data to be sent on any}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   stream, subject to flow control constraints and stream limits; see}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt {Section 4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#11"}}{\fldrslt {2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#11"}}{\fldrslt {. }}} Stream Types and Identifiers}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Streams can be unidirectional or bidirectional.  Unidirectional}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   streams carry data in one direction: from the initiator of the stream}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   to its peer.  Bidirectional streams allow for data to be sent in both}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   directions.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Streams are identified within a connection by a numeric value,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   referred to as the stream ID.  A stream ID is a 62-bit integer (0 to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   2^62-1) that is unique for all streams on a connection.  Stream IDs}\par\pard\li760\ri0\sl-226\slmult0 \*\tx6453\fs20\cf0\f1\charscalex100 {   are encoded as variable-length integers; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#100"}}{\fldrslt {Section 16}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#100"}}{\fldrslt {. }}} A QUIC}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint MUST NOT reuse a stream ID within a connection.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The least significant bit (0x1) of the stream ID identifies the}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   initiator of the stream.  Client-initiated streams have even-numbered}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   stream IDs (with the bit set to 0), and server-initiated streams have}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   odd-numbered stream IDs (with the bit set to 1).}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   The second least significant bit (0x2) of the stream ID distinguishes}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   between bidirectional streams (with the bit set to 0) and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   unidirectional streams (with the bit set to 1).}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The least significant two bits from a stream ID therefore identify a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   stream as one of four types, as summarized in Table 1.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 11]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2050\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2051\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#12"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {                +------+----------------------------------+}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {                | Bits | Stream Type                      |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {                +======+==================================+}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {                | 0x0  | Client-Initiated, Bidirectional  |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {                +------+----------------------------------+}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {                | 0x1  | Server-Initiated, Bidirectional  |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {                +------+----------------------------------+}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {                | 0x2  | Client-Initiated, Unidirectional |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {                +------+----------------------------------+}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {                | 0x3  | Server-Initiated, Unidirectional |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {                +------+----------------------------------+}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {                          Table 1: Stream ID Types}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Within each type, streams are created with numerically increasing}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   stream IDs.  A stream ID that is used out of order results in all}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   streams of that type with lower-numbered stream IDs also being}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   opened.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The first bidirectional stream opened by the client has a stream ID}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   of 0.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#12"}}{\fldrslt {2.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#12"}}{\fldrslt {. }}} Sending and Receiving Data}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   STREAM frames {\field{\*\fldinst{HYPERLINK "#129"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#129"}}{\fldrslt {Section 19.8}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#129"}}{\fldrslt {) }}}encapsulate data sent by an application.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint uses the Stream ID and Offset fields in STREAM frames to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   place data in order.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   Endpoints MUST be able to deliver stream data to an application as an}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   ordered byte-stream.  Delivering an ordered byte-stream requires that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   an endpoint buffer any data that is received out of order, up to the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   advertised flow control limit.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC makes no specific allowances for delivery of stream data out of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   order.  However, implementations MAY choose to offer the ability to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   deliver data out of order to a receiving application.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   An endpoint could receive data for a stream at the same stream offset}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   multiple times.  Data that has already been received can be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   discarded.  The data at a given offset MUST NOT change if it is sent}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   multiple times; an endpoint MAY treat receipt of different data at}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the same offset within a stream as a connection error of type}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   PROTOCOL_VIOLATION.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Streams are an ordered byte-stream abstraction with no other}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   structure visible to QUIC.  STREAM frame boundaries are not expected}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to be preserved when data is transmitted, retransmitted after packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   loss, or delivered to the application at a receiver.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 12]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2052\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2053\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#13"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs18\cf0\f1\charscalex100 {   An endpoint MUST NOT send data on any stream without ensuring that it}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   is within the flow control limits set by its peer.  Flow control is}\par\pard\li760\ri0\sl-240\slmult0 \*\tx3840\fs20\cf0\f1\charscalex100 {   described in detail in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt {Section 4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#13"}}{\fldrslt {2.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#13"}}{\fldrslt {. }}} Stream Prioritization}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Stream multiplexing can have a significant effect on application}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   performance if resources allocated to streams are correctly}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   prioritized.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC does not provide a mechanism for exchanging prioritization}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   information.  Instead, it relies on receiving priority information}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   from the application that uses QUIC.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   A QUIC implementation SHOULD provide ways in which an application can}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   indicate the relative priority of streams.  When deciding the streams}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   to which resources are dedicated, the implementation SHOULD use the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   information provided by the application.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#13"}}{\fldrslt {2.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#13"}}{\fldrslt {. }}} Required Operations on Streams}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   There are certain operations that an application MUST be able to}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   perform when interacting with QUIC streams.  This document does not}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   specify an API, but any implementation of this version of QUIC MUST}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   expose the ability to perform the operations described in this}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   section on a QUIC stream.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   On the sending part of a stream, application protocols need to be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   able to:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  write data, understanding when stream flow control credit}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt {Section 4.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt {) }}}has successfully been reserved to send the written}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      data;}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  end the stream (clean termination), resulting in a STREAM frame}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#129"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#129"}}{\fldrslt {Section 19.8}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#129"}}{\fldrslt {) }}}with the FIN bit set; and}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  reset the stream (abrupt termination), resulting in a RESET_STREAM}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      frame {\field{\*\fldinst{HYPERLINK "#126"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#126"}}{\fldrslt {Section 19.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#126"}}{\fldrslt {), }}}if the stream was not already in a terminal}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      state.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   On the receiving part of a stream, application protocols need to be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   able to:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  read data; and}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  abort reading of the stream and request closure, possibly}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      resulting in a STOP_SENDING frame {\field{\*\fldinst{HYPERLINK "#127"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#127"}}{\fldrslt {Section 19.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#127"}}{\fldrslt {).}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 13]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2054\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2055\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   Applications also need to be informed of state changes on streams,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   including when the peer has opened or reset a stream, when a peer}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   aborts reading on a stream, when new data is available, and when data}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   can or cannot be written to the stream due to flow control.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt {3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt {. }}} Stream States}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   This section describes streams in terms of their send or receive}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   components.  Two state machines are described: one for the streams on}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   which an endpoint transmits data {\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt {Section 3.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt {), }}}and another for}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   streams on which an endpoint receives data {\field{\*\fldinst{HYPERLINK "#17"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#17"}}{\fldrslt {Section 3.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#17"}}{\fldrslt {).}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Unidirectional streams use the applicable state machine directly.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Bidirectional streams use both state machines.  For the most part,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the use of these state machines is the same whether the stream is}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   unidirectional or bidirectional.  The conditions for opening a stream}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   are slightly more complex for a bidirectional stream because the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   opening of either the send or receive side causes the stream to open}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   in both directions.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   An endpoint MUST open streams of the same type in increasing order of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   stream ID.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Note:  These states are largely informative.  This document uses}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      stream states to describe rules for when and how different types}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      of frames can be sent and the reactions that are expected when}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      different types of frames are received.  Though these state}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      machines are intended to be useful in implementing QUIC, these}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      states aren\uc1\u8217Xt intended to constrain implementations.  An}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      implementation can define a different state machine as long as its}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      behavior is consistent with an implementation that implements}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      these states.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt {3.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt {. }}} Sending Stream States}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   Figure 2 shows the states for the part of a stream that sends data to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   a peer.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-360\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 14]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2056\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2057\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#15"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {          o}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          | Create Stream (Sending)}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          | Peer Creates Bidirectional Stream}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          v}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      | Ready | Send RESET_STREAM}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      |       |-----------------------.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+                       |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          |                           |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          | Send STREAM /             |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          |      STREAM_DATA_BLOCKED  |}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {          |                           |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          | Peer Creates              |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          |      Bidirectional Stream |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          v                           |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+                       |}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      | Send  | Send RESET_STREAM     |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      |       |---------------------->|}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+                       |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          |                           |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          | Send STREAM + FIN         |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          v                           v}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+                   +-------+}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      | Data  | Send RESET_STREAM | Reset |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      | Sent  |------------------>| Sent  |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+                   +-------+}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          |                           |}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {          | Recv All ACKs             | Recv ACK}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          v                           v}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+                   +-------+}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      | Data  |                   | Reset |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      | Recvd |                   | Recvd |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+                   +-------+}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {               Figure 2: States for Sending Parts of Streams}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   The sending part of a stream that the endpoint initiates (types 0 and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   2 for clients, 1 and 3 for servers) is opened by the application.}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   The "Ready" state represents a newly created stream that is able to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   accept data from the application.  Stream data might be buffered in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   this state in preparation for sending.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Sending the first STREAM or STREAM_DATA_BLOCKED frame causes a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   sending part of a stream to enter the "Send" state.  An}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   implementation might choose to defer allocating a stream ID to a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   stream until it sends the first STREAM frame and enters this state,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   which can allow for better stream prioritization.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 15]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2058\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2059\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#16"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   The sending part of a bidirectional stream initiated by a peer (type}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   0 for a server, type 1 for a client) starts in the "Ready" state when}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the receiving part is created.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   In the "Send" state, an endpoint transmits - and retransmits as}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   necessary - stream data in STREAM frames.  The endpoint respects the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   flow control limits set by its peer, and continues to accept and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   process MAX_STREAM_DATA frames.  An endpoint in the "Send" state}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   generates STREAM_DATA_BLOCKED frames if it is blocked from sending by}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5986\fs20\cf0\f1\charscalex100 {   stream or connection flow control limits}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt {Section 4.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   After the application indicates that all stream data has been sent}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   and a STREAM frame containing the FIN bit is sent, the sending part}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   of the stream enters the "Data Sent" state.  From this state, the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint only retransmits stream data as necessary.  The endpoint}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   does not need to check flow control limits or send}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   STREAM_DATA_BLOCKED frames for a stream in this state.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   MAX_STREAM_DATA frames might be received until the peer receives the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   final stream offset.  The endpoint can safely ignore any}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   MAX_STREAM_DATA frames it receives from its peer for a stream in this}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   state.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Once all stream data has been successfully acknowledged, the sending}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   part of the stream enters the "Data Recvd" state, which is a terminal}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   state.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   From any of the "Ready", "Send", or "Data Sent" states, an}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   application can signal that it wishes to abandon transmission of}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   stream data.  Alternatively, an endpoint might receive a STOP_SENDING}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   frame from its peer.  In either case, the endpoint sends a}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   RESET_STREAM frame, which causes the stream to enter the "Reset Sent"}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   state.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint MAY send a RESET_STREAM as the first frame that mentions}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   a stream; this causes the sending part of that stream to open and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   then immediately transition to the "Reset Sent" state.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Once a packet containing a RESET_STREAM has been acknowledged, the}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   sending part of the stream enters the "Reset Recvd" state, which is a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   terminal state.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-293\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 16]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2060\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2061\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#17"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#17"}}{\fldrslt {3.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#17"}}{\fldrslt {. }}} Receiving Stream States}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   Figure 3 shows the states for the part of a stream that receives data}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   from a peer.  The states for a receiving part of a stream mirror only}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   some of the states of the sending part of the stream at the peer.}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   The receiving part of a stream does not track states on the sending}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   part that cannot be observed, such as the "Ready" state.  Instead,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the receiving part of a stream tracks the delivery of data to the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   application, some of which cannot be observed by the sender.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {          o}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {          | Recv STREAM / STREAM_DATA_BLOCKED / RESET_STREAM}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          | Create Bidirectional Stream (Sending)}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          | Recv MAX_STREAM_DATA / STOP_SENDING (Bidirectional)}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          | Create Higher-Numbered Stream}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          v}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      | Recv  | Recv RESET_STREAM}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      |       |-----------------------.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+                       |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          |                           |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          | Recv STREAM + FIN         |}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {          v                           |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+                       |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      | Size  | Recv RESET_STREAM     |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      | Known |---------------------->|}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+                       |}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {          |                           |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          | Recv All Data             |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          v                           v}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+ Recv RESET_STREAM +-------+}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      | Data  |--- (optional) --->| Reset |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      | Recvd |  Recv All Data    | Recvd |}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+<-- (optional) ----+-------+}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          |                           |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          | App Read All Data         | App Read RST}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          v                           v}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+                   +-------+}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      | Data  |                   | Reset |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      | Read  |                   | Read  |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+                   +-------+}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {              Figure 3: States for Receiving Parts of Streams}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   The receiving part of a stream initiated by a peer (types 1 and 3 for}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   a client, or 0 and 2 for a server) is created when the first STREAM,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   STREAM_DATA_BLOCKED, or RESET_STREAM frame is received for that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   stream.  For bidirectional streams initiated by a peer, receipt of a}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 17]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2062\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2063\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#18"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   MAX_STREAM_DATA or STOP_SENDING frame for the sending part of the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   stream also creates the receiving part.  The initial state for the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   receiving part of stream is "Recv".}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The receiving part of a stream enters the "Recv" state when the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   sending part of a bidirectional stream initiated by the endpoint}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   (type 0 for a client, type 1 for a server) enters the "Ready" state.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint opens a bidirectional stream when a MAX_STREAM_DATA or}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   STOP_SENDING frame is received from the peer for that stream.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Receiving a MAX_STREAM_DATA frame for an unopened stream indicates}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   that the remote peer has opened the stream and is providing flow}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   control credit.  Receiving a STOP_SENDING frame for an unopened}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   stream indicates that the remote peer no longer wishes to receive}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   data on this stream.  Either frame might arrive before a STREAM or}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   STREAM_DATA_BLOCKED frame if packets are lost or reordered.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Before a stream is created, all streams of the same type with lower-}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   numbered stream IDs MUST be created.  This ensures that the creation}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   order for streams is consistent on both endpoints.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   In the "Recv" state, the endpoint receives STREAM and}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   STREAM_DATA_BLOCKED frames.  Incoming data is buffered and can be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   reassembled into the correct order for delivery to the application.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   As data is consumed by the application and buffer space becomes}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   available, the endpoint sends MAX_STREAM_DATA frames to allow the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   peer to send more data.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   When a STREAM frame with a FIN bit is received, the final size of the}\par\pard\li760\ri0\sl-240\slmult0 \*\tx3600\fs20\cf0\f1\charscalex100 {   stream is known; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#26"}}{\fldrslt {Section 4.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#26"}}{\fldrslt {. }}} The receiving part of the stream}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   then enters the "Size Known" state.  In this state, the endpoint no}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   longer needs to send MAX_STREAM_DATA frames, it only receives any}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   retransmissions of stream data.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Once all data for the stream has been received, the receiving part}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   enters the "Data Recvd" state.  This might happen as a result of}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   receiving the same STREAM frame that causes the transition to "Size}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Known".  After all data has been received, any STREAM or}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   STREAM_DATA_BLOCKED frames for the stream can be discarded.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The "Data Recvd" state persists until stream data has been delivered}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to the application.  Once stream data has been delivered, the stream}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   enters the "Data Read" state, which is a terminal state.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Receiving a RESET_STREAM frame in the "Recv" or "Size Known" states}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   causes the stream to enter the "Reset Recvd" state.  This might cause}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the delivery of stream data to the application to be interrupted.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-333\slmult0 \fs20\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 18]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2064\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2065\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#19"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   It is possible that all stream data is received when a RESET_STREAM}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   is received (that is, from the "Data Recvd" state).  Similarly, it is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   possible for remaining stream data to arrive after receiving a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   RESET_STREAM frame (the "Reset Recvd" state).  An implementation is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   free to manage this situation as it chooses.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   Sending RESET_STREAM means that an endpoint cannot guarantee delivery}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   of stream data; however there is no requirement that stream data not}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   be delivered if a RESET_STREAM is received.  An implementation MAY}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   interrupt delivery of stream data, discard any data that was not}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   consumed, and signal the receipt of the RESET_STREAM.  A RESET_STREAM}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   signal might be suppressed or withheld if stream data is completely}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   received and is buffered to be read by the application.  If the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   RESET_STREAM is suppressed, the receiving part of the stream remains}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   in "Data Recvd".}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Once the application receives the signal indicating that the stream}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   was reset, the receiving part of the stream transitions to the "Reset}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Read" state, which is a terminal state.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#19"}}{\fldrslt {3.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#19"}}{\fldrslt {. }}} Permitted Frame Types}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The sender of a stream sends just three frame types that affect the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   state of a stream at either sender or receiver: STREAM}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#129"}}{\fldrslt { (}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#129"}}{\fldrslt {Section 19.8}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#129"}}{\fldrslt {), }}}STREAM_DATA_BLOCKED {\field{\*\fldinst{HYPERLINK "#134"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#134"}}{\fldrslt {Section 19.13}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#134"}}{\fldrslt {), }}}and RESET_STREAM}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#126"}}{\fldrslt { (}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#126"}}{\fldrslt {Section 19.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#126"}}{\fldrslt {).}}}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A sender MUST NOT send any of these frames from a terminal state}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   ("Data Recvd" or "Reset Recvd").  A sender MUST NOT send a STREAM or}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   STREAM_DATA_BLOCKED frame for a stream in the "Reset Sent" state or}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   any terminal state, that is, after sending a RESET_STREAM frame.  A}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   receiver could receive any of these three frames in any state, due to}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the possibility of delayed delivery of packets carrying them.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The receiver of a stream sends MAX_STREAM_DATA {\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt {Section 19.10}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt {) }}}and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   STOP_SENDING frames {\field{\*\fldinst{HYPERLINK "#127"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#127"}}{\fldrslt {Section 19.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#127"}}{\fldrslt {).}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The receiver only sends MAX_STREAM_DATA in the "Recv" state.  A}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   receiver MAY send STOP_SENDING in any state where it has not received}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   a RESET_STREAM frame; that is states other than "Reset Recvd" or}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   "Reset Read".  However there is little value in sending a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   STOP_SENDING frame in the "Data Recvd" state, since all stream data}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   has been received.  A sender could receive either of these two frames}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   in any state as a result of delayed delivery of packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-186\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 19]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2066\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2067\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#20"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#20"}}{\fldrslt {3.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#20"}}{\fldrslt {. }}} Bidirectional Stream States}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A bidirectional stream is composed of sending and receiving parts.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Implementations may represent states of the bidirectional stream as}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   composites of sending and receiving stream states.  The simplest}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   model presents the stream as "open" when either sending or receiving}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   parts are in a non-terminal state and "closed" when both sending and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   receiving streams are in terminal states.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Table 2 shows a more complex mapping of bidirectional stream states}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that loosely correspond to the stream states in HTTP/2 {\field{\*\fldinst{HYPERLINK "#163"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#163"}}{\fldrslt {HTTP2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#163"}}{\fldrslt {]. }}} This}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   shows that multiple states on sending or receiving parts of streams}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   are mapped to the same composite state.  Note that this is just one}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   possibility for such a mapping; this mapping requires that data is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   acknowledged before the transition to a "closed" or "half-closed"}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   state.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 20]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2068\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2069\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#21"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {     +----------------------+----------------------+-----------------+}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     | Sending Part         | Receiving Part       | Composite State |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     +======================+======================+=================+}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     | No Stream/Ready      | No Stream/Recv *1    | idle            |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     +----------------------+----------------------+-----------------+}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     | Ready/Send/Data Sent | Recv/Size Known      | open            |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     +----------------------+----------------------+-----------------+}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     | Ready/Send/Data Sent | Data Recvd/Data Read | half-closed     |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     |                      |                      | (remote)        |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     +----------------------+----------------------+-----------------+}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     | Ready/Send/Data Sent | Reset Recvd/Reset    | half-closed     |}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     |                      | Read                 | (remote)        |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     +----------------------+----------------------+-----------------+}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     | Data Recvd           | Recv/Size Known      | half-closed     |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     |                      |                      | (local)         |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     +----------------------+----------------------+-----------------+}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     | Reset Sent/Reset     | Recv/Size Known      | half-closed     |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     | Recvd                |                      | (local)         |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     +----------------------+----------------------+-----------------+}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     | Reset Sent/Reset     | Data Recvd/Data Read | closed          |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     | Recvd                |                      |                 |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     +----------------------+----------------------+-----------------+}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     | Reset Sent/Reset     | Reset Recvd/Reset    | closed          |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     | Recvd                | Read                 |                 |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     +----------------------+----------------------+-----------------+}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     | Data Recvd           | Data Recvd/Data Read | closed          |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     +----------------------+----------------------+-----------------+}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     | Data Recvd           | Reset Recvd/Reset    | closed          |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     |                      | Read                 |                 |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     +----------------------+----------------------+-----------------+}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {            Table 2: Possible Mapping of Stream States to HTTP/2}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Note (*1):  A stream is considered "idle" if it has not yet been}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      created, or if the receiving part of the stream is in the "Recv"}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      state without yet having received any frames.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#21"}}{\fldrslt {3.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#21"}}{\fldrslt {. }}} Solicited State Transitions}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   If an application is no longer interested in the data it is receiving}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   on a stream, it can abort reading the stream and specify an}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   application error code.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 21]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2070\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2071\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#22"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   If the stream is in the "Recv" or "Size Known" states, the transport}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   SHOULD signal this by sending a STOP_SENDING frame to prompt closure}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   of the stream in the opposite direction.  This typically indicates}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that the receiving application is no longer reading data it receives}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   from the stream, but it is not a guarantee that incoming data will be}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   ignored.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   STREAM frames received after sending a STOP_SENDING frame are still}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   counted toward connection and stream flow control, even though these}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   frames can be discarded upon receipt.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A STOP_SENDING frame requests that the receiving endpoint send a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   RESET_STREAM frame.  An endpoint that receives a STOP_SENDING frame}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   MUST send a RESET_STREAM frame if the stream is in the Ready or Send}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   state.  If the stream is in the Data Sent state and any outstanding}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   data is declared lost, an endpoint SHOULD send a RESET_STREAM frame}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   in lieu of a retransmission.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   An endpoint SHOULD copy the error code from the STOP_SENDING frame to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the RESET_STREAM frame it sends, but MAY use any application error}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   code.  The endpoint that sends a STOP_SENDING frame MAY ignore the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   error code carried in any RESET_STREAM frame it receives.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   If the STOP_SENDING frame is received on a stream that is already in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the "Data Sent" state, an endpoint that wishes to cease}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   retransmission of previously-sent STREAM frames on that stream MUST}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   first send a RESET_STREAM frame.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   STOP_SENDING SHOULD only be sent for a stream that has not been reset}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   by the peer.  STOP_SENDING is most useful for streams in the "Recv"}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   or "Size Known" states.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint is expected to send another STOP_SENDING frame if a}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   packet containing a previous STOP_SENDING is lost.  However, once}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   either all stream data or a RESET_STREAM frame has been received for}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   the stream - that is, the stream is in any state other than "Recv" or}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   "Size Known" - sending a STOP_SENDING frame is unnecessary.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint that wishes to terminate both directions of a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   bidirectional stream can terminate one direction by sending a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   RESET_STREAM frame, and it can encourage prompt termination in the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   opposite direction by sending a STOP_SENDING frame.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 22]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2072\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2073\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt {4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt {. }}} Flow Control}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   It is necessary to limit the amount of data that a receiver could}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   buffer, to prevent a fast sender from overwhelming a slow receiver,}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   or to prevent a malicious sender from consuming a large amount of}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   memory at a receiver.  To enable a receiver to limit memory}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   commitment to a connection and to apply back pressure on the sender,}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   streams are flow controlled both individually and as an aggregate.  A}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC receiver controls the maximum amount of data the sender can send}\par\pard\li746\ri0\sl-240\slmult0 \*\tx5986\*\tx7880\fs20\cf0\f1\charscalex100 {   on a stream at any time, as described in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt {Section 4.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt { and}}}}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#24"}}{\fldrslt {Section 4.2}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Similarly, to limit concurrency within a connection, a QUIC endpoint}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   controls the maximum cumulative number of streams that its peer can}\par\pard\li760\ri0\sl-240\slmult0 \*\tx4200\fs20\cf0\f1\charscalex100 {   initiate, as described in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#27"}}{\fldrslt {Section 4.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#27"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Data sent in CRYPTO frames is not flow controlled in the same way as}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   stream data.  QUIC relies on the cryptographic protocol}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   implementation to avoid excessive buffering of data; see {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {].}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   The implementation SHOULD provide an interface to QUIC to tell it}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   about its buffering limits so that there is not excessive buffering}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   at multiple layers.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt {4.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt {. }}} Data Flow Control}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC employs a credit-based flow-control scheme similar to that in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   HTTP/2 {\field{\*\fldinst{HYPERLINK "#163"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#163"}}{\fldrslt {HTTP2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#163"}}{\fldrslt {], }}}where a receiver advertises the number of bytes it is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   prepared to receive on a given stream and for the entire connection.}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   This leads to two levels of data flow control in QUIC:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  Stream flow control, which prevents a single stream from consuming}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      the entire receive buffer for a connection by limiting the amount}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      of data that can be sent on any stream.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Connection flow control, which prevents senders from exceeding a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      receiver\uc1\u8217Xs buffer capacity for the connection, by limiting the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      total bytes of stream data sent in STREAM frames on all streams.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A receiver sets initial credits for all streams by sending transport}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   parameters during the handshake {\field{\*\fldinst{HYPERLINK "#43"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#43"}}{\fldrslt {Section 7.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#43"}}{\fldrslt {). }}} A receiver sends}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   MAX_STREAM_DATA {\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt {Section 19.10}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt {) }}}or MAX_DATA {\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt {Section 19.9}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt {) }}}frames to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the sender to advertise additional credit.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 23]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2074\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2075\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#24"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   A receiver advertises credit for a stream by sending a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   MAX_STREAM_DATA frame with the Stream ID field set appropriately.  A}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   MAX_STREAM_DATA frame indicates the maximum absolute byte offset of a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   stream.  A receiver could use the current offset of data consumed to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   determine the flow control offset to be advertised.  A receiver MAY}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   send MAX_STREAM_DATA frames in multiple packets in order to make sure}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   that the sender receives an update before running out of flow control}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   credit, even if one of the packets is lost.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A receiver advertises credit for a connection by sending a MAX_DATA}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   frame, which indicates the maximum of the sum of the absolute byte}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   offsets of all streams.  A receiver maintains a cumulative sum of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   bytes received on all streams, which is used to check for flow}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   control violations.  A receiver might use a sum of bytes consumed on}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   all streams to determine the maximum data limit to be advertised.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A receiver can advertise a larger offset by sending MAX_STREAM_DATA}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   or MAX_DATA frames.  Once a receiver advertises an offset, it MAY}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   advertise a smaller offset, but this has no effect.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A receiver MUST close the connection with a FLOW_CONTROL_ERROR error}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#75"}}{\fldrslt { (}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#75"}}{\fldrslt {Section 11}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#75"}}{\fldrslt {) }}}if the sender violates the advertised connection or}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   stream data limits.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A sender MUST ignore any MAX_STREAM_DATA or MAX_DATA frames that do}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   not increase flow control limits.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   If a sender runs out of flow control credit, it will be unable to}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   send new data and is considered blocked.  A sender SHOULD send a}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   STREAM_DATA_BLOCKED or DATA_BLOCKED frame to indicate it has data to}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   write but is blocked by flow control limits.  If a sender is blocked}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   for a period longer than the idle timeout {\field{\*\fldinst{HYPERLINK "#66"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#66"}}{\fldrslt {Section 10.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#66"}}{\fldrslt {), }}}the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection might be closed even when data is available for}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   transmission.  To keep the connection from closing, a sender that is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   flow control limited SHOULD periodically send a STREAM_DATA_BLOCKED}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   or DATA_BLOCKED frame when it has no ack-eliciting packets in flight.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#24"}}{\fldrslt {4.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#24"}}{\fldrslt {. }}} Flow Credit Increments}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Implementations decide when and how much credit to advertise in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   MAX_STREAM_DATA and MAX_DATA frames, but this section offers a few}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   considerations.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   To avoid blocking a sender, a receiver can send a MAX_STREAM_DATA or}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   MAX_DATA frame multiple times within a round trip or send it early}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   enough to allow for recovery from loss of the frame.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-360\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 24]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2076\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2077\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#25"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   Control frames contribute to connection overhead.  Therefore,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   frequently sending MAX_STREAM_DATA and MAX_DATA frames with small}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   changes is undesirable.  On the other hand, if updates are less}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   frequent, larger increments to limits are necessary to avoid blocking}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   a sender, requiring larger resource commitments at the receiver.}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   There is a trade-off between resource commitment and overhead when}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   determining how large a limit is advertised.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A receiver can use an autotuning mechanism to tune the frequency and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   amount of advertised additional credit based on a round-trip time}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   estimate and the rate at which the receiving application consumes}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   data, similar to common TCP implementations.  As an optimization, an}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint could send frames related to flow control only when there}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   are other frames to send or when a peer is blocked, ensuring that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   flow control does not cause extra packets to be sent.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A blocked sender is not required to send STREAM_DATA_BLOCKED or}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   DATA_BLOCKED frames.  Therefore, a receiver MUST NOT wait for a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   STREAM_DATA_BLOCKED or DATA_BLOCKED frame before sending a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   MAX_STREAM_DATA or MAX_DATA frame; doing so could result in the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   sender being blocked for the rest of the connection.  Even if the}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   sender sends these frames, waiting for them will result in the sender}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   being blocked for at least an entire round trip.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   When a sender receives credit after being blocked, it might be able}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to send a large amount of data in response, resulting in short-term}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   congestion; see Section 6.9 in {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-RECOVERY}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {] }}}for a discussion of}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   how a sender can avoid this congestion.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#25"}}{\fldrslt {4.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#25"}}{\fldrslt {. }}} Handling Stream Cancellation}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Endpoints need to eventually agree on the amount of flow control}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   credit that has been consumed, to avoid either exceeding flow control}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   limits or deadlocking.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   On receipt of a RESET_STREAM frame, an endpoint will tear down state}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   for the matching stream and ignore further data arriving on that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   stream.  Without the offset included in RESET_STREAM, the two}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   endpoints could disagree on the number of bytes that count towards}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection flow control.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   To remedy this issue, a RESET_STREAM frame {\field{\*\fldinst{HYPERLINK "#126"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#126"}}{\fldrslt {Section 19.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#126"}}{\fldrslt {) }}}includes}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the final size of data sent on the stream.  On receiving a}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   RESET_STREAM frame, a receiver definitively knows how many bytes were}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   sent on that stream before the RESET_STREAM frame, and the receiver}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   MUST use the final size of the stream to account for all bytes sent}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   on the stream in its connection level flow controller.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 25]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2078\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2079\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#26"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   RESET_STREAM terminates one direction of a stream abruptly.  For a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   bidirectional stream, RESET_STREAM has no effect on data flow in the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   opposite direction.  Both endpoints MUST maintain flow control state}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   for the stream in the unterminated direction until that direction}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   enters a terminal state, or until one of the endpoints sends}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   CONNECTION_CLOSE.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#26"}}{\fldrslt {4.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#26"}}{\fldrslt {. }}} Stream Final Size}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The final size is the amount of flow control credit that is consumed}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   by a stream.  Assuming that every contiguous byte on the stream was}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   sent once, the final size is the number of bytes sent.  More}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   generally, this is one higher than the offset of the byte with the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   largest offset sent on the stream, or zero if no bytes were sent.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The final size of a stream is always signaled to the recipient.  The}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   final size is the sum of the Offset and Length fields of a STREAM}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   frame with a FIN flag, noting that these fields might be implicit.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Alternatively, the Final Size field of a RESET_STREAM frame carries}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   this value.  This ensures that all ways that a stream can be closed}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   result in the number of bytes on the stream being reliably}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   transmitted.  This guarantees that both endpoints agree on how much}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   flow control credit was consumed by the stream.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint will know the final size for a stream when the receiving}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   part of the stream enters the "Size Known" or "Reset Recvd" state}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt { (}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt {Section 3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt {).}}}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint MUST NOT send data on a stream at or beyond the final}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   size.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Once a final size for a stream is known, it cannot change.  If a}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   RESET_STREAM or STREAM frame is received indicating a change in the}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   final size for the stream, an endpoint SHOULD respond with a}\par\pard\li746\ri0\sl-240\slmult0 \*\tx4440\fs20\cf0\f1\charscalex100 {   FINAL_SIZE_ERROR error; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#75"}}{\fldrslt {Section 11}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#75"}}{\fldrslt {. }}} A receiver SHOULD treat}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   receipt of data at or beyond the final size as a FINAL_SIZE_ERROR}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   error, even after a stream is closed.  Generating these errors is not}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   mandatory, but only because requiring that an endpoint generate these}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   errors also means that the endpoint needs to maintain the final size}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   state for closed streams, which could mean a significant state}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   commitment.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 26]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2080\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2081\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#27"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#27"}}{\fldrslt {4.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#27"}}{\fldrslt {. }}} Controlling Concurrency}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint limits the cumulative number of incoming streams a peer}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   can open.  Only streams with a stream ID less than (max_stream * 4 +}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   initial_stream_id_for_type) can be opened; see Table 5.  Initial}\par\pard\li760\ri0\sl-226\slmult0 \*\tx6813\fs20\cf0\f1\charscalex100 {   limits are set in the transport parameters (see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {Section 18.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {) }}}and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   subsequently limits are advertised using MAX_STREAMS frames}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#132"}}{\fldrslt { (}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#132"}}{\fldrslt {Section 19.11}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#132"}}{\fldrslt {). }}} Separate limits apply to unidirectional and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   bidirectional streams.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   If a max_streams transport parameter or MAX_STREAMS frame is received}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   with a value greater than 2^60, this would allow a maximum stream ID}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that cannot be expressed as a variable-length integer; see}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#100"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#100"}}{\fldrslt {Section 16}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#100"}}{\fldrslt {. }}} If either is received, the connection MUST be closed}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   immediately with a connection error of type STREAM_LIMIT_ERROR; see}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt {Section 10.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Endpoints MUST NOT exceed the limit set by their peer.  An endpoint}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that receives a frame with a stream ID exceeding the limit it has}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   sent MUST treat this as a connection error of type STREAM_LIMIT_ERROR}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#75"}}{\fldrslt { (}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#75"}}{\fldrslt {Section 11}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#75"}}{\fldrslt {).}}}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Once a receiver advertises a stream limit using the MAX_STREAMS}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   frame, advertising a smaller limit has no effect.  A receiver MUST}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   ignore any MAX_STREAMS frame that does not increase the stream limit.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   As with stream and connection flow control, this document leaves when}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   and how many streams to advertise to a peer via MAX_STREAMS to}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   implementations.  Implementations might choose to increase limits as}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   streams close to keep the number of streams available to peers}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   roughly consistent.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint that is unable to open a new stream due to the peer\uc1\u8217Xs}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   limits SHOULD send a STREAMS_BLOCKED frame {\field{\*\fldinst{HYPERLINK "#134"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#134"}}{\fldrslt {Section 19.14}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#134"}}{\fldrslt {). }}} This}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   signal is considered useful for debugging.  An endpoint MUST NOT wait}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to receive this signal before advertising additional credit, since}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   doing so will mean that the peer will be blocked for at least an}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   entire round trip, and potentially for longer if the peer chooses to}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   not send STREAMS_BLOCKED frames.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#27"}}{\fldrslt {5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#27"}}{\fldrslt {. }}} Connections}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC\uc1\u8217Xs connection establishment combines version negotiation with the}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   cryptographic and transport handshakes to reduce connection}\par\pard\li746\ri0\sl-226\slmult0 \*\tx5746\fs20\cf0\f1\charscalex100 {   establishment latency, as described in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#38"}}{\fldrslt {Section 7}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#38"}}{\fldrslt {. }}} Once established,}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   a connection may migrate to a different IP or port at either endpoint}\par\pard\li760\ri0\sl-240\slmult0 \*\tx3013\fs20\cf0\f1\charscalex100 {   as described in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {Section 9}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {. }}} Finally, a connection may be terminated}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5386\fs20\cf0\f1\charscalex100 {   by either endpoint, as described in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#64"}}{\fldrslt {Section 10}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#64"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 27]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2082\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2083\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#28"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#28"}}{\fldrslt {5.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#28"}}{\fldrslt {. }}} Connection ID}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Each connection possesses a set of connection identifiers, or}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection IDs, each of which can identify the connection.}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   Connection IDs are independently selected by endpoints; each endpoint}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   selects the connection IDs that its peer uses.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The primary function of a connection ID is to ensure that changes in}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   addressing at lower protocol layers (UDP, IP) don\uc1\u8217Xt cause packets for}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   a QUIC connection to be delivered to the wrong endpoint.  Each}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   endpoint selects connection IDs using an implementation-specific (and}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   perhaps deployment-specific) method which will allow packets with}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that connection ID to be routed back to the endpoint and to be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   identified by the endpoint upon receipt.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Connection IDs MUST NOT contain any information that can be used by}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   an external observer (that is, one that does not cooperate with the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   issuer) to correlate them with other connection IDs for the same}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection.  As a trivial example, this means the same connection ID}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   MUST NOT be issued more than once on the same connection.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Packets with long headers include Source Connection ID and}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   Destination Connection ID fields.  These fields are used to set the}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5866\fs20\cf0\f1\charscalex100 {   connection IDs for new connections; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#40"}}{\fldrslt {Section 7.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#40"}}{\fldrslt { for }}}details.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Packets with short headers {\field{\*\fldinst{HYPERLINK "#113"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#113"}}{\fldrslt {Section 17.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#113"}}{\fldrslt {) }}}only include the}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Destination Connection ID and omit the explicit length.  The length}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   of the Destination Connection ID field is expected to be known to}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   endpoints.  Endpoints using a load balancer that routes based on}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection ID could agree with the load balancer on a fixed length}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   for connection IDs, or agree on an encoding scheme.  A fixed portion}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   could encode an explicit length, which allows the entire connection}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   ID to vary in length and still be used by the load balancer.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A Version Negotiation {\field{\*\fldinst{HYPERLINK "#105"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#105"}}{\fldrslt {Section 17.2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#105"}}{\fldrslt {) }}}packet echoes the connection}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   IDs selected by the client, both to ensure correct routing toward the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   client and to allow the client to validate that the packet is in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   response to an Initial packet.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A zero-length connection ID can be used when a connection ID is not}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   needed to route to the correct endpoint.  However, multiplexing}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connections on the same local IP address and port while using zero-}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   length connection IDs will cause failures in the presence of peer}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection migration, NAT rebinding, and client port reuse; and}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   therefore MUST NOT be done unless an endpoint is certain that those}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   protocol features are not in use.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-360\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 28]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2084\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2085\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#29"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   When an endpoint uses a non-zero-length connection ID, it needs to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   ensure that the peer has a supply of connection IDs from which to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   choose for packets sent to the endpoint.  These connection IDs are}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   supplied by the endpoint using the NEW_CONNECTION_ID frame}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#135"}}{\fldrslt { (}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#135"}}{\fldrslt {Section 19.15}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#135"}}{\fldrslt {).}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#29"}}{\fldrslt {5.1.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#29"}}{\fldrslt {. }}} Issuing Connection IDs}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Each Connection ID has an associated sequence number to assist in}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   detecting when NEW_CONNECTION_ID or RETIRE_CONNECTION_ID frames refer}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to the same value.  The initial connection ID issued by an endpoint}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   is sent in the Source Connection ID field of the long packet header}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#102"}}{\fldrslt { (}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#102"}}{\fldrslt {Section 17.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#102"}}{\fldrslt {) }}}during the handshake.  The sequence number of the}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   initial connection ID is 0.  If the preferred_address transport}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   parameter is sent, the sequence number of the supplied connection ID}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   is 1.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Additional connection IDs are communicated to the peer using}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   NEW_CONNECTION_ID frames {\field{\*\fldinst{HYPERLINK "#135"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#135"}}{\fldrslt {Section 19.15}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#135"}}{\fldrslt {). }}} The sequence number on}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   each newly-issued connection ID MUST increase by 1.  The connection}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   ID randomly selected by the client in the Initial packet and any}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection ID provided by a Retry packet are not assigned sequence}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   numbers unless a server opts to retain them as its initial connection}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   ID.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   When an endpoint issues a connection ID, it MUST accept packets that}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   carry this connection ID for the duration of the connection or until}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   its peer invalidates the connection ID via a RETIRE_CONNECTION_ID}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   frame {\field{\*\fldinst{HYPERLINK "#136"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#136"}}{\fldrslt {Section 19.16}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#136"}}{\fldrslt {). }}} Connection IDs that are issued and not}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   retired are considered active; any active connection ID is valid for}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   use with the current connection at any time, in any packet type.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   This includes the connection ID issued by the server via the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   preferred_address transport parameter.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint SHOULD ensure that its peer has a sufficient number of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   available and unused connection IDs.  Endpoints advertise the number}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   of active connection IDs they are willing to maintain using the}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   active_connection_id_limit transport parameter.  An endpoint MUST NOT}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   provide more connection IDs than the peer\uc1\u8217Xs limit.  An endpoint MAY}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   send connection IDs that temporarily exceed a peer\uc1\u8217Xs limit if the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   NEW_CONNECTION_ID frame also requires the retirement of any excess,}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   by including a sufficiently large value in the Retire Prior To field.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 29]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2086\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2087\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#30"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   A NEW_CONNECTION_ID frame might cause an endpoint to add some active}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection IDs and retire others based on the value of the Retire}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Prior To field.  After processing a NEW_CONNECTION_ID frame and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   adding and retiring active connection IDs, if the number of active}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection IDs exceeds the value advertised in its}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   active_connection_id_limit transport parameter, an endpoint MUST}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   close the connection with an error of type CONNECTION_ID_LIMIT_ERROR.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   An endpoint SHOULD supply a new connection ID when the peer retires a}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   connection ID.  If an endpoint provided fewer connection IDs than the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   peer\uc1\u8217Xs active_connection_id_limit, it MAY supply a new connection ID}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   when it receives a packet with a previously unused connection ID.  An}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint MAY limit the frequency or the total number of connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   IDs issued for each connection to avoid the risk of running out of}\par\pard\li760\ri0\sl-240\slmult0 \*\tx3480\fs20\cf0\f1\charscalex100 {   connection IDs; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#74"}}{\fldrslt {Section 10.4.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#74"}}{\fldrslt {. }}} An endpoint MAY also limit the}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   issuance of connection IDs to reduce the amount of per-path state it}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   maintains, such as path validation status, as its peer might interact}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   with it over as many paths as there are issued connection IDs.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint that initiates migration and requires non-zero-length}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection IDs SHOULD ensure that the pool of connection IDs}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   available to its peer allows the peer to use a new connection ID on}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   migration, as the peer will close the connection if the pool is}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   exhausted.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#30"}}{\fldrslt {5.1.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#30"}}{\fldrslt {. }}} Consuming and Retiring Connection IDs}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint can change the connection ID it uses for a peer to}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   another available one at any time during the connection.  An endpoint}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   consumes connection IDs in response to a migrating peer; see}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#60"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#60"}}{\fldrslt {Section 9.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#60"}}{\fldrslt { for }}}more.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   An endpoint maintains a set of connection IDs received from its peer,}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   any of which it can use when sending packets.  When the endpoint}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   wishes to remove a connection ID from use, it sends a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   RETIRE_CONNECTION_ID frame to its peer.  Sending a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   RETIRE_CONNECTION_ID frame indicates that the connection ID will not}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   be used again and requests that the peer replace it with a new}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   connection ID using a NEW_CONNECTION_ID frame.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx3013\fs20\cf0\f1\charscalex100 {   As discussed in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#60"}}{\fldrslt {Section 9.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#60"}}{\fldrslt {, }}}endpoints limit the use of a connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   ID to packets sent from a single local address to a single}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   destination address.  Endpoints SHOULD retire connection IDs when}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   they are no longer actively using either the local or destination}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   address for which the connection ID was used.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-173\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 30]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2088\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2089\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#31"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs18\cf0\f1\charscalex100 {   An endpoint might need to stop accepting previously issued connection}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   IDs in certain circumstances.  Such an endpoint can cause its peer to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   retire connection IDs by sending a NEW_CONNECTION_ID frame with an}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   increased Retire Prior To field.  The endpoint SHOULD continue to}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   accept the previously issued connection IDs until they are retired by}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   the peer.  If the endpoint can no longer process the indicated}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection IDs, it MAY close the connection.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Upon receipt of an increased Retire Prior To field, the peer MUST}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   stop using the corresponding connection IDs and retire them with}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   RETIRE_CONNECTION_ID frames before adding the newly provided}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   connection ID to the set of active connection IDs.  This ordering}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   allows an endpoint to replace all active connection IDs without the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   possibility of a peer having no available connection IDs and without}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   exceeding the limit the peer sets in the active_connection_id_limit}\par\pard\li760\ri0\sl-240\slmult0 \*\tx4080\fs20\cf0\f1\charscalex100 {   transport parameter; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {Section 18.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {. }}} Failure to cease using the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   connection IDs when requested can result in connection failures, as}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   the issuing endpoint might be unable to continue using the connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   IDs with the active connection.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint SHOULD limit the number of connection IDs it has retired}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   locally and have not yet been acknowledged.  An endpoint SHOULD allow}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   for sending and tracking a number of RETIRE_CONNECTION_ID frames of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   at least twice the active_connection_id limit.  An endpoint MUST NOT}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   forget a connection ID without retiring it, though it MAY choose to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   treat having connection IDs in need of retirement that exceed this}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   limit as a connection error of type CONNECTION_ID_LIMIT_ERROR.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Endpoints SHOULD NOT issue updates of the Retire Prior To field}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   before receiving RETIRE_CONNECTION_ID frames that retire all}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection IDs indicated by the previous Retire Prior To value.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#31"}}{\fldrslt {5.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#31"}}{\fldrslt {. }}} Matching Packets to Connections}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Incoming packets are classified on receipt.  Packets can either be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   associated with an existing connection, or - for servers -}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   potentially create a new connection.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Endpoints try to associate a packet with an existing connection.  If}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the packet has a non-zero-length Destination Connection ID}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   corresponding to an existing connection, QUIC processes that packet}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   accordingly.  Note that more than one connection ID can be associated}\par\pard\li760\ri0\sl-240\slmult0 \*\tx3840\fs20\cf0\f1\charscalex100 {   with a connection; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#28"}}{\fldrslt {Section 5.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#28"}}{\fldrslt {.}}}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   If the Destination Connection ID is zero length and the addressing}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   information in the packet matches the addressing information the}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint uses to identify a connection with a zero-length connection}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   ID, QUIC processes the packet as part of that connection.  An}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-306\slmult0 \fs20\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 31]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2090\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2091\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#32"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint can use just destination IP and port or both source and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   destination addresses for identification, though this makes}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5386\fs20\cf0\f1\charscalex100 {   connections fragile as described in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#28"}}{\fldrslt {Section 5.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#28"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Endpoints can send a Stateless Reset {\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {Section 10.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {) }}}for any packets}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   that cannot be attributed to an existing connection.  A stateless}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   reset allows a peer to more quickly identify when a connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   becomes unusable.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Packets that are matched to an existing connection are discarded if}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the packets are inconsistent with the state of that connection.  For}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   example, packets are discarded if they indicate a different protocol}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   version than that of the connection, or if the removal of packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   protection is unsuccessful once the expected keys are available.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   Invalid packets without packet protection, such as Initial, Retry, or}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   Version Negotiation, MAY be discarded.  An endpoint MUST generate a}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   connection error if it commits changes to state before discovering an}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   error.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#32"}}{\fldrslt {5.2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#32"}}{\fldrslt {. }}} Client Packet Handling}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   Valid packets sent to clients always include a Destination Connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   ID that matches a value the client selects.  Clients that choose to}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   receive zero-length connection IDs can use the local address and port}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to identify a connection.  Packets that don\uc1\u8217Xt match an existing}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection are discarded.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Due to packet reordering or loss, a client might receive packets for}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   a connection that are encrypted with a key it has not yet computed.}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   The client MAY drop these packets, or MAY buffer them in anticipation}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   of later packets that allow it to compute the key.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   If a client receives a packet that has an unsupported version, it}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   MUST discard that packet.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#32"}}{\fldrslt {5.2.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#32"}}{\fldrslt {. }}} Server Packet Handling}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   If a server receives a packet that indicates an unsupported version}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   but is large enough to initiate a new connection for any one}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   supported version, the server SHOULD send a Version Negotiation}\par\pard\li760\ri0\sl-240\slmult0 \*\tx3840\fs20\cf0\f1\charscalex100 {   packet as described in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt {Section 6.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt {. }}} Servers MAY limit the number of}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets that it responds to with a Version Negotiation packet.}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Servers MUST drop smaller packets that specify unsupported versions.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The first packet for an unsupported version can use different}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   semantics and encodings for any version-specific field.  In}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   particular, different packet protection keys might be used for}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-306\slmult0 \fs20\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 32]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2092\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2093\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#33"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs18\cf0\f1\charscalex100 {   different versions.  Servers that do not support a particular version}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   are unlikely to be able to decrypt the payload of the packet.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Servers SHOULD NOT attempt to decode or decrypt a packet from an}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   unknown version, but instead send a Version Negotiation packet,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   provided that the packet is sufficiently long.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   Packets with a supported version, or no version field, are matched to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   a connection using the connection ID or - for packets with zero-}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   length connection IDs - the local address and port.  If the packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   doesn\uc1\u8217Xt match an existing connection, the server continues below.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   If the packet is an Initial packet fully conforming with the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   specification, the server proceeds with the handshake {\field{\*\fldinst{HYPERLINK "#38"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#38"}}{\fldrslt {Section 7}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#38"}}{\fldrslt {).}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   This commits the server to the version that the client selected.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   If a server refuses to accept a new connection, it SHOULD send an}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   Initial packet containing a CONNECTION_CLOSE frame with error code}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   CONNECTION_REFUSED.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   If the packet is a 0-RTT packet, the server MAY buffer a limited}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   number of these packets in anticipation of a late-arriving Initial}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet.  Clients are not able to send Handshake packets prior to}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   receiving a server response, so servers SHOULD ignore any such}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Servers MUST drop incoming packets under all other circumstances.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#33"}}{\fldrslt {5.2.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#33"}}{\fldrslt {. }}} Considerations for Simple Load Balancers}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A server deployment could load balance among servers using only}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   source and destination IP addresses and ports.  Changes to the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   client\uc1\u8217Xs IP address or port could result in packets being forwarded}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to the wrong server.  Such a server deployment could use one of the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   following methods for connection continuity when a client\uc1\u8217Xs address}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   changes.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Servers could use an out-of-band mechanism to forward packets to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      the correct server based on Connection ID.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  If servers can use a dedicated server IP address or port, other}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      than the one that the client initially connects to, they could use}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      the preferred_address transport parameter to request that clients}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      move connections to that dedicated address.  Note that clients}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      could choose not to use the preferred address.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A server in a deployment that does not implement a solution to}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   maintain connection continuity when the client address changes SHOULD}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   indicate migration is not supported using the}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 33]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2094\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2095\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#34"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   disable_active_migration transport parameter.  The}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   disable_active_migration transport parameter does not prohibit}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection migration after a client has acted on a preferred_address}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   transport parameter.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Server deployments that use this simple form of load balancing MUST}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7293\fs20\cf0\f1\charscalex100 {   avoid the creation of a stateless reset oracle; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#146"}}{\fldrslt {Section 21.9}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#146"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#34"}}{\fldrslt {5.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#34"}}{\fldrslt {. }}} Life of a QUIC Connection}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A QUIC connection is a stateful interaction between a client and}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   server, the primary purpose of which is to support the exchange of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   data by an application protocol.  Streams {\field{\*\fldinst{HYPERLINK "#10"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#10"}}{\fldrslt {Section 2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#10"}}{\fldrslt {) }}}are the primary}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   means by which an application protocol exchanges information.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Each connection starts with a handshake phase, during which client}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   and server establish a shared secret using the cryptographic}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   handshake protocol {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {] }}}and negotiate the application protocol.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   The handshake {\field{\*\fldinst{HYPERLINK "#38"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#38"}}{\fldrslt {Section 7}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#38"}}{\fldrslt {) }}}confirms that both endpoints are willing to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   communicate {\field{\*\fldinst{HYPERLINK "#47"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#47"}}{\fldrslt {Section 8.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#47"}}{\fldrslt {) }}}and establishes parameters for the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection {\field{\*\fldinst{HYPERLINK "#43"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#43"}}{\fldrslt {Section 7.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#43"}}{\fldrslt {).}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   An application protocol can also operate in a limited fashion during}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the handshake phase.  0-RTT allows application data to be sent by a}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   client before receiving any response from the server.  However, 0-RTT}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   lacks certain key security guarantees.  In particular, there is no}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   protection against replay attacks in 0-RTT; see {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {].}}}}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   Separately, a server can also send application data to a client}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   before it receives the final cryptographic handshake messages that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   allow it to confirm the identity and liveness of the client.  These}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   capabilities allow an application protocol to offer the option to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   trade some security guarantees for reduced latency.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The use of connection IDs {\field{\*\fldinst{HYPERLINK "#28"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#28"}}{\fldrslt {Section 5.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#28"}}{\fldrslt {) }}}allows connections to migrate}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to a new network path, both as a direct choice of an endpoint and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   when forced by a change in a middlebox. {\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {Section 9}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt { describes}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   mitigations for the security and privacy issues associated with}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   migration.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   For connections that are no longer needed or desired, there are}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   several ways for a client and server to terminate a connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#64"}}{\fldrslt { (}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#64"}}{\fldrslt {Section 10}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#64"}}{\fldrslt {).}}}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 34]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2096\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2097\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#35"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#35"}}{\fldrslt {5.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#35"}}{\fldrslt {. }}} Required Operations on Connections}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   There are certain operations that an application MUST be able to}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   perform when interacting with the QUIC transport.  This document does}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   not specify an API, but any implementation of this version of QUIC}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   MUST expose the ability to perform the operations described in this}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   section on a QUIC connection.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   When implementing the client role, applications need to be able to:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  open a connection, which begins the exchange described in}\par\pard\li1466\ri0\sl-226\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#38"}}{\fldrslt {Section 7}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#38"}}{\fldrslt {;}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  enable 0-RTT when available; and}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  be informed when 0-RTT has been accepted or rejected by a server.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   When implementing the server role, applications need to be able to:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  listen for incoming connections, which prepares for the exchange}\par\pard\li760\ri0\sl-240\slmult0 \*\tx3013\fs20\cf0\f1\charscalex100 {      described in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#38"}}{\fldrslt {Section 7}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#38"}}{\fldrslt {;}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  if Early Data is supported, embed application-controlled data in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      the TLS resumption ticket sent to the client; and}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  if Early Data is supported, retrieve application-controlled data}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      from the client\uc1\u8217Xs resumption ticket and enable rejecting Early}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      Data based on that information.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   In either role, applications need to be able to:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  configure minimum values for the initial number of permitted}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      streams of each type, as communicated in the transport parameters}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#43"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#43"}}{\fldrslt {Section 7.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#43"}}{\fldrslt {);}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  control resource allocation of various types, including flow}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      control and the number of permitted streams of each type;}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  identify whether the handshake has completed successfully or is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      still ongoing;}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  keep a connection from silently closing, either by generating PING}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      frames {\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt {Section 19.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt {) }}}or by requesting that the transport send}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      additional frames before the idle timeout expires {\field{\*\fldinst{HYPERLINK "#66"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#66"}}{\fldrslt {Section 10.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#66"}}{\fldrslt {);}}}}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      and}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  immediately close {\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt {Section 10.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt {) }}}the connection.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-333\slmult0 \fs20\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 35]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2098\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2099\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt {6}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt {. }}} Version Negotiation}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Version negotiation ensures that client and server agree to a QUIC}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   version that is mutually supported.  A server sends a Version}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Negotiation packet in response to each packet that might initiate a}\par\pard\li746\ri0\sl-226\slmult0 \*\tx3480\fs20\cf0\f1\charscalex100 {   new connection; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#31"}}{\fldrslt {Section 5.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#31"}}{\fldrslt { for }}}details.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The size of the first packet sent by a client will determine whether}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   a server sends a Version Negotiation packet.  Clients that support}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   multiple QUIC versions SHOULD pad the first packet they send to the}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   largest of the minimum packet sizes across all versions they support.}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   This ensures that the server responds if there is a mutually}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   supported version.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt {6.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt {. }}} Sending Version Negotiation Packets}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   If the version selected by the client is not acceptable to the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   server, the server responds with a Version Negotiation packet; see}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#105"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#105"}}{\fldrslt {Section 17.2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#105"}}{\fldrslt {. }}} This includes a list of versions that the server}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   will accept.  An endpoint MUST NOT send a Version Negotiation packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   in response to receiving a Version Negotiation packet.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   This system allows a server to process packets with unsupported}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   versions without retaining state.  Though either the Initial packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   or the Version Negotiation packet that is sent in response could be}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   lost, the client will send new packets until it successfully receives}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   a response or it abandons the connection attempt.  As a result, the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   client discards all state for the connection and does not send any}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   more packets on the connection.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A server MAY limit the number of Version Negotiation packets it}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   sends.  For instance, a server that is able to recognize packets as}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   0-RTT might choose not to send Version Negotiation packets in}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   response to 0-RTT packets with the expectation that it will}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   eventually receive an Initial packet.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt {6.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt {. }}} Handling Version Negotiation Packets}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Version Negotiation packets are designed to allow future versions of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC to negotiate the version in use between endpoints.  Future}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   versions of QUIC might change how implementations that support}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   multiple versions of QUIC react to Version Negotiation packets when}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   attempting to establish a connection using this version.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A client that supports only this version of QUIC MUST abandon the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   current connection attempt if it receives a Version Negotiation}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   packet, with the following two exceptions.  A client MUST discard any}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Version Negotiation packet if it has received and successfully}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 36]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2100\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2101\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#37"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   processed any other packet, including an earlier Version Negotiation}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet.  A client MUST discard a Version Negotiation packet that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   lists the QUIC version selected by the client.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   How to perform version negotiation is left as future work defined by}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   future versions of QUIC.  In particular, that future work will ensure}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7053\fs20\cf0\f1\charscalex100 {   robustness against version downgrade attacks; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#147"}}{\fldrslt {Section 21.10}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#147"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#37"}}{\fldrslt {6.2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#37"}}{\fldrslt {. }}} Version Negotiation Between Draft Versions}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   [[RFC editor: please remove this section before publication.]]}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   When a draft implementation receives a Version Negotiation packet, it}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   MAY use it to attempt a new connection with one of the versions}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   listed in the packet, instead of abandoning the current connection}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2653\fs20\cf0\f1\charscalex100 {   attempt; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt {Section 6.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The client MUST check that the Destination and Source Connection ID}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   fields match the Source and Destination Connection ID fields in a}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   packet that the client sent.  If this check fails, the packet MUST be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   discarded.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Once the Version Negotiation packet is determined to be valid, the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   client then selects an acceptable protocol version from the list}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   provided by the server.  The client then attempts to create a new}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection using that version.  The new connection MUST use a new}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   random Destination Connection ID different from the one it had}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   previously sent.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Note that this mechanism does not protect against downgrade attacks}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   and MUST NOT be used outside of draft implementations.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#37"}}{\fldrslt {6.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#37"}}{\fldrslt {. }}} Using Reserved Versions}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   For a server to use a new version in the future, clients need to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   correctly handle unsupported versions.  Some version numbers}\par\pard\li760\ri0\sl-240\slmult0 \*\tx4200\fs20\cf0\f1\charscalex100 {   (0x?a?a?a?a as defined in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#99"}}{\fldrslt {Section 15}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#99"}}{\fldrslt {) }}}are reserved for inclusion in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   fields that contain version numbers.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Endpoints MAY add reserved versions to any field where unknown or}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   unsupported versions are ignored to test that a peer correctly}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   ignores the value.  For instance, an endpoint could include a}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7520\fs20\cf0\f1\charscalex100 {   reserved version in a Version Negotiation packet; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#105"}}{\fldrslt {Section 17.2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#105"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Endpoints MAY send packets with a reserved version to test that a}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   peer correctly discards the packet.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-173\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 37]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2102\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2103\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#38"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#38"}}{\fldrslt {7}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#38"}}{\fldrslt {. }}} Cryptographic and Transport Handshake}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC relies on a combined cryptographic and transport handshake to}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   minimize connection establishment latency.  QUIC uses the CRYPTO}\par\pard\li746\ri0\sl-240\slmult0 \*\tx1826\fs20\cf0\f1\charscalex100 {   frame}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#127"}}{\fldrslt {Section 19.6}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#127"}}{\fldrslt { to }}}transmit the cryptographic handshake.  Version}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   0x00000001 of QUIC uses TLS as described in {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {]; }}}a different}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC version number could indicate that a different cryptographic}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   handshake protocol is in use.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC provides reliable, ordered delivery of the cryptographic}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   handshake data.  QUIC packet protection is used to encrypt as much of}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   the handshake protocol as possible.  The cryptographic handshake MUST}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   provide the following properties:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  authenticated key exchange, where}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {      -  a server is always authenticated,}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      -  a client is optionally authenticated,}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      -  every connection produces distinct and unrelated keys,}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {      -  keying material is usable for packet protection for both 0-RTT}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {         and 1-RTT packets, and}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      -  1-RTT keys have forward secrecy}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  authenticated values for transport parameters of both endpoints,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      and confidentiality protection for server transport parameters}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2066\fs20\cf0\f1\charscalex100 {      (see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#43"}}{\fldrslt {Section 7.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#43"}}{\fldrslt {)}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  authenticated negotiation of an application protocol (TLS uses}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      ALPN {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc7301"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc7301"}}{\fldrslt {RFC7301}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc7301"}}{\fldrslt {] }}}for this purpose)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint can verify support for Explicit Congestion Notification}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7400\fs20\cf0\f1\charscalex100 {   (ECN) in the first packets it sends, as described in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#93"}}{\fldrslt {Section 13.4.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#93"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The CRYPTO frame can be sent in different packet number spaces}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#79"}}{\fldrslt { (}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#79"}}{\fldrslt {Section 12.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#79"}}{\fldrslt {). }}} The offsets used by CRYPTO frames to ensure ordered}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   delivery of cryptographic handshake data start from zero in each}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet number space.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Endpoints MUST explicitly negotiate an application protocol.  This}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   avoids situations where there is a disagreement about the protocol}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   that is in use.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-173\slmult0 \fs20\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 38]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2104\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2105\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#39"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#39"}}{\fldrslt {7.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#39"}}{\fldrslt {. }}} Example Handshake Flows}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Details of how TLS is integrated with QUIC are provided in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt { [}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {], }}}but some examples are provided here.  An extension of}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   this exchange to support client address validation is shown in}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#48"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#48"}}{\fldrslt {Section 8.1.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#48"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   Once any address validation exchanges are complete, the cryptographic}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   handshake is used to agree on cryptographic keys.  The cryptographic}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   handshake is carried in Initial {\field{\*\fldinst{HYPERLINK "#107"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#107"}}{\fldrslt {Section 17.2.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#107"}}{\fldrslt {) }}}and Handshake}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#110"}}{\fldrslt { (}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#110"}}{\fldrslt {Section 17.2.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#110"}}{\fldrslt {) }}}packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Figure 4 provides an overview of the 1-RTT handshake.  Each line}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   shows a QUIC packet with the packet type and packet number shown}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   first, followed by the frames that are typically contained in those}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets.  So, for instance the first packet is of type Initial, with}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   packet number 0, and contains a CRYPTO frame carrying the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   ClientHello.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Multiple QUIC packets - even of different packet types - can be}\par\pard\li760\ri0\sl-240\slmult0 \*\tx6093\fs20\cf0\f1\charscalex100 {   coalesced into a single UDP datagram; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#78"}}{\fldrslt {Section 12.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#78"}}{\fldrslt {. }}} As a result,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   this handshake may consist of as few as 4 UDP datagrams, or any}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   number more (subject to limits inherent to the protocol, such as}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   congestion control or anti-amplification).  For instance, the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   server\uc1\u8217Xs first flight contains Initial packets, Handshake packets,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   and "0.5-RTT data" in 1-RTT packets with a short header.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Client                                                  Server}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Initial[0]: CRYPTO[CH] ->}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {                                    Initial[0]: CRYPTO[SH] ACK[0]}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {                          Handshake[0]: CRYPTO[EE, CERT, CV, FIN]}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {                                    <- 1-RTT[0]: STREAM[1, "..."]}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Initial[1]: ACK[0]}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Handshake[0]: CRYPTO[FIN], ACK[0]}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   1-RTT[0]: STREAM[0, "..."], ACK[0] ->}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {                                             Handshake[1]: ACK[0]}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {                            <- 1-RTT[1]: STREAM[3, "..."], ACK[0]}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {                     Figure 4: Example 1-RTT Handshake}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Figure 5 shows an example of a connection with a 0-RTT handshake and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   a single packet of 0-RTT data.  Note that as described in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#79"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#79"}}{\fldrslt {Section 12.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#79"}}{\fldrslt {, }}}the server acknowledges 0-RTT data in 1-RTT packets,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   and the client sends 1-RTT packets in the same packet number space.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 39]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2106\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2107\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#40"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   Client                                                  Server}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Initial[0]: CRYPTO[CH]}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   0-RTT[0]: STREAM[0, "..."] ->}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {                                    Initial[0]: CRYPTO[SH] ACK[0]}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {                                     Handshake[0] CRYPTO[EE, FIN]}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {                             <- 1-RTT[0]: STREAM[1, "..."] ACK[0]}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Initial[1]: ACK[0]}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Handshake[0]: CRYPTO[FIN], ACK[0]}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   1-RTT[1]: STREAM[0, "..."] ACK[0] ->}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {                                             Handshake[1]: ACK[0]}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {                            <- 1-RTT[1]: STREAM[3, "..."], ACK[1]}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {                     Figure 5: Example 0-RTT Handshake}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#40"}}{\fldrslt {7.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#40"}}{\fldrslt {. }}} Negotiating Connection IDs}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A connection ID is used to ensure consistent routing of packets, as}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2653\fs20\cf0\f1\charscalex100 {   described in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#28"}}{\fldrslt {Section 5.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#28"}}{\fldrslt {. }}} The long header contains two connection}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   IDs: the Destination Connection ID is chosen by the recipient of the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet and is used to provide consistent routing; the Source}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Connection ID is used to set the Destination Connection ID used by}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the peer.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   During the handshake, packets with the long header {\field{\*\fldinst{HYPERLINK "#102"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#102"}}{\fldrslt {Section 17.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#102"}}{\fldrslt {) }}}are}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   used to establish the connection IDs in each direction.  Each}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint uses the Source Connection ID field to specify the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection ID that is used in the Destination Connection ID field of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets being sent to them.  Upon receiving a packet, each endpoint}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   sets the Destination Connection ID it sends to match the value of the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   Source Connection ID that it receives.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   When an Initial packet is sent by a client that has not previously}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   received an Initial or Retry packet from the server, the client}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   populates the Destination Connection ID field with an unpredictable}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   value.  This Destination Connection ID MUST be at least 8 bytes in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   length.  Until a packet is received from the server, the client MUST}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   use the same Destination Connection ID value on all packets in this}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection.  This Destination Connection ID is used to determine}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet protection keys for Initial packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The client populates the Source Connection ID field with a value of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   its choosing and sets the Source Connection ID Length field to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   indicate the length.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 40]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2108\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2109\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#41"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs18\cf0\f1\charscalex100 {   The first flight of 0-RTT packets use the same Destination Connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   ID and Source Connection ID values as the client\uc1\u8217Xs first Initial}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Upon first receiving an Initial or Retry packet from the server, the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   client uses the Source Connection ID supplied by the server as the}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   Destination Connection ID for subsequent packets, including any 0-RTT}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets.  This means that a client might have to change the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection ID it sets in the Destination Connection ID field twice}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   during connection establishment: once in response to a Retry, and}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   once in response to an Initial packet from the server.  Once a client}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   has received a valid Initial packet from the server, it MUST discard}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   any subsequent packet it receives with a different Source Connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   ID.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A client MUST change the Destination Connection ID it uses for}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   sending packets in response to only the first received Initial or}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Retry packet.  A server MUST set the Destination Connection ID it}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   uses for sending packets based on the first received Initial packet.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Any further changes to the Destination Connection ID are only}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   permitted if the values are taken from any received NEW_CONNECTION_ID}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   frames; if subsequent Initial packets include a different Source}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   Connection ID, they MUST be discarded.  This avoids unpredictable}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   outcomes that might otherwise result from stateless processing of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   multiple Initial packets with different Source Connection IDs.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The Destination Connection ID that an endpoint sends can change over}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   the lifetime of a connection, especially in response to connection}\par\pard\li760\ri0\sl-240\slmult0 \*\tx4320\fs20\cf0\f1\charscalex100 {   migration {\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {Section 9}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {); }}}see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#29"}}{\fldrslt {Section 5.1.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#29"}}{\fldrslt { for }}}details.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#41"}}{\fldrslt {7.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#41"}}{\fldrslt {. }}} Authenticating Connection IDs}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The choice each endpoint makes about connection IDs during the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   handshake is authenticated by including all values in transport}\par\pard\li760\ri0\sl-240\slmult0 \*\tx3013\fs20\cf0\f1\charscalex100 {   parameters; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#43"}}{\fldrslt {Section 7.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#43"}}{\fldrslt {. }}} This ensures that all connection IDs}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   used for the handshake are also authenticated by the cryptographic}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   handshake.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Each endpoint includes the value of the Source Connection ID field}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   from the first Initial packet it sent in the}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7520\fs20\cf0\f1\charscalex100 {   initial_source_connection_id transport parameter; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {Section 18.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   A server includes the Destination Connection ID field from the first}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Initial packet it received from the client in the}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   original_destination_connection_id transport parameter; if the server}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   sent a Retry packet this refers to the first Initial packet received}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   before sending the Retry packet.  If it sends a Retry packet, a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   server also includes the Source Connection ID field from the Retry}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet in the retry_source_connection_id transport parameter.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 41]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2110\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2111\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#42"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   The values provided by a peer for these transport parameters MUST}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   match the values that an endpoint used in the Destination and Source}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Connection ID fields of Initial packets that it sent.  Including}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection ID values in transport parameters and verifying them}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   ensures that that an attacker cannot influence the choice of}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   connection ID for a successful connection by injecting packets}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   carrying attacker-chosen connection IDs during the handshake.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint MUST treat absence of the initial_source_connection_id}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   transport parameter from either endpoint or absence of the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   original_destination_connection_id transport parameter from the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   server as a connection error of type TRANSPORT_PARAMETER_ERROR.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint MUST treat the following as a connection error of type}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   TRANSPORT_PARAMETER_ERROR or PROTOCOL_VIOLATION:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   *  absence of the retry_source_connection_id transport parameter from}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      the server after receiving a Retry packet,}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  presence of the retry_source_connection_id transport parameter}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      when no Retry packet was received, or}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  a mismatch between values received from a peer in these transport}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      parameters and the value sent in the corresponding Destination or}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      Source Connection ID fields of Initial packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   If a zero-length connection ID is selected, the corresponding}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   transport parameter is included with a zero-length value.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Figure 6 shows the connection IDs (with DCID=Destination Connection}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   ID, SCID=Source Connection ID) that are used in a complete handshake.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   The exchange of Initial packets is shown, plus the later exchange of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   1-RTT packets that includes the connection ID established during the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   handshake.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Client                                                  Server}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Initial: DCID=S1, SCID=C1 ->}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {                                     <- Initial: DCID=C1, SCID=S3}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {                                ...}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   1-RTT: DCID=S3 ->}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {                                                <- 1-RTT: DCID=C1}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {               Figure 6: Use of Connection IDs in a Handshake}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Figure 7 shows a similar handshake that includes a Retry packet.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-360\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 42]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2112\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2113\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#43"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   Client                                                  Server}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Initial: DCID=S1, SCID=C1 ->}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {                                       <- Retry: DCID=C1, SCID=S2}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Initial: DCID=S2, SCID=C1 ->}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {                                     <- Initial: DCID=C1, SCID=S3}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {                                ...}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   1-RTT: DCID=S3 ->}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {                                                <- 1-RTT: DCID=C1}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {         Figure 7: Use of Connection IDs in a Handshake with Retry}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   In both cases (Figure 6 and Figure 7), the client sets the value of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the initial_source_connection_id transport parameter to "C1".}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   When the handshake does not include a Retry (Figure 6), the server}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   sets original_destination_connection_id to "S1" and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   initial_source_connection_id to "S3".  In this case, the server does}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   not include a retry_source_connection_id transport parameter.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   When the handshake includes a Retry (Figure 7), the server sets}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   original_destination_connection_id to "S1",}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   retry_source_connection_id to "S2", and initial_source_connection_id}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to "S3".}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Each endpoint validates transport parameters set by the peer.  The}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   client confirms that the retry_source_connection_id transport}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   parameter is absent if it did not process a Retry packet.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#43"}}{\fldrslt {7.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#43"}}{\fldrslt {. }}} Transport Parameters}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   During connection establishment, both endpoints make authenticated}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   declarations of their transport parameters.  Endpoints are required}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   to comply with the restrictions that each parameter defines; the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   description of each parameter includes rules for its handling.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Transport parameters are declarations that are made unilaterally by}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   each endpoint.  Each endpoint can choose values for transport}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   parameters independent of the values chosen by its peer.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx7760\fs20\cf0\f1\charscalex100 {   The encoding of the transport parameters is detailed in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#116"}}{\fldrslt {Section 18}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#116"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC includes the encoded transport parameters in the cryptographic}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   handshake.  Once the handshake completes, the transport parameters}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   declared by the peer are available.  Each endpoint validates the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   value provided by its peer.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-360\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 43]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2114\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2115\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#44"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs18\cf0\f1\charscalex100 {   Definitions for each of the defined transport parameters are included}\par\pard\li760\ri0\sl-240\slmult0 \*\tx1466\fs20\cf0\f1\charscalex100 {   in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {Section 18.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint MUST treat receipt of a transport parameter with an}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   invalid value as a connection error of type}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   TRANSPORT_PARAMETER_ERROR.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint MUST NOT send a parameter more than once in a given}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   transport parameters extension.  An endpoint SHOULD treat receipt of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   duplicate transport parameters as a connection error of type}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   TRANSPORT_PARAMETER_ERROR.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   Endpoints use transport parameters to authenticate the negotiation of}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5986\fs20\cf0\f1\charscalex100 {   connection IDs during the handshake; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#41"}}{\fldrslt {Section 7.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#41"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#44"}}{\fldrslt {7.4.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#44"}}{\fldrslt {. }}} Values of Transport Parameters for 0-RTT}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Both endpoints store the value of the server transport parameters}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   from a connection and apply them to any 0-RTT packets that are sent}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   in subsequent connections to that peer, except for transport}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   parameters that are explicitly excluded.  Remembered transport}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   parameters apply to the new connection until the handshake completes}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   and the client starts sending 1-RTT packets.  Once the handshake}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   completes, the client uses the transport parameters established in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the handshake.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The definition of new transport parameters {\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {Section 7.4.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {) }}}MUST}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   specify whether they MUST, MAY, or MUST NOT be stored for 0-RTT.  A}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   client need not store a transport parameter it cannot process.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   A client MUST NOT use remembered values for the following parameters:}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   ack_delay_exponent, max_ack_delay, initial_source_connection_id,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   original_destination_connection_id, preferred_address,}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   retry_source_connection_id, and stateless_reset_token.  The client}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   MUST use the server\uc1\u8217Xs new values in the handshake instead, and absent}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   new values from the server, the default value.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A client that attempts to send 0-RTT data MUST remember all other}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   transport parameters used by the server.  The server can remember}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   these transport parameters, or store an integrity-protected copy of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the values in the ticket and recover the information when accepting}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   0-RTT data.  A server uses the transport parameters in determining}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   whether to accept 0-RTT data.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 44]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2116\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2117\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#45"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   If 0-RTT data is accepted by the server, the server MUST NOT reduce}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   any limits or alter any values that might be violated by the client}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   with its 0-RTT data.  In particular, a server that accepts 0-RTT data}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   MUST NOT set values for the following parameters {\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {Section 18.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {) }}}that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   are smaller than the remembered value of the parameters.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  active_connection_id_limit}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  initial_max_data}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  initial_max_stream_data_bidi_local}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  initial_max_stream_data_bidi_remote}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  initial_max_stream_data_uni}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  initial_max_streams_bidi}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  initial_max_streams_uni}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   Omitting or setting a zero value for certain transport parameters can}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   result in 0-RTT data being enabled, but not usable.  The applicable}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   subset of transport parameters that permit sending of application}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   data SHOULD be set to non-zero values for 0-RTT.  This includes}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   initial_max_data and either initial_max_streams_bidi and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   initial_max_stream_data_bidi_remote, or initial_max_streams_uni and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   initial_max_stream_data_uni.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A server MUST either reject 0-RTT data or abort a handshake if the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   implied values for transport parameters cannot be supported.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   When sending frames in 0-RTT packets, a client MUST only use}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   remembered transport parameters; importantly, it MUST NOT use updated}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   values that it learns from the server\uc1\u8217Xs updated transport parameters}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   or from frames received in 1-RTT packets.  Updated values of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   transport parameters from the handshake apply only to 1-RTT packets.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   For instance, flow control limits from remembered transport}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   parameters apply to all 0-RTT packets even if those values are}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   increased by the handshake or by frames sent in 1-RTT packets.  A}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   server MAY treat use of updated transport parameters in 0-RTT as a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection error of type PROTOCOL_VIOLATION.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 45]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2118\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2119\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {7.4.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {. }}} New Transport Parameters}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   New transport parameters can be used to negotiate new protocol}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   behavior.  An endpoint MUST ignore transport parameters that it does}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   not support.  Absence of a transport parameter therefore disables any}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   optional protocol feature that is negotiated using the parameter.  As}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2653\fs20\cf0\f1\charscalex100 {   described in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {Section 18.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {, }}}some identifiers are reserved in order to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   exercise this requirement.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   New transport parameters can be registered according to the rules in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#157"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#157"}}{\fldrslt {Section 22.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#157"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {7.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {. }}} Cryptographic Message Buffering}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   Implementations need to maintain a buffer of CRYPTO data received out}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   of order.  Because there is no flow control of CRYPTO frames, an}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint could potentially force its peer to buffer an unbounded}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   amount of data.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Implementations MUST support buffering at least 4096 bytes of data}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   received in out of order CRYPTO frames.  Endpoints MAY choose to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   allow more data to be buffered during the handshake.  A larger limit}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   during the handshake could allow for larger keys or credentials to be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   exchanged.  An endpoint\uc1\u8217Xs buffer size does not need to remain}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   constant during the life of the connection.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   Being unable to buffer CRYPTO frames during the handshake can lead to}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   a connection failure.  If an endpoint\uc1\u8217Xs buffer is exceeded during the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   handshake, it can expand its buffer temporarily to complete the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   handshake.  If an endpoint does not expand its buffer, it MUST close}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the connection with a CRYPTO_BUFFER_EXCEEDED error code.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Once the handshake completes, if an endpoint is unable to buffer all}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   data in a CRYPTO frame, it MAY discard that CRYPTO frame and all}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   CRYPTO frames received in the future, or it MAY close the connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   with a CRYPTO_BUFFER_EXCEEDED error code.  Packets containing}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   discarded CRYPTO frames MUST be acknowledged because the packet has}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   been received and processed by the transport even though the CRYPTO}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   frame was discarded.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {8}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {. }}} Address Validation}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Address validation ensures that an endpoint cannot be used for a}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   traffic amplification attack.  In such an attack, a packet is sent to}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   a server with spoofed source address information that identifies a}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   victim.  If a server generates more or larger packets in response to}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that packet, the attacker can use the server to send more data toward}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the victim than it would be able to send on its own.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-306\slmult0 \fs20\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 46]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2120\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2121\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#47"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs18\cf0\f1\charscalex100 {   The primary defense against amplification attack is verifying that an}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint is able to receive packets at the transport address that it}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   claims.  Address validation is performed both during connection}\par\pard\li760\ri0\sl-240\slmult0 \*\tx3373\fs20\cf0\f1\charscalex100 {   establishment (see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#47"}}{\fldrslt {Section 8.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#47"}}{\fldrslt {) }}}and during connection migration (see}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt {Section 8.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt {).}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#47"}}{\fldrslt {8.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#47"}}{\fldrslt {. }}} Address Validation During Connection Establishment}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Connection establishment implicitly provides address validation for}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   both endpoints.  In particular, receipt of a packet protected with}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Handshake keys confirms that the client received the Initial packet}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   from the server.  Once the server has successfully processed a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Handshake packet from the client, it can consider the client address}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to have been validated.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Prior to validating the client address, servers MUST NOT send more}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   than three times as many bytes as the number of bytes they have}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   received.  This limits the magnitude of any amplification attack that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   can be mounted using spoofed source addresses.  For the purposes of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   avoiding amplification prior to address validation, servers MUST}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   count all of the payload bytes received in datagrams that are}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   uniquely attributed to a single connection.  This includes datagrams}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   that contain packets that are successfully processed and datagrams}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that contain packets that are all discarded.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Clients MUST ensure that UDP datagrams containing Initial packets}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   have UDP payloads of at least 1200 bytes, adding padding to packets}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   in the datagram as necessary.  A client that sends padded datagrams}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   allows the server to send more data prior to completing address}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   validation.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Loss of an Initial or Handshake packet from the server can cause a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   deadlock if the client does not send additional Initial or Handshake}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   packets.  A deadlock could occur when the server reaches its anti-}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   amplification limit and the client has received acknowledgements for}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   all the data it has sent.  In this case, when the client has no}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   reason to send additional packets, the server will be unable to send}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   more data because it has not validated the client\uc1\u8217Xs address.  To}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   prevent this deadlock, clients MUST send a packet on a probe timeout}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   (PTO, see Section 6.2 of {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-RECOVERY}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {]). }}} Specifically, the client}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   MUST send an Initial packet in a UDP datagram that contains at least}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   1200 bytes if it does not have Handshake keys, and otherwise send a}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Handshake packet.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs20\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 47]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2122\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2123\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#48"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   A server might wish to validate the client address before starting}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   the cryptographic handshake.  QUIC uses a token in the Initial packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to provide address validation prior to completing the handshake.}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   This token is delivered to the client during connection establishment}\par\pard\li760\ri0\sl-240\slmult0 \*\tx4080\fs20\cf0\f1\charscalex100 {   with a Retry packet (see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#48"}}{\fldrslt {Section 8.1.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#48"}}{\fldrslt {) }}}or in a previous connection}\par\pard\li760\ri0\sl-226\slmult0 \*\tx4786\fs20\cf0\f1\charscalex100 {   using the NEW_TOKEN frame (see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#49"}}{\fldrslt {Section 8.1.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#49"}}{\fldrslt {).}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   In addition to sending limits imposed prior to address validation,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   servers are also constrained in what they can send by the limits set}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   by the congestion controller.  Clients are only constrained by the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   congestion controller.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#48"}}{\fldrslt {8.1.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#48"}}{\fldrslt {. }}} Token Construction}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A token sent in a NEW_TOKEN frames or a Retry packet MUST be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   constructed in a way that allows the server to identify how it was}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   provided to a client.  These tokens are carried in the same field,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   but require different handling from servers.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#48"}}{\fldrslt {8.1.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#48"}}{\fldrslt {. }}} Address Validation using Retry Packets}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Upon receiving the client\uc1\u8217Xs Initial packet, the server can request}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   address validation by sending a Retry packet {\field{\*\fldinst{HYPERLINK "#111"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#111"}}{\fldrslt {Section 17.2.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#111"}}{\fldrslt {)}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   containing a token.  This token MUST be repeated by the client in all}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Initial packets it sends for that connection after it receives the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Retry packet.  In response to processing an Initial containing a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   token, a server can either abort the connection or permit it to}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   proceed.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   As long as it is not possible for an attacker to generate a valid}\par\pard\li760\ri0\sl-240\slmult0 \*\tx4786\fs20\cf0\f1\charscalex100 {   token for its own address (see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#51"}}{\fldrslt {Section 8.1.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#51"}}{\fldrslt {) }}}and the client is able}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to return that token, it proves to the server that it received the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   token.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A server can also use a Retry packet to defer the state and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   processing costs of connection establishment.  Requiring the server}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to provide a different connection ID, along with the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   original_destination_connection_id transport parameter defined in}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {Section 18.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {, }}}forces the server to demonstrate that it, or an entity}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   it cooperates with, received the original Initial packet from the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   client.  Providing a different connection ID also grants a server}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   some control over how subsequent packets are routed.  This can be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   used to direct connections to a different server instance.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   If a server receives a client Initial that can be unprotected but}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   contains an invalid Retry token, it knows the client will not accept}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   another Retry token.  The server can discard such a packet and allow}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the client to time out to detect handshake failure, but that could}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 48]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2124\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2125\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#49"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   impose a significant latency penalty on the client.  Instead, the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   server SHOULD immediately close {\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt {Section 10.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt {) }}}the connection with an}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   INVALID_TOKEN error.  Note that a server has not established any}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   state for the connection at this point and so does not enter the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   closing period.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A flow showing the use of a Retry packet is shown in Figure 8.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Client                                                  Server}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Initial[0]: CRYPTO[CH] ->}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {                                                   <- Retry+Token}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Initial+Token[1]: CRYPTO[CH] ->}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {                                    Initial[0]: CRYPTO[SH] ACK[1]}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {                          Handshake[0]: CRYPTO[EE, CERT, CV, FIN]}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {                                    <- 1-RTT[0]: STREAM[1, "..."]}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {                   Figure 8: Example Handshake with Retry}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#49"}}{\fldrslt {8.1.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#49"}}{\fldrslt {. }}} Address Validation for Future Connections}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A server MAY provide clients with an address validation token during}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   one connection that can be used on a subsequent connection.  Address}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   validation is especially important with 0-RTT because a server}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   potentially sends a significant amount of data to a client in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   response to 0-RTT data.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx5386\fs20\cf0\f1\charscalex100 {   The server uses the NEW_TOKEN frame}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#128"}}{\fldrslt {Section 19.7}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#128"}}{\fldrslt { to }}}provide the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   client with an address validation token that can be used to validate}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   future connections.  The client includes this token in Initial}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   packets to provide address validation in a future connection.  The}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   client MUST include the token in all Initial packets it sends, unless}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   a Retry replaces the token with a newer one.  The client MUST NOT use}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the token provided in a Retry for future connections.  Servers MAY}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   discard any Initial packet that does not carry the expected token.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Unlike the token that is created for a Retry packet, which is used}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   immediately, the token sent in the NEW_TOKEN frame might be used}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   after some period of time has passed.  Thus, a token SHOULD have an}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   expiration time, which could be either an explicit expiration time or}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   an issued timestamp that can be used to dynamically calculate the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   expiration time.  A server can store the expiration time or include}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   it in an encrypted form in the token.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-360\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 49]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2126\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2127\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#50"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs18\cf0\f1\charscalex100 {   A token issued with NEW_TOKEN MUST NOT include information that would}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   allow values to be linked by an observer to the connection on which}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   it was issued, unless the values are encrypted.  For example, it}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   cannot include the previous connection ID or addressing information.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   A server MUST ensure that every NEW_TOKEN frame it sends is unique}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   across all clients, with the exception of those sent to repair losses}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   of previously sent NEW_TOKEN frames.  Information that allows the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   server to distinguish between tokens from Retry and NEW_TOKEN MAY be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   accessible to entities other than the server.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   It is unlikely that the client port number is the same on two}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   different connections; validating the port is therefore unlikely to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   be successful.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A token received in a NEW_TOKEN frame is applicable to any server}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that the connection is considered authoritative for (e.g., server}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   names included in the certificate).  When connecting to a server for}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   which the client retains an applicable and unused token, it SHOULD}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   include that token in the Token field of its Initial packet.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Including a token might allow the server to validate the client}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   address without an additional round trip.  A client MUST NOT include}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   a token that is not applicable to the server that it is connecting}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   to, unless the client has the knowledge that the server that issued}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the token and the server the client is connecting to are jointly}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   managing the tokens.  A client MAY use a token from any previous}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection to that server.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A token allows a server to correlate activity between the connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   where the token was issued and any connection where it is used.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Clients that want to break continuity of identity with a server MAY}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   discard tokens provided using the NEW_TOKEN frame.  In comparison, a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   token obtained in a Retry packet MUST be used immediately during the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection attempt and cannot be used in subsequent connection}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   attempts.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A client SHOULD NOT reuse a NEW_TOKEN token for different connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   attempts.  Reusing a token allows connections to be linked by}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5146\fs20\cf0\f1\charscalex100 {   entities on the network path; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#60"}}{\fldrslt {Section 9.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#60"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Clients might receive multiple tokens on a single connection.  Aside}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   from preventing linkability, any token can be used in any connection}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   attempt.  Servers can send additional tokens to either enable address}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   validation for multiple connection attempts or to replace older}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   tokens that might become invalid.  For a client, this ambiguity means}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   that sending the most recent unused token is most likely to be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   effective.  Though saving and using older tokens has no negative}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   consequences, clients can regard older tokens as being less likely be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   useful to the server for address validation.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 50]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2128\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2129\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#51"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   When a server receives an Initial packet with an address validation}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   token, it MUST attempt to validate the token, unless it has already}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   completed address validation.  If the token is invalid then the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   server SHOULD proceed as if the client did not have a validated}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   address, including potentially sending a Retry.  A server SHOULD}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   encode tokens provided with NEW_TOKEN frames and Retry packets}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   differently, and validate the latter more strictly.  If the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   validation succeeds, the server SHOULD then allow the handshake to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   proceed.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Note:  The rationale for treating the client as unvalidated rather}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      than discarding the packet is that the client might have received}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      the token in a previous connection using the NEW_TOKEN frame, and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      if the server has lost state, it might be unable to validate the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      token at all, leading to connection failure if the packet is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      discarded.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   In a stateless design, a server can use encrypted and authenticated}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   tokens to pass information to clients that the server can later}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   recover and use to validate a client address.  Tokens are not}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   integrated into the cryptographic handshake and so they are not}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   authenticated.  For instance, a client might be able to reuse a}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   token.  To avoid attacks that exploit this property, a server can}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   limit its use of tokens to only the information needed to validate}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   client addresses.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Clients MAY use tokens obtained on one connection for any connection}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   attempt using the same version.  When selecting a token to use,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   clients do not need to consider other properties of the connection}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   that is being attempted, including the choice of possible application}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   protocols, session tickets, or other connection properties.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Attackers could replay tokens to use servers as amplifiers in DDoS}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   attacks.  To protect against such attacks, servers SHOULD ensure that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   tokens sent in Retry packets are only accepted for a short time.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Tokens that are provided in NEW_TOKEN frames {\field{\*\fldinst{HYPERLINK "#128"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#128"}}{\fldrslt {Section 19.7}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#128"}}{\fldrslt {) }}}need to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   be valid for longer, but SHOULD NOT be accepted multiple times in a}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   short period.  Servers are encouraged to allow tokens to be used only}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   once, if possible.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#51"}}{\fldrslt {8.1.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#51"}}{\fldrslt {. }}} Address Validation Token Integrity}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An address validation token MUST be difficult to guess.  Including a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   large enough random value in the token would be sufficient, but this}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   depends on the server remembering the value it sends to clients.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-173\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 51]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2130\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2131\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   A token-based scheme allows the server to offload any state}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   associated with validation to the client.  For this design to work,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the token MUST be covered by integrity protection against}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   modification or falsification by clients.  Without integrity}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   protection, malicious clients could generate or guess values for}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   tokens that would be accepted by the server.  Only the server}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   requires access to the integrity protection key for tokens.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   There is no need for a single well-defined format for the token}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   because the server that generates the token also consumes it.  Tokens}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   sent in Retry packets SHOULD include information that allows the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   server to verify that the source IP address and port in client}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets remain constant.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Tokens sent in NEW_TOKEN frames MUST include information that allows}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the server to verify that the client IP address has not changed from}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   when the token was issued.  Servers can use tokens from NEW_TOKEN in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   deciding not to send a Retry packet, even if the client address has}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   changed.  If the client IP address has changed, the server MUST}\par\pard\li760\ri0\sl-240\slmult0 \*\tx6933\fs20\cf0\f1\charscalex100 {   adhere to the anti-amplification limits found in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#47"}}{\fldrslt {Section 8.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#47"}}{\fldrslt {. }}} Note}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that in the presence of NAT, this requirement might be insufficient}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to protect other hosts that share the NAT from amplification attack.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Servers MUST ensure that replay of tokens is prevented or limited.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   For instance, servers might limit the time over which a token is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   accepted.  Tokens provided in NEW_TOKEN frames might need to allow}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   longer validity periods.  Tokens MAY include additional information}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   about clients to further narrow applicability or reuse.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt {8.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt {. }}} Path Validation}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx7880\fs20\cf0\f1\charscalex100 {   Path validation is used during connection migration (see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {Section 9}}}}\par\pard\li760\ri0\sl-240\slmult0 \*\tx1586\fs20\cf0\f1\charscalex100 {   and}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#62"}}{\fldrslt {Section 9.6}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#62"}}{\fldrslt {) }}}by the migrating endpoint to verify reachability of}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   a peer from a new local address.  In path validation, endpoints test}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   reachability between a specific local address and a specific peer}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   address, where an address is the two-tuple of IP address and port.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Path validation tests that packets (PATH_CHALLENGE) can be both sent}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   to and received (PATH_RESPONSE) from a peer on the path.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Importantly, it validates that the packets received from the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   migrating endpoint do not carry a spoofed source address.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Path validation can be used at any time by either endpoint.  For}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   instance, an endpoint might check that a peer is still in possession}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   of its address after a period of quiescence.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-173\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 52]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2132\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2133\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#53"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs18\cf0\f1\charscalex100 {   Path validation is not designed as a NAT traversal mechanism.  Though}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the mechanism described here might be effective for the creation of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   NAT bindings that support NAT traversal, the expectation is that one}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   or other peer is able to receive packets without first having sent a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet on that path.  Effective NAT traversal needs additional}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   synchronization mechanisms that are not provided here.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint MAY bundle PATH_CHALLENGE and PATH_RESPONSE frames that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   are used for path validation with other frames.  In particular, an}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint may pad a packet carrying a PATH_CHALLENGE for PMTU}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   discovery, or an endpoint may bundle a PATH_RESPONSE with its own}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   PATH_CHALLENGE.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   When probing a new path, an endpoint might want to ensure that its}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   peer has an unused connection ID available for responses.  The}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint can send NEW_CONNECTION_ID and PATH_CHALLENGE frames in the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   same packet.  This ensures that an unused connection ID will be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   available to the peer when sending a response.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#53"}}{\fldrslt {8.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#53"}}{\fldrslt {. }}} Initiating Path Validation}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   To initiate path validation, an endpoint sends a PATH_CHALLENGE frame}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   containing a random payload on the path to be validated.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint MAY send multiple PATH_CHALLENGE frames to guard against}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet loss.  However, an endpoint SHOULD NOT send multiple}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   PATH_CHALLENGE frames in a single packet.  An endpoint SHOULD NOT}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   send a PATH_CHALLENGE more frequently than it would an Initial}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet, ensuring that connection migration is no more load on a new}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   path than establishing a new connection.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The endpoint MUST use unpredictable data in every PATH_CHALLENGE}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   frame so that it can associate the peer\uc1\u8217Xs response with the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   corresponding PATH_CHALLENGE.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#53"}}{\fldrslt {8.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#53"}}{\fldrslt {. }}} Path Validation Responses}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   On receiving a PATH_CHALLENGE frame, an endpoint MUST respond}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   immediately by echoing the data contained in the PATH_CHALLENGE frame}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   in a PATH_RESPONSE frame.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint MUST NOT send more than one PATH_RESPONSE frame in}\par\pard\li760\ri0\sl-240\slmult0 \*\tx6093\fs20\cf0\f1\charscalex100 {   response to one PATH_CHALLENGE frame; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#89"}}{\fldrslt {Section 13.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#89"}}{\fldrslt {. }}} The peer is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   expected to send more PATH_CHALLENGE frames as necessary to evoke}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   additional PATH_RESPONSE frames.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-173\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 53]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2134\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2135\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {8.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {. }}} Successful Path Validation}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A new address is considered valid when a PATH_RESPONSE frame is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   received that contains the data that was sent in a previous}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   PATH_CHALLENGE.  Receipt of an acknowledgment for a packet containing}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   a PATH_CHALLENGE frame is not adequate validation, since the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   acknowledgment can be spoofed by a malicious peer.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Note that receipt on a different local address does not result in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   path validation failure, as it might be a result of a forwarded}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2533\fs20\cf0\f1\charscalex100 {   packet (see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#58"}}{\fldrslt {Section 9.3.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#58"}}{\fldrslt {) }}}or misrouting.  It is possible that a}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   valid PATH_RESPONSE might be received in the future.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {8.6}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {. }}} Failed Path Validation}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Path validation only fails when the endpoint attempting to validate}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   the path abandons its attempt to validate the path.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Endpoints SHOULD abandon path validation based on a timer.  When}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   setting this timer, implementations are cautioned that the new path}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   could have a longer round-trip time than the original.  A value of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   three times the larger of the current Probe Timeout (PTO) or the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   initial timeout (that is, 2*kInitialRtt) as defined in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt { [}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-RECOVERY}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {] }}}is RECOMMENDED.  That is:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      validation_timeout = max(3*PTO, 6*kInitialRtt)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Note that the endpoint might receive packets containing other frames}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   on the new path, but a PATH_RESPONSE frame with appropriate data is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   required for path validation to succeed.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   When an endpoint abandons path validation, it determines that the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   path is unusable.  This does not necessarily imply a failure of the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   connection - endpoints can continue sending packets over other paths}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   as appropriate.  If no paths are available, an endpoint can wait for}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   a new path to become available or close the connection.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A path validation might be abandoned for other reasons besides}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   failure.  Primarily, this happens if a connection migration to a new}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   path is initiated while a path validation on the old path is in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   progress.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {9}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {. }}} Connection Migration}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The use of a connection ID allows connections to survive changes to}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint addresses (IP address and port), such as those caused by an}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint migrating to a new network.  This section describes the}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   process by which an endpoint migrates to a new address.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-306\slmult0 \fs20\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 54]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2136\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2137\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#55"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs18\cf0\f1\charscalex100 {   The design of QUIC relies on endpoints retaining a stable address for}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the duration of the handshake.  An endpoint MUST NOT initiate}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   connection migration before the handshake is confirmed, as defined in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   section 4.1.2 of {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {].}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   If the peer sent the disable_active_migration transport parameter, an}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint also MUST NOT send packets (including probing packets; see}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#55"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#55"}}{\fldrslt {Section 9.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#55"}}{\fldrslt {) }}}from a different local address to the address the peer}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   used during the handshake.  An endpoint that has sent this transport}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   parameter, but detects that a peer has nonetheless migrated to a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   different remote address MUST either drop the incoming packets on}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   that path without generating a stateless reset or proceed with path}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   validation and allow the peer to migrate.  Generating a stateless}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   reset or closing the connection would allow third parties in the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   network to cause connections to close by spoofing or otherwise}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   manipulating observed traffic.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Not all changes of peer address are intentional, or active,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   migrations.  The peer could experience NAT rebinding: a change of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   address due to a middlebox, usually a NAT, allocating a new outgoing}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   port or even a new outgoing IP address for a flow.  An endpoint MUST}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   perform path validation {\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt {Section 8.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt {) }}}if it detects any change to a}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   peer\uc1\u8217Xs address, unless it has previously validated that address.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   When an endpoint has no validated path on which to send packets, it}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   MAY discard connection state.  An endpoint capable of connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   migration MAY wait for a new path to become available before}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   discarding connection state.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   This document limits migration of connections to new client}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5146\fs20\cf0\f1\charscalex100 {   addresses, except as described in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#62"}}{\fldrslt {Section 9.6}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#62"}}{\fldrslt {. }}} Clients are}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   responsible for initiating all migrations.  Servers do not send non-}\par\pard\li760\ri0\sl-240\slmult0 \*\tx3600\fs20\cf0\f1\charscalex100 {   probing packets (see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#55"}}{\fldrslt {Section 9.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#55"}}{\fldrslt {) }}}toward a client address until they}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   see a non-probing packet from that address.  If a client receives}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets from an unknown server address, the client MUST discard these}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#55"}}{\fldrslt {9.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#55"}}{\fldrslt {. }}} Probing a New Path}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint MAY probe for peer reachability from a new local address}\par\pard\li760\ri0\sl-240\slmult0 \*\tx3720\fs20\cf0\f1\charscalex100 {   using path validation}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt {Section 8.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt { prior }}}to migrating the connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to the new local address.  Failure of path validation simply means}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that the new path is not usable for this connection.  Failure to}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   validate a path does not cause the connection to end unless there are}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   no valid alternative paths available.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-173\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 55]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2138\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2139\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#56"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs18\cf0\f1\charscalex100 {   An endpoint uses a new connection ID for probes sent from a new local}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2653\fs20\cf0\f1\charscalex100 {   address; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#60"}}{\fldrslt {Section 9.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#60"}}{\fldrslt { for }}}further discussion.  An endpoint that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   uses a new local address needs to ensure that at least one new}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection ID is available at the peer.  That can be achieved by}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   including a NEW_CONNECTION_ID frame in the probe.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Receiving a PATH_CHALLENGE frame from a peer indicates that the peer}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   is probing for reachability on a path.  An endpoint sends a}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5026\fs20\cf0\f1\charscalex100 {   PATH_RESPONSE in response as per}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt {Section 8.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   PATH_CHALLENGE, PATH_RESPONSE, NEW_CONNECTION_ID, and PADDING frames}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   are "probing frames", and all other frames are "non-probing frames".}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   A packet containing only probing frames is a "probing packet", and a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet containing any other frame is a "non-probing packet".}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#56"}}{\fldrslt {9.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#56"}}{\fldrslt {. }}} Initiating Connection Migration}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint can migrate a connection to a new local address by}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   sending packets containing non-probing frames from that address.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Each endpoint validates its peer\uc1\u8217Xs address during connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   establishment.  Therefore, a migrating endpoint can send to its peer}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   knowing that the peer is willing to receive at the peer\uc1\u8217Xs current}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   address.  Thus an endpoint can migrate to a new local address without}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   first validating the peer\uc1\u8217Xs address.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   When migrating, the new path might not support the endpoint\uc1\u8217Xs current}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   sending rate.  Therefore, the endpoint resets its congestion}\par\pard\li760\ri0\sl-240\slmult0 \*\tx4440\fs20\cf0\f1\charscalex100 {   controller, as described in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#59"}}{\fldrslt {Section 9.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#59"}}{\fldrslt {.}}}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The new path might not have the same ECN capability.  Therefore, the}\par\pard\li746\ri0\sl-240\slmult0 \*\tx6933\fs20\cf0\f1\charscalex100 {   endpoint verifies ECN capability as described in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#92"}}{\fldrslt {Section 13.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#92"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Receiving acknowledgments for data sent on the new path serves as}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   proof of the peer\uc1\u8217Xs reachability from the new address.  Note that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   since acknowledgments may be received on any path, return}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   reachability on the new path is not established.  To establish return}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   reachability on the new path, an endpoint MAY concurrently initiate}\par\pard\li760\ri0\sl-226\slmult0 \*\tx3013\fs20\cf0\f1\charscalex100 {   path validation}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt {Section 8.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt { on }}}the new path or it MAY choose to wait}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   for the peer to send the next non-probing frame to its new address.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#56"}}{\fldrslt {9.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#56"}}{\fldrslt {. }}} Responding to Connection Migration}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Receiving a packet from a new peer address containing a non-probing}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   frame indicates that the peer has migrated to that address.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-173\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 56]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2140\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2141\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#57"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   In response to such a packet, an endpoint MUST start sending}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   subsequent packets to the new peer address and MUST initiate path}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   validation {\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt {Section 8.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt {) }}}to verify the peer\uc1\u8217Xs ownership of the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   unvalidated address.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   An endpoint MAY send data to an unvalidated peer address, but it MUST}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7053\fs20\cf0\f1\charscalex100 {   protect against potential attacks as described in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#57"}}{\fldrslt {Section 9.3.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#57"}}{\fldrslt { and}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#58"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#58"}}{\fldrslt {Section 9.3.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#58"}}{\fldrslt {. }}} An endpoint MAY skip validation of a peer address if}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that address has been seen recently.  In particular, if an endpoint}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   returns to a previously-validated path after detecting some form of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   spurious migration, skipping address validation and restoring loss}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   detection and congestion state can reduce the performance impact of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the attack.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint only changes the address that it sends packets to in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   response to the highest-numbered non-probing packet.  This ensures}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   that an endpoint does not send packets to an old peer address in the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   case that it receives reordered packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   After changing the address to which it sends non-probing packets, an}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint could abandon any path validation for other addresses.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Receiving a packet from a new peer address might be the result of a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   NAT rebinding at the peer.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   After verifying a new client address, the server SHOULD send new}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   address validation tokens {\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {Section 8}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {) }}}to the client.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#57"}}{\fldrslt {9.3.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#57"}}{\fldrslt {. }}} Peer Address Spoofing}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   It is possible that a peer is spoofing its source address to cause an}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint to send excessive amounts of data to an unwilling host.  If}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the endpoint sends significantly more data than the spoofing peer,}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   connection migration might be used to amplify the volume of data that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   an attacker can generate toward a victim.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx3013\fs20\cf0\f1\charscalex100 {   As described in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#56"}}{\fldrslt {Section 9.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#56"}}{\fldrslt {, }}}an endpoint is required to validate a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   peer\uc1\u8217Xs new address to confirm the peer\uc1\u8217Xs possession of the new}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   address.  Until a peer\uc1\u8217Xs address is deemed valid, an endpoint MUST}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   limit the rate at which it sends data to this address.  The endpoint}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   MUST NOT send more than a minimum congestion window\uc1\u8217Xs worth of data}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   per estimated round-trip time (kMinimumWindow, as defined in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt { [}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-RECOVERY}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {]). }}} In the absence of this limit, an endpoint risks}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   being used for a denial of service attack against an unsuspecting}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   victim.  Note that since the endpoint will not have any round-trip}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   time measurements to this address, the estimate SHOULD be the default}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   initial value; see {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-RECOVERY}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {].}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 57]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2142\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2143\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#58"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   If an endpoint skips validation of a peer address as described in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#56"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#56"}}{\fldrslt {Section 9.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#56"}}{\fldrslt {, }}}it does not need to limit its sending rate.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#58"}}{\fldrslt {9.3.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#58"}}{\fldrslt {. }}} On-Path Address Spoofing}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   An on-path attacker could cause a spurious connection migration by}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   copying and forwarding a packet with a spoofed address such that it}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   arrives before the original packet.  The packet with the spoofed}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   address will be seen to come from a migrating connection, and the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   original packet will be seen as a duplicate and dropped.  After a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   spurious migration, validation of the source address will fail}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   because the entity at the source address does not have the necessary}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   cryptographic keys to read or respond to the PATH_CHALLENGE frame}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that is sent to it even if it wanted to.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   To protect the connection from failing due to such a spurious}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   migration, an endpoint MUST revert to using the last validated peer}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   address when validation of a new peer address fails.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   If an endpoint has no state about the last validated peer address, it}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   MUST close the connection silently by discarding all connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   state.  This results in new packets on the connection being handled}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   generically.  For instance, an endpoint MAY send a stateless reset in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   response to any further incoming packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Note that receipt of packets with higher packet numbers from the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   legitimate peer address will trigger another connection migration.}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   This will cause the validation of the address of the spurious}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   migration to be abandoned.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#58"}}{\fldrslt {9.3.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#58"}}{\fldrslt {. }}} Off-Path Packet Forwarding}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   An off-path attacker that can observe packets might forward copies of}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   genuine packets to endpoints.  If the copied packet arrives before}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   the genuine packet, this will appear as a NAT rebinding.  Any genuine}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet will be discarded as a duplicate.  If the attacker is able to}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   continue forwarding packets, it might be able to cause migration to a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   path via the attacker.  This places the attacker on path, giving it}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   the ability to observe or drop all subsequent packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx4786\fs20\cf0\f1\charscalex100 {   Unlike the attack described in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#58"}}{\fldrslt {Section 9.3.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#58"}}{\fldrslt {, }}}the attacker can ensure}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that the new path is successfully validated.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   This style of attack relies on the attacker using a path that is}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   approximately as fast as the direct path between endpoints.  The}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   attack is more reliable if relatively few packets are sent or if}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet loss coincides with the attempted attack.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 58]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2144\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2145\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#59"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs18\cf0\f1\charscalex100 {   A non-probing packet received on the original path that increases the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   maximum received packet number will cause the endpoint to move back}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to that path.  Eliciting packets on this path increases the}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   likelihood that the attack is unsuccessful.  Therefore, mitigation of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   this attack relies on triggering the exchange of packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   In response to an apparent migration, endpoints MUST validate the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   previously active path using a PATH_CHALLENGE frame.  This induces}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the sending of new packets on that path.  If the path is no longer}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   viable, the validation attempt will time out and fail; if the path is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   viable, but no longer desired, the validation will succeed, but only}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   results in probing packets being sent on the path.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint that receives a PATH_CHALLENGE on an active path SHOULD}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   send a non-probing packet in response.  If the non-probing packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   arrives before any copy made by an attacker, this results in the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   connection being migrated back to the original path.  Any subsequent}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   migration to another path restarts this entire process.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   This defense is imperfect, but this is not considered a serious}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   problem.  If the path via the attack is reliably faster than the}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   original path despite multiple attempts to use that original path, it}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   is not possible to distinguish between attack and an improvement in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   routing.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint could also use heuristics to improve detection of this}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   style of attack.  For instance, NAT rebinding is improbable if}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   packets were recently received on the old path, similarly rebinding}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   is rare on IPv6 paths.  Endpoints can also look for duplicated}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets.  Conversely, a change in connection ID is more likely to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   indicate an intentional migration rather than an attack.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#59"}}{\fldrslt {9.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#59"}}{\fldrslt {. }}} Loss Detection and Congestion Control}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The capacity available on the new path might not be the same as the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   old path.  Packets sent on the old path MUST NOT contribute to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   congestion control or RTT estimation for the new path.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-360\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 59]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2146\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2147\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#60"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs18\cf0\f1\charscalex100 {   On confirming a peer\uc1\u8217Xs ownership of its new address, an endpoint MUST}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   immediately reset the congestion controller and round-trip time}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   estimator for the new path to initial values (see Sections A.3 and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   B.3 in {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-RECOVERY}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {]) }}}unless it has knowledge that a previous send}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   rate or round-trip time estimate is valid for the new path.  For}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   instance, an endpoint might infer that a change in only the client\uc1\u8217Xs}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   port number is indicative of a NAT rebinding, meaning that the new}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   path is likely to have similar bandwidth and round-trip time.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   However, this determination will be imperfect.  If the determination}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   is incorrect, the congestion controller and the RTT estimator are}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   expected to adapt to the new path.  Generally, implementations are}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   advised to be cautious when using previous values on a new path.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   There may be apparent reordering at the receiver when an endpoint}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   sends data and probes from/to multiple addresses during the migration}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   period, since the two resulting paths may have different round-trip}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   times.  A receiver of packets on multiple paths will still send ACK}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   frames covering all received packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   While multiple paths might be used during connection migration, a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   single congestion control context and a single loss recovery context}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   (as described in {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-RECOVERY}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {]) }}}may be adequate.  For instance, an}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint might delay switching to a new congestion control context}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   until it is confirmed that an old path is no longer needed (such as}\par\pard\li746\ri0\sl-240\slmult0 \*\tx2533\fs20\cf0\f1\charscalex100 {   the case in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#58"}}{\fldrslt {Section 9.3.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#58"}}{\fldrslt {).}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A sender can make exceptions for probe packets so that their loss}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   detection is independent and does not unduly cause the congestion}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   controller to reduce its sending rate.  An endpoint might set a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   separate timer when a PATH_CHALLENGE is sent, which is cancelled if}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the corresponding PATH_RESPONSE is received.  If the timer fires}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   before the PATH_RESPONSE is received, the endpoint might send a new}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   PATH_CHALLENGE, and restart the timer for a longer period of time.}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   This timer SHOULD be set as described in Section 6.2.1 of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt { [}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-RECOVERY}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {] }}}and MUST NOT be more aggressive.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#60"}}{\fldrslt {9.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#60"}}{\fldrslt {. }}} Privacy Implications of Connection Migration}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Using a stable connection ID on multiple network paths allows a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   passive observer to correlate activity between those paths.  An}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint that moves between networks might not wish to have their}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   activity correlated by any entity other than their peer, so different}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection IDs are used when sending from different local addresses,}\par\pard\li760\ri0\sl-240\slmult0 \*\tx3013\fs20\cf0\f1\charscalex100 {   as discussed in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#28"}}{\fldrslt {Section 5.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#28"}}{\fldrslt {. }}} For this to be effective endpoints need}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   to ensure that connection IDs they provide cannot be linked by any}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   other entity.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-360\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 60]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2148\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2149\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#61"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   At any time, endpoints MAY change the Destination Connection ID they}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   send to a value that has not been used on another path.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint MUST NOT reuse a connection ID when sending from more}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   than one local address, for example when initiating connection}\par\pard\li760\ri0\sl-226\slmult0 \*\tx4200\fs20\cf0\f1\charscalex100 {   migration as described in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#56"}}{\fldrslt {Section 9.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#56"}}{\fldrslt { or }}}when probing a new network}\par\pard\li760\ri0\sl-240\slmult0 \*\tx3600\fs20\cf0\f1\charscalex100 {   path as described in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#55"}}{\fldrslt {Section 9.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#55"}}{\fldrslt {.}}}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Similarly, an endpoint MUST NOT reuse a connection ID when sending to}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   more than one destination address.  Due to network changes outside}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the control of its peer, an endpoint might receive packets from a new}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   source address with the same destination connection ID, in which case}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   it MAY continue to use the current connection ID with the new remote}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   address while still sending from the same local address.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   These requirements regarding connection ID reuse apply only to the}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   sending of packets, as unintentional changes in path without a change}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   in connection ID are possible.  For example, after a period of}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   network inactivity, NAT rebinding might cause packets to be sent on a}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   new path when the client resumes sending.  An endpoint responds to}\par\pard\li746\ri0\sl-240\slmult0 \*\tx4680\fs20\cf0\f1\charscalex100 {   such an event as described in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#56"}}{\fldrslt {Section 9.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#56"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   Using different connection IDs for packets sent in both directions on}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   each new network path eliminates the use of the connection ID for}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   linking packets from the same connection across different network}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   paths.  Header protection ensures that packet numbers cannot be used}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to correlate activity.  This does not prevent other properties of}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   packets, such as timing and size, from being used to correlate}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   activity.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint SHOULD NOT initiate migration with a peer that has}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   requested a zero-length connection ID, because traffic over the new}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   path might be trivially linkable to traffic over the old one.  If the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   server is able to route packets with a zero-length connection ID to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the right connection, it means that the server is using other}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   information to demultiplex packets.  For example, a server might}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   provide a unique address to every client, for instance using HTTP}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   alternative services {\field{\*\fldinst{HYPERLINK "#162"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#162"}}{\fldrslt {ALTSVC}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#162"}}{\fldrslt {]. }}} Information that might allow correct}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   routing of packets across multiple network paths will also allow}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   activity on those paths to be linked by entities other than the peer.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-293\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 61]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2150\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2151\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#62"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   A client might wish to reduce linkability by employing a new}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   connection ID and source UDP port when sending traffic after a period}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   of inactivity.  Changing the UDP port from which it sends packets at}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the same time might cause the packet to appear as a connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   migration.  This ensures that the mechanisms that support migration}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   are exercised even for clients that don\uc1\u8217Xt experience NAT rebindings}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   or genuine migrations.  Changing port number can cause a peer to}\par\pard\li760\ri0\sl-240\slmult0 \*\tx4906\fs20\cf0\f1\charscalex100 {   reset its congestion state (see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#59"}}{\fldrslt {Section 9.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#59"}}{\fldrslt {), }}}so the port SHOULD only}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   be changed infrequently.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint that exhausts available connection IDs cannot probe new}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   paths or initiate migration, nor can it respond to probes or attempts}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   by its peer to migrate.  To ensure that migration is possible and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets sent on different paths cannot be correlated, endpoints}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   SHOULD provide new connection IDs before peers migrate; see}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#29"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#29"}}{\fldrslt {Section 5.1.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#29"}}{\fldrslt {. }}} If a peer might have exhausted available connection}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   IDs, a migrating endpoint could include a NEW_CONNECTION_ID frame in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   all packets sent on a new network path.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#62"}}{\fldrslt {9.6}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#62"}}{\fldrslt {. }}} Server\uc1\u8217Xs Preferred Address}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC allows servers to accept connections on one IP address and}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   attempt to transfer these connections to a more preferred address}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   shortly after the handshake.  This is particularly useful when}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   clients initially connect to an address shared by multiple servers}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   but would prefer to use a unicast address to ensure connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   stability.  This section describes the protocol for migrating a}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   connection to a preferred server address.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   Migrating a connection to a new server address mid-connection is left}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   for future work.  If a client receives packets from a new server}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   address not indicated by the preferred_address transport parameter,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the client SHOULD discard these packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#62"}}{\fldrslt {9.6.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#62"}}{\fldrslt {. }}} Communicating a Preferred Address}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A server conveys a preferred address by including the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   preferred_address transport parameter in the TLS handshake.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Servers MAY communicate a preferred address of each address family}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   (IPv4 and IPv6) to allow clients to pick the one most suited to their}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   network attachment.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Once the handshake is confirmed, the client SHOULD select one of the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   two server\uc1\u8217Xs preferred addresses and initiate path validation (see}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt {Section 8.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt {) }}}of that address using any previously unused active}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection ID, taken from either the preferred_address transport}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   parameter or a NEW_CONNECTION_ID frame.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 62]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2152\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2153\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#63"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   If path validation succeeds, the client SHOULD immediately begin}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   sending all future packets to the new server address using the new}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   connection ID and discontinue use of the old server address.  If path}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   validation fails, the client MUST continue sending all future packets}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to the server\uc1\u8217Xs original IP address.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#63"}}{\fldrslt {9.6.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#63"}}{\fldrslt {. }}} Responding to Connection Migration}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   A server might receive a packet addressed to its preferred IP address}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   at any time after it accepts a connection.  If this packet contains a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   PATH_CHALLENGE frame, the server sends a PATH_RESPONSE frame as per}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt {Section 8.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt {. }}} The server MUST send other non-probing frames from its}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   original address until it receives a non-probing packet from the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   client at its preferred address and until the server has validated}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the new path.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The server MUST probe on the path toward the client from its}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   preferred address.  This helps to guard against spurious migration}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   initiated by an attacker.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Once the server has completed its path validation and has received a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   non-probing packet with a new largest packet number on its preferred}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   address, the server begins sending non-probing packets to the client}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   exclusively from its preferred IP address.  It SHOULD drop packets}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   for this connection received on the old IP address, but MAY continue}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to process delayed packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The addresses that a server provides in the preferred_address}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   transport parameter are only valid for the connection in which they}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   are provided.  A client MUST NOT use these for other connections,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   including connections that are resumed from the current connection.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#63"}}{\fldrslt {9.6.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#63"}}{\fldrslt {. }}} Interaction of Client Migration and Preferred Address}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A client might need to perform a connection migration before it has}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   migrated to the server\uc1\u8217Xs preferred address.  In this case, the client}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   SHOULD perform path validation to both the original and preferred}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   server address from the client\uc1\u8217Xs new address concurrently.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   If path validation of the server\uc1\u8217Xs preferred address succeeds, the}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   client MUST abandon validation of the original address and migrate to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   using the server\uc1\u8217Xs preferred address.  If path validation of the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   server\uc1\u8217Xs preferred address fails but validation of the server\uc1\u8217Xs}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   original address succeeds, the client MAY migrate to its new address}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   and continue sending to the server\uc1\u8217Xs original address.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-173\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 63]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2154\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2155\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#64"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   If the connection to the server\uc1\u8217Xs preferred address is not from the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   same client address, the server MUST protect against potential}\par\pard\li760\ri0\sl-240\slmult0 \*\tx3960\*\tx6093\fs20\cf0\f1\charscalex100 {   attacks as described in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#57"}}{\fldrslt {Section 9.3.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#57"}}{\fldrslt { and}}}}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#58"}}{\fldrslt {Section 9.3.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#58"}}{\fldrslt {. }}} In addition}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to intentional simultaneous migration, this might also occur because}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the client\uc1\u8217Xs access network used a different NAT binding for the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   server\uc1\u8217Xs preferred address.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Servers SHOULD initiate path validation to the client\uc1\u8217Xs new address}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   upon receiving a probe packet from a different address.  Servers MUST}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   NOT send more than a minimum congestion window\uc1\u8217Xs worth of non-probing}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets to the new address before path validation is complete.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A client that migrates to a new address SHOULD use a preferred}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   address from the same address family for the server.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The connection ID provided in the preferred_address transport}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   parameter is not specific to the addresses that are provided.  This}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection ID is provided to ensure that the client has a connection}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   ID available for migration, but the client MAY use this connection ID}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   on any path.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#64"}}{\fldrslt {9.7}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#64"}}{\fldrslt {. }}} Use of IPv6 Flow-Label and Migration}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Endpoints that send data using IPv6 SHOULD apply an IPv6 flow label}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   in compliance with {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc6437"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc6437"}}{\fldrslt {RFC6437}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc6437"}}{\fldrslt {], }}}unless the local API does not allow}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   setting IPv6 flow labels.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The IPv6 flow label SHOULD be a pseudo-random function of the source}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   and destination addresses, source and destination UDP ports, and the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   destination CID.  The flow label generation MUST be designed to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   minimize the chances of linkability with a previously used flow}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   label, as this would enable correlating activity on multiple paths;}\par\pard\li760\ri0\sl-240\slmult0 \*\tx1586\fs20\cf0\f1\charscalex100 {   see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#60"}}{\fldrslt {Section 9.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#60"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A possible implementation is to compute the flow label as a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   cryptographic hash function of the source and destination addresses,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   source and destination UDP ports, destination CID, and a local}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   secret.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#64"}}{\fldrslt {10}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#64"}}{\fldrslt {. }}} Connection Termination}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An established QUIC connection can be terminated in one of three}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   ways:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  idle timeout {\field{\*\fldinst{HYPERLINK "#66"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#66"}}{\fldrslt {Section 10.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#66"}}{\fldrslt {)}}}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  immediate close {\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt {Section 10.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt {)}}}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-333\slmult0 \fs20\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 64]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2156\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2157\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#65"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   *  stateless reset {\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {Section 10.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {)}}}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint MAY discard connection state if it does not have a}\par\pard\li746\ri0\sl-240\slmult0 \*\tx6933\fs20\cf0\f1\charscalex100 {   validated path on which it can send packets; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt {Section 8.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#65"}}{\fldrslt {10.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#65"}}{\fldrslt {. }}} Closing and Draining Connection States}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The closing and draining connection states exist to ensure that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connections close cleanly and that delayed or reordered packets are}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   properly discarded.  These states SHOULD persist for at least three}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   times the current Probe Timeout (PTO) interval as defined in}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt { [}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-RECOVERY}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {].}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint enters a closing period after initiating an immediate}\par\pard\li760\ri0\sl-240\slmult0 \*\tx1946\fs20\cf0\f1\charscalex100 {   close;}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt {Section 10.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt {. }}} While closing, an endpoint MUST NOT send}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets unless they contain a CONNECTION_CLOSE frame; see}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt {Section 10.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt { for }}}details.  An endpoint retains only enough}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   information to generate a packet containing a CONNECTION_CLOSE frame}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   and to identify packets as belonging to the connection.  The}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   endpoint\uc1\u8217Xs selected connection ID and the QUIC version are sufficient}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   information to identify packets for a closing connection; an endpoint}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   can discard all other connection state.  An endpoint MAY retain}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   packet protection keys for incoming packets to allow it to read and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   process a CONNECTION_CLOSE frame.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   The draining state is entered once an endpoint receives a signal that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   its peer is closing or draining.  While otherwise identical to the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   closing state, an endpoint in the draining state MUST NOT send any}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets.  Retaining packet protection keys is unnecessary once a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection is in the draining state.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint MAY transition from the closing period to the draining}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   period if it receives a CONNECTION_CLOSE frame or stateless reset,}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   both of which indicate that the peer is also closing or draining.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   The draining period SHOULD end when the closing period would have}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   ended.  In other words, the endpoint can use the same end time, but}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   cease retransmission of the closing packet.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Disposing of connection state prior to the end of the closing or}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   draining period could cause delayed or reordered packets to generate}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   an unnecessary stateless reset.  Endpoints that have some alternative}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   means to ensure that late-arriving packets on the connection do not}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   induce a response, such as those that are able to close the UDP}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   socket, MAY use an abbreviated draining period which can allow for}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   faster resource recovery.  Servers that retain an open socket for}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   accepting new connections SHOULD NOT exit the closing or draining}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   period early.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 65]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2158\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2159\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#66"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   Once the closing or draining period has ended, an endpoint SHOULD}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   discard all connection state.  This results in new packets on the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection being handled generically.  For instance, an endpoint MAY}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   send a stateless reset in response to any further incoming packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The draining and closing periods do not apply when a stateless reset}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt { (}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {Section 10.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {) }}}is sent.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint is not expected to handle key updates when it is closing}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   or draining.  A key update might prevent the endpoint from moving}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   from the closing state to draining, but it otherwise has no impact.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   While in the closing period, an endpoint could receive packets from a}\par\pard\li746\ri0\sl-240\slmult0 \*\tx7640\fs20\cf0\f1\charscalex100 {   new source address, indicating a connection migration;}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {Section 9}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {. }}} An}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint in the closing state MUST strictly limit the number of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets it sends to this new address until the address is validated;}\par\pard\li760\ri0\sl-226\slmult0 \*\tx1586\fs20\cf0\f1\charscalex100 {   see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt {Section 8.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt {. }}} A server in the closing state MAY instead choose to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   discard packets received from a new source address.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#66"}}{\fldrslt {10.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#66"}}{\fldrslt {. }}} Idle Timeout}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   If a max_idle_timeout is specified by either peer in its transport}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   parameters {\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {Section 18.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {), }}}the connection is silently closed and its}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   state is discarded when it remains idle for longer than the minimum}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   of both peers max_idle_timeout values and three times the current}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Probe Timeout (PTO).}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Each endpoint advertises a max_idle_timeout, but the effective value}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   at an endpoint is computed as the minimum of the two advertised}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   values.  By announcing a max_idle_timeout, an endpoint commits to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   initiating an immediate close {\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt {Section 10.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt {) }}}if it abandons the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection prior to the effective value.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint restarts its idle timer when a packet from its peer is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   received and processed successfully.  An endpoint also restarts its}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   idle timer when sending an ack-eliciting packet if no other ack-}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   eliciting packets have been sent since last receiving and processing}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   a packet.  Restarting this timer when sending a packet ensures that}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   connections are not closed after new activity is initiated.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#66"}}{\fldrslt {10.2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#66"}}{\fldrslt {. }}} Liveness Testing}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint that sends packets close to the effective timeout risks}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   having them be discarded at the peer, since the peer might enter its}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   draining state before these packets arrive.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-173\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 66]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2160\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2161\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint can send a PING or another ack-eliciting frame to test}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the connection for liveness if the peer could time out soon, such as}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   within a PTO; see Section 6.2 of {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-RECOVERY}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {]. }}} This is especially}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   useful if any available application data cannot be safely retried.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Note that the application determines what data is safe to retry.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt {10.2.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt {. }}} Deferring Idle Timeout}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   An endpoint might need to send ack-eliciting packets to avoid an idle}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   timeout if it is expecting response data, but does not have or is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   unable to send application data.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   An implementation of QUIC might provide applications with an option}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to defer an idle timeout.  This facility could be used when the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   application wishes to avoid losing state that has been associated}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   with an open connection, but does not expect to exchange application}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   data for some time.  With this option, an endpoint could send a PING}\par\pard\li760\ri0\sl-240\slmult0 \*\tx6933\fs20\cf0\f1\charscalex100 {   frame periodically to defer an idle timeout; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt {Section 19.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Application protocols that use QUIC SHOULD provide guidance on when}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   deferring an idle timeout is appropriate.  Unnecessary sending of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   PING frames could have a detrimental effect on performance.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A connection will time out if no packets are sent or received for a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   period longer than the time negotiated using the max_idle_timeout}\par\pard\li760\ri0\sl-240\slmult0 \*\tx4080\fs20\cf0\f1\charscalex100 {   transport parameter; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#64"}}{\fldrslt {Section 10}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#64"}}{\fldrslt {. }}} However, state in middleboxes}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   might time out earlier than that.  Though REQ-5 in {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc4787"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc4787"}}{\fldrslt {RFC4787}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc4787"}}{\fldrslt {]}}}}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   recommends a 2 minute timeout interval, experience shows that sending}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets every 15 to 30 seconds is necessary to prevent the majority}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   of middleboxes from losing state for UDP flows.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt {10.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt {. }}} Immediate Close}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint sends a CONNECTION_CLOSE frame {\field{\*\fldinst{HYPERLINK "#138"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#138"}}{\fldrslt {Section 19.19}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#138"}}{\fldrslt {) }}}to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   terminate the connection immediately.  A CONNECTION_CLOSE frame}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   causes all streams to immediately become closed; open streams can be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   assumed to be implicitly reset.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   After sending a CONNECTION_CLOSE frame, an endpoint immediately}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   enters the closing state.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   During the closing period, an endpoint that sends a CONNECTION_CLOSE}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   frame SHOULD respond to any incoming packet that can be decrypted}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   with another packet containing a CONNECTION_CLOSE frame.  Such an}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   endpoint SHOULD limit the number of packets it generates containing a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   CONNECTION_CLOSE frame.  For instance, an endpoint could wait for a}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   progressively increasing number of received packets or amount of time}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   before responding to a received packet.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 67]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2162\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2163\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#68"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint is allowed to drop the packet protection keys when}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   entering the closing period {\field{\*\fldinst{HYPERLINK "#65"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#65"}}{\fldrslt {Section 10.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#65"}}{\fldrslt {) }}}and send a packet}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   containing a CONNECTION_CLOSE in response to any UDP datagram that is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   received.  However, an endpoint without the packet protection keys}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   cannot identify and discard invalid packets.  To avoid creating an}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   unwitting amplification attack, such endpoints MUST reduce the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   frequency with which it sends packets containing a CONNECTION_CLOSE}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   frame.  To minimize the state that an endpoint maintains for a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   closing connection, endpoints MAY send the exact same packet.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Note:  Allowing retransmission of a closing packet contradicts other}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {      advice in this document that recommends the creation of new packet}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      numbers for every packet.  Sending new packet numbers is primarily}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      of advantage to loss recovery and congestion control, which are}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      not expected to be relevant for a closed connection.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      Retransmitting the final packet requires less state.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   New packets from unverified addresses could be used to create an}\par\pard\li760\ri0\sl-240\slmult0 \*\tx4200\fs20\cf0\f1\charscalex100 {   amplification attack; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {Section 8}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {. }}} To avoid this, endpoints MUST}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   either limit transmission of CONNECTION_CLOSE frames to validated}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   addresses or drop packets without response if the response would be}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   more than three times larger than the received packet.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   After receiving a CONNECTION_CLOSE frame, endpoints enter the}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   draining state.  An endpoint that receives a CONNECTION_CLOSE frame}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   MAY send a single packet containing a CONNECTION_CLOSE frame before}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   entering the draining state, using a CONNECTION_CLOSE frame and a}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   NO_ERROR code if appropriate.  An endpoint MUST NOT send further}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets, which could result in a constant exchange of}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   CONNECTION_CLOSE frames until the closing period on either peer}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   ended.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An immediate close can be used after an application protocol has}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   arranged to close a connection.  This might be after the application}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   protocols negotiates a graceful shutdown.  The application protocol}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   exchanges whatever messages that are needed to cause both endpoints}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to agree to close the connection, after which the application}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   requests that the connection be closed.  The application protocol can}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   use a CONNECTION_CLOSE frame with an appropriate error code to signal}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   closure.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-293\slmult0 \fs20\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 68]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2164\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2165\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#69"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#69"}}{\fldrslt {10.3.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#69"}}{\fldrslt {. }}} Immediate Close During the Handshake}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   When sending CONNECTION_CLOSE, the goal is to ensure that the peer}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   will process the frame.  Generally, this means sending the frame in a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet with the highest level of packet protection to avoid the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   packet being discarded.  After the handshake is confirmed (see}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Section 4.1.2 of {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {]), }}}an endpoint MUST send any}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   CONNECTION_CLOSE frames in a 1-RTT packet.  However, prior to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   confirming the handshake, it is possible that more advanced packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   protection keys are not available to the peer, so another}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   CONNECTION_CLOSE frame MAY be sent in a packet that uses a lower}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   packet protection level.  More specifically:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  A client will always know whether the server has Handshake keys}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2066\fs20\cf0\f1\charscalex100 {      (see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#108"}}{\fldrslt {Section 17.2.2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#108"}}{\fldrslt {), }}}but it is possible that a server does not}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      know whether the client has Handshake keys.  Under these}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      circumstances, a server SHOULD send a CONNECTION_CLOSE frame in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      both Handshake and Initial packets to ensure that at least one of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      them is processable by the client.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  A client that sends CONNECTION_CLOSE in a 0-RTT packet cannot be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      assured of the server has accepted 0-RTT and so sending a}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      CONNECTION_CLOSE frame in an Initial packet makes it more likely}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      that the server can receive the close signal, even if the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      application error code might not be received.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Prior to confirming the handshake, a peer might be unable to}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {      process 1-RTT packets, so an endpoint SHOULD send CONNECTION_CLOSE}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      in both Handshake and 1-RTT packets.  A server SHOULD also send}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      CONNECTION_CLOSE in an Initial packet.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Sending a CONNECTION_CLOSE of type 0x1d in an Initial or Handshake}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   packet could expose application state or be used to alter application}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   state.  A CONNECTION_CLOSE of type 0x1d MUST be replaced by a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   CONNECTION_CLOSE of type 0x1c when sending the frame in Initial or}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Handshake packets.  Otherwise, information about the application}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   state might be revealed.  Endpoints MUST clear the value of the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Reason Phrase field and SHOULD use the APPLICATION_ERROR code when}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   converting to a CONNECTION_CLOSE of type 0x1c.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   CONNECTION_CLOSE frames sent in multiple packet types can be}\par\pard\li760\ri0\sl-240\slmult0 \*\tx6093\fs20\cf0\f1\charscalex100 {   coalesced into a single UDP datagram; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#78"}}{\fldrslt {Section 12.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#78"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint might send a CONNECTION_CLOSE frame in an Initial packet}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   or in response to unauthenticated information received in Initial or}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Handshake packets.  Such an immediate close might expose legitimate}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connections to a denial of service.  QUIC does not include defensive}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7640\fs20\cf0\f1\charscalex100 {   measures for on-path attacks during the handshake; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#142"}}{\fldrslt {Section 21.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#142"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 69]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2166\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2167\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs18\cf0\f1\charscalex100 {   However, at the cost of reducing feedback about errors for legitimate}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   peers, some forms of denial of service can be made more difficult for}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   an attacker if endpoints discard illegal packets rather than}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   terminating a connection with CONNECTION_CLOSE.  For this reason,}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   endpoints MAY discard packets rather than immediately close if errors}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   are detected in packets that lack authentication.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint that has not established state, such as a server that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   detects an error in an Initial packet, does not enter the closing}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   state.  An endpoint that has no state for the connection does not}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   enter a closing or draining period on sending a CONNECTION_CLOSE}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   frame.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {10.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {. }}} Stateless Reset}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A stateless reset is provided as an option of last resort for an}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint that does not have access to the state of a connection.  A}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   crash or outage might result in peers continuing to send data to an}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint that is unable to properly continue the connection.  An}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   endpoint MAY send a stateless reset in response to receiving a packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that it cannot associate with an active connection.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A stateless reset is not appropriate for signaling error conditions.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint that wishes to communicate a fatal connection error MUST}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   use a CONNECTION_CLOSE frame if it has sufficient state to do so.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   To support this process, a token is sent by endpoints.  The token is}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   carried in the Stateless Reset Token field of a NEW_CONNECTION_ID}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   frame.  Servers can also specify a stateless_reset_token transport}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   parameter during the handshake that applies to the connection ID that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   it selected during the handshake; clients cannot use this transport}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   parameter because their transport parameters don\uc1\u8217Xt have}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   confidentiality protection.  These tokens are protected by}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   encryption, so only client and server know their value.  Tokens are}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   invalidated when their associated connection ID is retired via a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   RETIRE_CONNECTION_ID frame {\field{\*\fldinst{HYPERLINK "#136"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#136"}}{\fldrslt {Section 19.16}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#136"}}{\fldrslt {).}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint that receives packets that it cannot process sends a}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   packet in the following layout:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Stateless Reset \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Fixed Bits (2) = 1,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Unpredictable Bits (38..),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Stateless Reset Token (128),}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {                      Figure 9: Stateless Reset Packet}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 70]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2168\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2169\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#71"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   This design ensures that a stateless reset packet is - to the extent}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   possible - indistinguishable from a regular packet with a short}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   header.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A stateless reset uses an entire UDP datagram, starting with the}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   first two bits of the packet header.  The remainder of the first byte}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   and an arbitrary number of bytes following it that are set to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   unpredictable values.  The last 16 bytes of the datagram contain a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Stateless Reset Token.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   To entities other than its intended recipient, a stateless reset will}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   appear to be a packet with a short header.  For the stateless reset}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to appear as a valid QUIC packet, the Unpredictable Bits field needs}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to include at least 38 bits of data (or 5 bytes, less the two fixed}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   bits).}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A minimum size of 21 bytes does not guarantee that a stateless reset}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   is difficult to distinguish from other packets if the recipient}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   requires the use of a connection ID.  To prevent a resulting}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   stateless reset from being trivially distinguishable from a valid}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet, all packets sent by an endpoint SHOULD be padded to at least}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   22 bytes longer than the minimum connection ID that the endpoint}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   might use.  An endpoint that sends a stateless reset in response to a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet that is 43 bytes or less in length SHOULD send a stateless}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   reset that is one byte shorter than the packet it responds to.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   These values assume that the Stateless Reset Token is the same length}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   as the minimum expansion of the packet protection AEAD.  Additional}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   unpredictable bytes are necessary if the endpoint could have}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   negotiated a packet protection scheme with a larger minimum}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   expansion.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint MUST NOT send a stateless reset that is three times or}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   more larger than the packet it receives to avoid being used for}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   amplification. {\field{\*\fldinst{HYPERLINK "#75"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#75"}}{\fldrslt {Section 10.4.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#75"}}{\fldrslt { describes }}}additional limits on}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   stateless reset size.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Endpoints MUST discard packets that are too small to be valid QUIC}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   packets.  With the set of AEAD functions defined in {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {],}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets that are smaller than 21 bytes are never valid.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Endpoints MUST send stateless reset packets formatted as a packet}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   with a short header.  However, endpoints MUST treat any packet ending}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   in a valid stateless reset token as a stateless reset, as other QUIC}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   versions might allow the use of a long header.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-173\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 71]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2170\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2171\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#72"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs18\cf0\f1\charscalex100 {   An endpoint MAY send a stateless reset in response to a packet with a}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   long header.  Sending a stateless reset is not effective prior to the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   stateless reset token being available to a peer.  In this QUIC}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   version, packets with a long header are only used during connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   establishment.  Because the stateless reset token is not available}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   until connection establishment is complete or near completion,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   ignoring an unknown packet with a long header might be as effective}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   as sending a stateless reset.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint cannot determine the Source Connection ID from a packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   with a short header, therefore it cannot set the Destination}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   Connection ID in the stateless reset packet.  The Destination}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Connection ID will therefore differ from the value used in previous}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets.  A random Destination Connection ID makes the connection ID}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   appear to be the result of moving to a new connection ID that was}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   provided using a NEW_CONNECTION_ID frame {\field{\*\fldinst{HYPERLINK "#135"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#135"}}{\fldrslt {Section 19.15}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#135"}}{\fldrslt {).}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Using a randomized connection ID results in two problems:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  The packet might not reach the peer.  If the Destination}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      Connection ID is critical for routing toward the peer, then this}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      packet could be incorrectly routed.  This might also trigger}\par\pard\li760\ri0\sl-226\slmult0 \*\tx6333\fs20\cf0\f1\charscalex100 {      another Stateless Reset in response; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#75"}}{\fldrslt {Section 10.4.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#75"}}{\fldrslt {. }}} A}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      Stateless Reset that is not correctly routed is an ineffective}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      error detection and recovery mechanism.  In this case, endpoints}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      will need to rely on other methods - such as timers - to detect}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      that the connection has failed.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   *  The randomly generated connection ID can be used by entities other}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      than the peer to identify this as a potential stateless reset.  An}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      endpoint that occasionally uses different connection IDs might}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      introduce some uncertainty about this.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   This stateless reset design is specific to QUIC version 1.  An}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint that supports multiple versions of QUIC needs to generate a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   stateless reset that will be accepted by peers that support any}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   version that the endpoint might support (or might have supported}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   prior to losing state).  Designers of new versions of QUIC need to be}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   aware of this and either reuse this design, or use a portion of the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet other than the last 16 bytes for carrying data.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-293\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 72]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2172\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2173\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#73"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#73"}}{\fldrslt {10.4.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#73"}}{\fldrslt {. }}} Detecting a Stateless Reset}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   An endpoint detects a potential stateless reset using the trailing 16}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   bytes of the UDP datagram.  An endpoint remembers all Stateless Reset}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Tokens associated with the connection IDs and remote addresses for}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   datagrams it has recently sent.  This includes Stateless Reset Tokens}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   from NEW_CONNECTION_ID frames and the server\uc1\u8217Xs transport parameters}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   but excludes Stateless Reset Tokens associated with connection IDs}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that are either unused or retired.  The endpoint identifies a}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   received datagram as a stateless reset by comparing the last 16 bytes}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   of the datagram with all Stateless Reset Tokens associated with the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   remote address on which the datagram was received.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   This comparison can be performed for every inbound datagram.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Endpoints MAY skip this check if any packet from a datagram is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   successfully processed.  However, the comparison MUST be performed}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   when the first packet in an incoming datagram either cannot be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   associated with a connection, or cannot be decrypted.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint MUST NOT check for any Stateless Reset Tokens associated}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   with connection IDs it has not used or for connection IDs that have}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   been retired.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   When comparing a datagram to Stateless Reset Token values, endpoints}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   MUST perform the comparison without leaking information about the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   value of the token.  For example, performing this comparison in}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   constant time protects the value of individual Stateless Reset Tokens}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   from information leakage through timing side channels.  Another}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   approach would be to store and compare the transformed values of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Stateless Reset Tokens instead of the raw token values, where the}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   transformation is defined as a cryptographically-secure pseudo-random}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   function using a secret key (e.g., block cipher, HMAC {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc2104"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc2104"}}{\fldrslt {RFC2104}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc2104"}}{\fldrslt {]). }}} An}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint is not expected to protect information about whether a}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   packet was successfully decrypted, or the number of valid Stateless}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Reset Tokens.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   If the last 16 bytes of the datagram are identical in value to a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Stateless Reset Token, the endpoint MUST enter the draining period}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   and not send any further packets on this connection.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 73]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2174\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2175\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#74"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#74"}}{\fldrslt {10.4.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#74"}}{\fldrslt {. }}} Calculating a Stateless Reset Token}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The stateless reset token MUST be difficult to guess.  In order to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   create a Stateless Reset Token, an endpoint could randomly generate}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc4086"}}{\fldrslt { [}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc4086"}}{\fldrslt {RFC4086}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc4086"}}{\fldrslt {] }}}a secret for every connection that it creates.  However,}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   this presents a coordination problem when there are multiple}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   instances in a cluster or a storage problem for an endpoint that}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   might lose state.  Stateless reset specifically exists to handle the}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   case where state is lost, so this approach is suboptimal.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A single static key can be used across all connections to the same}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint by generating the proof using a second iteration of a}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   preimage-resistant function that takes a static key and the}\par\pard\li746\ri0\sl-240\slmult0 \*\tx6093\fs20\cf0\f1\charscalex100 {   connection ID chosen by the endpoint (see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#28"}}{\fldrslt {Section 5.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#28"}}{\fldrslt {) }}}as input.  An}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint could use HMAC {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc2104"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc2104"}}{\fldrslt {RFC2104}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc2104"}}{\fldrslt {] }}}(for example, HMAC(static_key,}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection_id)) or HKDF {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc5869"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc5869"}}{\fldrslt {RFC5869}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc5869"}}{\fldrslt {] }}}(for example, using the static key}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   as input keying material, with the connection ID as salt).  The}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   output of this function is truncated to 16 bytes to produce the}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Stateless Reset Token for that connection.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint that loses state can use the same method to generate a}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   valid Stateless Reset Token.  The connection ID comes from the packet}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   that the endpoint receives.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   This design relies on the peer always sending a connection ID in its}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets so that the endpoint can use the connection ID from a packet}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to reset the connection.  An endpoint that uses this design MUST}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   either use the same connection ID length for all connections or}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   encode the length of the connection ID such that it can be recovered}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   without state.  In addition, it cannot provide a zero-length}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection ID.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Revealing the Stateless Reset Token allows any entity to terminate}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   the connection, so a value can only be used once.  This method for}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   choosing the Stateless Reset Token means that the combination of}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection ID and static key MUST NOT be used for another connection.}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   A denial of service attack is possible if the same connection ID is}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   used by instances that share a static key, or if an attacker can}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   cause a packet to be routed to an instance that has no state but the}\par\pard\li746\ri0\sl-240\slmult0 \*\tx3600\fs20\cf0\f1\charscalex100 {   same static key; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#146"}}{\fldrslt {Section 21.9}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#146"}}{\fldrslt {. }}} A connection ID from a connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that is reset by revealing the Stateless Reset Token MUST NOT be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   reused for new connections at nodes that share a static key.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The same Stateless Reset Token MUST NOT be used for multiple}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   connection IDs.  Endpoints are not required to compare new values}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   against all previous values, but a duplicate value MAY be treated as}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   a connection error of type PROTOCOL_VIOLATION.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 74]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2176\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2177\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#75"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   Note that Stateless Reset packets do not have any cryptographic}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   protection.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#75"}}{\fldrslt {10.4.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#75"}}{\fldrslt {. }}} Looping}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The design of a Stateless Reset is such that without knowing the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   stateless reset token it is indistinguishable from a valid packet.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   For instance, if a server sends a Stateless Reset to another server}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   it might receive another Stateless Reset in response, which could}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   lead to an infinite exchange.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint MUST ensure that every Stateless Reset that it sends is}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   smaller than the packet which triggered it, unless it maintains state}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   sufficient to prevent looping.  In the event of a loop, this results}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   in packets eventually being too small to trigger a response.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint can remember the number of Stateless Reset packets that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   it has sent and stop generating new Stateless Reset packets once a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   limit is reached.  Using separate limits for different remote}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   addresses will ensure that Stateless Reset packets can be used to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   close connections when other peers or connections have exhausted}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   limits.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Reducing the size of a Stateless Reset below 41 bytes means that the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet could reveal to an observer that it is a Stateless Reset,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   depending upon the length of the peer\uc1\u8217Xs connection IDs.  Conversely,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   refusing to send a Stateless Reset in response to a small packet}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   might result in Stateless Reset not being useful in detecting cases}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   of broken connections where only very small packets are sent; such}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   failures might only be detected by other means, such as timers.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#75"}}{\fldrslt {11}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#75"}}{\fldrslt {. }}} Error Handling}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   An endpoint that detects an error SHOULD signal the existence of that}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   error to its peer.  Both transport-level and application-level errors}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5506\fs20\cf0\f1\charscalex100 {   can affect an entire connection; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#76"}}{\fldrslt {Section 11.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#76"}}{\fldrslt {. }}} Only application-}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7400\fs20\cf0\f1\charscalex100 {   level errors can be isolated to a single stream; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#76"}}{\fldrslt {Section 11.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#76"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The most appropriate error code {\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {Section 20}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {) }}}SHOULD be included in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the frame that signals the error.  Where this specification}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   identifies error conditions, it also identifies the error code that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   is used; though these are worded as requirements, different}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   implementation strategies might lead to different errors being}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   reported.  In particular, an endpoint MAY use any applicable error}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   code when it detects an error condition; a generic error code (such}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   as PROTOCOL_VIOLATION or INTERNAL_ERROR) can always be used in place}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   of specific error codes.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 75]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2178\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2179\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#76"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   A stateless reset {\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {Section 10.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {) }}}is not suitable for any error that}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   can be signaled with a CONNECTION_CLOSE or RESET_STREAM frame.  A}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   stateless reset MUST NOT be used by an endpoint that has the state}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   necessary to send a frame on the connection.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#76"}}{\fldrslt {11.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#76"}}{\fldrslt {. }}} Connection Errors}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Errors that result in the connection being unusable, such as an}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   obvious violation of protocol semantics or corruption of state that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   affects an entire connection, MUST be signaled using a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   CONNECTION_CLOSE frame {\field{\*\fldinst{HYPERLINK "#138"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#138"}}{\fldrslt {Section 19.19}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#138"}}{\fldrslt {). }}} An endpoint MAY close the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   connection in this manner even if the error only affects a single}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   stream.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   Application protocols can signal application-specific protocol errors}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   using the application-specific variant of the CONNECTION_CLOSE frame.}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   Errors that are specific to the transport, including all those}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   described in this document, are carried in the QUIC-specific variant}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   of the CONNECTION_CLOSE frame.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A CONNECTION_CLOSE frame could be sent in a packet that is lost.  An}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint SHOULD be prepared to retransmit a packet containing a}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   CONNECTION_CLOSE frame if it receives more packets on a terminated}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   connection.  Limiting the number of retransmissions and the time over}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   which this final packet is sent limits the effort expended on}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   terminated connections.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint that chooses not to retransmit packets containing a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   CONNECTION_CLOSE frame risks a peer missing the first such packet.}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   The only mechanism available to an endpoint that continues to receive}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   data for a terminated connection is to use the stateless reset}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   process {\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {Section 10.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {).}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#76"}}{\fldrslt {11.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#76"}}{\fldrslt {. }}} Stream Errors}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   If an application-level error affects a single stream, but otherwise}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   leaves the connection in a recoverable state, the endpoint can send a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   RESET_STREAM frame {\field{\*\fldinst{HYPERLINK "#126"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#126"}}{\fldrslt {Section 19.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#126"}}{\fldrslt {) }}}with an appropriate error code to}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   terminate just the affected stream.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Resetting a stream without the involvement of the application}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   protocol could cause the application protocol to enter an}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   unrecoverable state.  RESET_STREAM MUST only be instigated by the}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   application protocol that uses QUIC.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The semantics of the application error code carried in RESET_STREAM}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   are defined by the application protocol.  Only the application}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   protocol is able to cause a stream to be terminated.  A local}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-306\slmult0 \fs20\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 76]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2180\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2181\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#77"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   instance of the application protocol uses a direct API call and a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   remote instance uses the STOP_SENDING frame, which triggers an}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   automatic RESET_STREAM.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Application protocols SHOULD define rules for handling streams that}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   are prematurely cancelled by either endpoint.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#77"}}{\fldrslt {12}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#77"}}{\fldrslt {. }}} Packets and Frames}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC endpoints communicate by exchanging packets.  Packets have}\par\pard\li760\ri0\sl-240\slmult0 \*\tx6573\fs20\cf0\f1\charscalex100 {   confidentiality and integrity protection; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#77"}}{\fldrslt {Section 12.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#77"}}{\fldrslt {. }}} Packets}\par\pard\li760\ri0\sl-226\slmult0 \*\tx5146\fs20\cf0\f1\charscalex100 {   are carried in UDP datagrams; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#78"}}{\fldrslt {Section 12.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#78"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   This version of QUIC uses the long packet header during connection}\par\pard\li760\ri0\sl-240\slmult0 \*\tx3373\fs20\cf0\f1\charscalex100 {   establishment; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#102"}}{\fldrslt {Section 17.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#102"}}{\fldrslt {. }}} Packets with the long header are}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Initial {\field{\*\fldinst{HYPERLINK "#107"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#107"}}{\fldrslt {Section 17.2.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#107"}}{\fldrslt {), }}}0-RTT {\field{\*\fldinst{HYPERLINK "#109"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#109"}}{\fldrslt {Section 17.2.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#109"}}{\fldrslt {), }}}Handshake}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#110"}}{\fldrslt { (}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#110"}}{\fldrslt {Section 17.2.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#110"}}{\fldrslt {), }}}and Retry {\field{\*\fldinst{HYPERLINK "#111"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#111"}}{\fldrslt {Section 17.2.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#111"}}{\fldrslt {). }}} Version negotiation}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   uses a version-independent packet with a long header; see}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#105"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#105"}}{\fldrslt {Section 17.2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#105"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Packets with the short header are designed for minimal overhead and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   are used after a connection is established and 1-RTT keys are}\par\pard\li760\ri0\sl-226\slmult0 \*\tx2893\fs20\cf0\f1\charscalex100 {   available; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#113"}}{\fldrslt {Section 17.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#113"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#77"}}{\fldrslt {12.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#77"}}{\fldrslt {. }}} Protected Packets}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   All QUIC packets except Version Negotiation packets use authenticated}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   encryption with additional data (AEAD) {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc5116"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc5116"}}{\fldrslt {RFC5116}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc5116"}}{\fldrslt {] }}}to provide}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   confidentiality and integrity protection.  Retry packets use AEAD to}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   provide integrity protection.  Details of packet protection are found}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   in {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {]; }}}this section includes an overview of the process.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   Initial packets are protected using keys that are statically derived.}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   This packet protection is not effective confidentiality protection.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Initial protection only exists to ensure that the sender of the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet is on the network path.  Any entity that receives the Initial}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet from a client can recover the keys necessary to remove packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   protection or to generate packets that will be successfully}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   authenticated.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   All other packets are protected with keys derived from the}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   cryptographic handshake.  The type of the packet from the long header}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   or key phase from the short header are used to identify which}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   encryption keys are used.  Packets protected with 0-RTT and 1-RTT}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   keys are expected to have confidentiality and data origin}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   authentication; the cryptographic handshake ensures that only the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   communicating endpoints receive the corresponding keys.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 77]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2182\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2183\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#78"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   The packet number field contains a packet number, which has}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   additional confidentiality protection that is applied after packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   protection is applied; see {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {] }}}for details.  The underlying}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet number increases with each packet sent in a given packet}\par\pard\li760\ri0\sl-240\slmult0 \*\tx3253\fs20\cf0\f1\charscalex100 {   number space; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#79"}}{\fldrslt {Section 12.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#79"}}{\fldrslt { for }}}details.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#78"}}{\fldrslt {12.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#78"}}{\fldrslt {. }}} Coalescing Packets}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Initial {\field{\*\fldinst{HYPERLINK "#107"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#107"}}{\fldrslt {Section 17.2.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#107"}}{\fldrslt {), }}}0-RTT {\field{\*\fldinst{HYPERLINK "#109"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#109"}}{\fldrslt {Section 17.2.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#109"}}{\fldrslt {), }}}and Handshake}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#110"}}{\fldrslt { (}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#110"}}{\fldrslt {Section 17.2.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#110"}}{\fldrslt {) }}}packets contain a Length field, which determines the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   end of the packet.  The length includes both the Packet Number and}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   Payload fields, both of which are confidentiality protected and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   initially of unknown length.  The length of the Payload field is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   learned once header protection is removed.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Using the Length field, a sender can coalesce multiple QUIC packets}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   into one UDP datagram.  This can reduce the number of UDP datagrams}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   needed to complete the cryptographic handshake and start sending}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   data.  This can also be used to construct PMTU probes; see}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#99"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#99"}}{\fldrslt {Section 14.4.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#99"}}{\fldrslt {. }}} Receivers MUST be able to process coalesced packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   Coalescing packets in order of increasing encryption levels (Initial,}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   0-RTT, Handshake, 1-RTT; see Section 4.1.4 of {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {]) }}}makes it}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   more likely the receiver will be able to process all the packets in a}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   single pass.  A packet with a short header does not include a length,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   so it can only be the last packet included in a UDP datagram.  An}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint SHOULD NOT coalesce multiple packets at the same encryption}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   level.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   Senders MUST NOT coalesce QUIC packets for different connections into}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   a single UDP datagram.  Receivers SHOULD ignore any subsequent}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets with a different Destination Connection ID than the first}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet in the datagram.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Every QUIC packet that is coalesced into a single UDP datagram is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   separate and complete.  The receiver of coalesced QUIC packets MUST}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   individually process each QUIC packet and separately acknowledge}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   them, as if they were received as the payload of different UDP}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   datagrams.  For example, if decryption fails (because the keys are}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   not available or any other reason), the receiver MAY either discard}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   or buffer the packet for later processing and MUST attempt to process}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the remaining packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 78]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2184\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2185\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#79"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   Retry packets {\field{\*\fldinst{HYPERLINK "#111"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#111"}}{\fldrslt {Section 17.2.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#111"}}{\fldrslt {), }}}Version Negotiation packets}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#105"}}{\fldrslt { (}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#105"}}{\fldrslt {Section 17.2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#105"}}{\fldrslt {), }}}and packets with a short header {\field{\*\fldinst{HYPERLINK "#113"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#113"}}{\fldrslt {Section 17.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#113"}}{\fldrslt {) }}}do}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   not contain a Length field and so cannot be followed by other packets}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   in the same UDP datagram.  Note also that there is no situation where}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   a Retry or Version Negotiation packet is coalesced with another}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   packet.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#79"}}{\fldrslt {12.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#79"}}{\fldrslt {. }}} Packet Numbers}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The packet number is an integer in the range 0 to 2^62-1.  This}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   number is used in determining the cryptographic nonce for packet}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   protection.  Each endpoint maintains a separate packet number for}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   sending and receiving.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Packet numbers are limited to this range because they need to be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   representable in whole in the Largest Acknowledged field of an ACK}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   frame {\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt {Section 19.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt {). }}} When present in a long or short header}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   however, packet numbers are reduced and encoded in 1 to 4 bytes; see}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#101"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#101"}}{\fldrslt {Section 17.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#101"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Version Negotiation {\field{\*\fldinst{HYPERLINK "#105"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#105"}}{\fldrslt {Section 17.2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#105"}}{\fldrslt {) }}}and Retry {\field{\*\fldinst{HYPERLINK "#111"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#111"}}{\fldrslt {Section 17.2.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#111"}}{\fldrslt {)}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets do not include a packet number.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Packet numbers are divided into 3 spaces in QUIC:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Initial space: All Initial packets {\field{\*\fldinst{HYPERLINK "#107"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#107"}}{\fldrslt {Section 17.2.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#107"}}{\fldrslt {) }}}are in this}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      space.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Handshake space: All Handshake packets {\field{\*\fldinst{HYPERLINK "#110"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#110"}}{\fldrslt {Section 17.2.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#110"}}{\fldrslt {) }}}are in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      this space.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Application data space: All 0-RTT and 1-RTT encrypted packets}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#77"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#77"}}{\fldrslt {Section 12.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#77"}}{\fldrslt {) }}}are in this space.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   As described in {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {], }}}each packet type uses different}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   protection keys.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Conceptually, a packet number space is the context in which a packet}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   can be processed and acknowledged.  Initial packets can only be sent}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   with Initial packet protection keys and acknowledged in packets which}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   are also Initial packets.  Similarly, Handshake packets are sent at}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the Handshake encryption level and can only be acknowledged in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Handshake packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   This enforces cryptographic separation between the data sent in the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   different packet number spaces.  Packet numbers in each space start}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   at packet number 0.  Subsequent packets sent in the same packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   number space MUST increase the packet number by at least one.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 79]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2186\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2187\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#80"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   0-RTT and 1-RTT data exist in the same packet number space to make}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   loss recovery algorithms easier to implement between the two packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   types.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   A QUIC endpoint MUST NOT reuse a packet number within the same packet}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   number space in one connection.  If the packet number for sending}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   reaches 2^62 - 1, the sender MUST close the connection without}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   sending a CONNECTION_CLOSE frame or any further packets; an endpoint}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   MAY send a Stateless Reset {\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {Section 10.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {) }}}in response to further}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets that it receives.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A receiver MUST discard a newly unprotected packet unless it is}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   certain that it has not processed another packet with the same packet}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   number from the same packet number space.  Duplicate suppression MUST}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   happen after removing packet protection for the reasons described in}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Section 9.3 of {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {].}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Endpoints that track all individual packets for the purposes of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   detecting duplicates are at risk of accumulating excessive state.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   The data required for detecting duplicates can be limited by}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   maintaining a minimum packet number below which all packets are}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   immediately dropped.  Any minimum needs to account for large}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   variations in round trip time, which includes the possibility that a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   peer might probe network paths with a much larger round trip times;}\par\pard\li760\ri0\sl-240\slmult0 \*\tx1586\fs20\cf0\f1\charscalex100 {   see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {Section 9}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {.}}}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Packet number encoding at a sender and decoding at a receiver are}\par\pard\li746\ri0\sl-226\slmult0 \*\tx2653\fs20\cf0\f1\charscalex100 {   described in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#101"}}{\fldrslt {Section 17.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#101"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#80"}}{\fldrslt {12.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#80"}}{\fldrslt {. }}} Frames and Frame Types}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The payload of QUIC packets, after removing packet protection,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   consists of a sequence of complete frames, as shown in Figure 10.}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   Version Negotiation, Stateless Reset, and Retry packets do not}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   contain frames.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Packet Payload \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Frame (..) ...,}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {                          Figure 10: QUIC Payload}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The payload of a packet that contains frames MUST contain at least}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   one frame, and MAY contain multiple frames and multiple frame types.}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   Frames always fit within a single QUIC packet and cannot span}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   multiple packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-360\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 80]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2188\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2189\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#81"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs18\cf0\f1\charscalex100 {   Each frame begins with a Frame Type, indicating its type, followed by}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   additional type-dependent fields:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Frame \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Frame Type (i),}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     Type-Dependent Fields (..),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {                      Figure 11: Generic Frame Layout}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The frame types defined in this specification are listed in Table 3.}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   The Frame Type in ACK, STREAM, MAX_STREAMS, STREAMS_BLOCKED, and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   CONNECTION_CLOSE frames is used to carry other frame-specific flags.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   For all other frames, the Frame Type field simply identifies the}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7400\fs20\cf0\f1\charscalex100 {   frame.  These frames are explained in more detail in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#121"}}{\fldrslt {Section 19}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#121"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 81]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2190\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2191\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#82"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {     +-------------+----------------------+---------------+---------+}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     | Type Value  | Frame Type Name      | Definition    | Packets |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     +=============+======================+===============+=========+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5986\fs20\cf0\f1\charscalex100 {     | 0x00        | PADDING              |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#121"}}{\fldrslt {Section 19.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#121"}}{\fldrslt {  }}}| IH01    |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     +-------------+----------------------+---------------+---------+}\par\pard\li760\ri0\sl-226\slmult0 \*\tx5986\fs20\cf0\f1\charscalex100 {     | 0x01        | PING                 |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt {Section 19.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt {  }}}| IH01    |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     +-------------+----------------------+---------------+---------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5986\fs20\cf0\f1\charscalex100 {     | 0x02 - 0x03 | ACK                  |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt {Section 19.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt {  }}}| IH_1    |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     +-------------+----------------------+---------------+---------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5986\fs20\cf0\f1\charscalex100 {     | 0x04        | RESET_STREAM         |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#126"}}{\fldrslt {Section 19.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#126"}}{\fldrslt {  }}}| __01    |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     +-------------+----------------------+---------------+---------+}\par\pard\li760\ri0\sl-226\slmult0 \*\tx5986\fs20\cf0\f1\charscalex100 {     | 0x05        | STOP_SENDING         |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#127"}}{\fldrslt {Section 19.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#127"}}{\fldrslt {  }}}| __01    |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     +-------------+----------------------+---------------+---------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5986\fs20\cf0\f1\charscalex100 {     | 0x06        | CRYPTO               |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#127"}}{\fldrslt {Section 19.6}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#127"}}{\fldrslt {  }}}| IH_1    |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     +-------------+----------------------+---------------+---------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5986\fs20\cf0\f1\charscalex100 {     | 0x07        | NEW_TOKEN            |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#128"}}{\fldrslt {Section 19.7}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#128"}}{\fldrslt {  }}}| ___1    |}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     +-------------+----------------------+---------------+---------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5986\fs20\cf0\f1\charscalex100 {     | 0x08 - 0x0f | STREAM               |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#129"}}{\fldrslt {Section 19.8}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#129"}}{\fldrslt {  }}}| __01    |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     +-------------+----------------------+---------------+---------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5986\fs20\cf0\f1\charscalex100 {     | 0x10        | MAX_DATA             |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt {Section 19.9}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt {  }}}| __01    |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     +-------------+----------------------+---------------+---------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5986\fs20\cf0\f1\charscalex100 {     | 0x11        | MAX_STREAM_DATA      |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt {Section 19.10}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt { | }}}__01    |}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     +-------------+----------------------+---------------+---------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5986\fs20\cf0\f1\charscalex100 {     | 0x12 - 0x13 | MAX_STREAMS          |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#132"}}{\fldrslt {Section 19.11}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#132"}}{\fldrslt { | }}}__01    |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     +-------------+----------------------+---------------+---------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5986\fs20\cf0\f1\charscalex100 {     | 0x14        | DATA_BLOCKED         |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#133"}}{\fldrslt {Section 19.12}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#133"}}{\fldrslt { | }}}__01    |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     +-------------+----------------------+---------------+---------+}\par\pard\li760\ri0\sl-226\slmult0 \*\tx5986\fs20\cf0\f1\charscalex100 {     | 0x15        | STREAM_DATA_BLOCKED  |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#134"}}{\fldrslt {Section 19.13}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#134"}}{\fldrslt { | }}}__01    |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     +-------------+----------------------+---------------+---------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5986\fs20\cf0\f1\charscalex100 {     | 0x16 - 0x17 | STREAMS_BLOCKED      |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#134"}}{\fldrslt {Section 19.14}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#134"}}{\fldrslt { | }}}__01    |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     +-------------+----------------------+---------------+---------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5986\fs20\cf0\f1\charscalex100 {     | 0x18        | NEW_CONNECTION_ID    |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#135"}}{\fldrslt {Section 19.15}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#135"}}{\fldrslt { | }}}__01    |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     +-------------+----------------------+---------------+---------+}\par\pard\li760\ri0\sl-226\slmult0 \*\tx5986\fs20\cf0\f1\charscalex100 {     | 0x19        | RETIRE_CONNECTION_ID |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#136"}}{\fldrslt {Section 19.16}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#136"}}{\fldrslt { | }}}__01    |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     +-------------+----------------------+---------------+---------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5986\fs20\cf0\f1\charscalex100 {     | 0x1a        | PATH_CHALLENGE       |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#137"}}{\fldrslt {Section 19.17}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#137"}}{\fldrslt { | }}}__01    |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     +-------------+----------------------+---------------+---------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5986\fs20\cf0\f1\charscalex100 {     | 0x1b        | PATH_RESPONSE        |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#138"}}{\fldrslt {Section 19.18}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#138"}}{\fldrslt { | }}}__01    |}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     +-------------+----------------------+---------------+---------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5986\fs20\cf0\f1\charscalex100 {     | 0x1c - 0x1d | CONNECTION_CLOSE     |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#138"}}{\fldrslt {Section 19.19}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#138"}}{\fldrslt { | }}}ih01    |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     +-------------+----------------------+---------------+---------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5986\fs20\cf0\f1\charscalex100 {     | 0x1e        | HANDSHAKE_DONE       |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#139"}}{\fldrslt {Section 19.20}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#139"}}{\fldrslt { | }}}___1    |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     +-------------+----------------------+---------------+---------+}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {                           Table 3: Frame Types}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-173\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 82]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2192\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2193\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#83"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   The "Packets" column in Table 3 does not form part of the IANA}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2773\fs20\cf0\f1\charscalex100 {   registry; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#158"}}{\fldrslt {Section 22.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#158"}}{\fldrslt {. }}} This column lists the types of packets}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that each frame type could appear in, indicated by the following}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   characters:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   I:  Initial {\field{\*\fldinst{HYPERLINK "#107"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#107"}}{\fldrslt {Section 17.2.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#107"}}{\fldrslt {)}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   H:  Handshake {\field{\*\fldinst{HYPERLINK "#110"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#110"}}{\fldrslt {Section 17.2.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#110"}}{\fldrslt {)}}}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   0:  0-RTT {\field{\*\fldinst{HYPERLINK "#109"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#109"}}{\fldrslt {Section 17.2.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#109"}}{\fldrslt {)}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   1:  1-RTT {\field{\*\fldinst{HYPERLINK "#113"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#113"}}{\fldrslt {Section 17.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#113"}}{\fldrslt {)}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   ih:  A CONNECTION_CLOSE frame of type 0x1d cannot appear in Initial}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      or Handshake packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Section 4 of {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {] }}}provides more detail about these}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   restrictions.  Note that all frames can appear in 1-RTT packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint MUST treat the receipt of a frame of unknown type as a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection error of type FRAME_ENCODING_ERROR.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   All QUIC frames are idempotent in this version of QUIC.  That is, a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   valid frame does not cause undesirable side effects or errors when}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   received more than once.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The Frame Type field uses a variable length integer encoding (see}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#100"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#100"}}{\fldrslt {Section 16}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#100"}}{\fldrslt {) }}}with one exception.  To ensure simple and efficient}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   implementations of frame parsing, a frame type MUST use the shortest}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   possible encoding.  For frame types defined in this document, this}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   means a single-byte encoding, even though it is possible to encode}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   these values as a two-, four- or eight-byte variable length integer.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   For instance, though 0x4001 is a legitimate two-byte encoding for a}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   variable-length integer with a value of 1, PING frames are always}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   encoded as a single byte with the value 0x01.  This rule applies to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   all current and future QUIC frame types.  An endpoint MAY treat the}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   receipt of a frame type that uses a longer encoding than necessary as}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   a connection error of type PROTOCOL_VIOLATION.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#83"}}{\fldrslt {13}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#83"}}{\fldrslt {. }}} Packetization and Reliability}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A sender bundles one or more frames in a QUIC packet; see}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#80"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#80"}}{\fldrslt {Section 12.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#80"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   A sender can minimize per-packet bandwidth and computational costs by}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   including as many frames as possible in each QUIC packet.  A sender}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   MAY wait for a short period of time to collect multiple frames before}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   sending a packet that is not maximally packed, to avoid sending out}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 83]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2194\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2195\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#84"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   large numbers of small packets.  An implementation MAY use knowledge}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   about application sending behavior or heuristics to determine whether}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   and for how long to wait.  This waiting period is an implementation}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   decision, and an implementation should be careful to delay}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   conservatively, since any delay is likely to increase application-}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   visible latency.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Stream multiplexing is achieved by interleaving STREAM frames from}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   multiple streams into one or more QUIC packets.  A single QUIC packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   can include multiple STREAM frames from one or more streams.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   One of the benefits of QUIC is avoidance of head-of-line blocking}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   across multiple streams.  When a packet loss occurs, only streams}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   with data in that packet are blocked waiting for a retransmission to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   be received, while other streams can continue making progress.  Note}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that when data from multiple streams is included in a single QUIC}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   packet, loss of that packet blocks all those streams from making}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   progress.  Implementations are advised to include as few streams as}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   necessary in outgoing packets without losing transmission efficiency}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to underfilled packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#84"}}{\fldrslt {13.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#84"}}{\fldrslt {. }}} Packet Processing}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A packet MUST NOT be acknowledged until packet protection has been}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   successfully removed and all frames contained in the packet have been}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   processed.  For STREAM frames, this means the data has been enqueued}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   in preparation to be received by the application protocol, but it}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   does not require that data is delivered and consumed.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Once the packet has been fully processed, a receiver acknowledges}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   receipt by sending one or more ACK frames containing the packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   number of the received packet.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   An endpoint SHOULD treat receipt of an acknowledgment for a packet it}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   did not send as a connection error of type PROTOCOL_VIOLATION, if it}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   is able to detect the condition.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#84"}}{\fldrslt {13.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#84"}}{\fldrslt {. }}} Generating Acknowledgements}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   Endpoints acknowledge all packets they receive and process.  However,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   only ack-eliciting packets cause an ACK frame to be sent within the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   maximum ack delay.  Packets that are not ack-eliciting are only}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   acknowledged when an ACK frame is sent for other reasons.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   When sending a packet for any reason, an endpoint SHOULD attempt to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   bundle an ACK frame if one has not been sent recently.  Doing so}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   helps with timely loss detection at the peer.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 84]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2196\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2197\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#85"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   In general, frequent feedback from a receiver improves loss and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   congestion response, but this has to be balanced against excessive}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   load generated by a receiver that sends an ACK frame in response to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   every ack-eliciting packet.  The guidance offered below seeks to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   strike this balance.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#85"}}{\fldrslt {13.2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#85"}}{\fldrslt {. }}} Sending ACK Frames}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Every packet SHOULD be acknowledged at least once, and ack-eliciting}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets MUST be acknowledged at least once within the maximum ack}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   delay.  An endpoint communicates its maximum delay using the}\par\pard\li760\ri0\sl-226\slmult0 \*\tx5746\fs20\cf0\f1\charscalex100 {   max_ack_delay transport parameter; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {Section 18.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {. }}} max_ack_delay}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   declares an explicit contract: an endpoint promises to never}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   intentionally delay acknowledgments of an ack-eliciting packet by}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   more than the indicated value.  If it does, any excess accrues to the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   RTT estimate and could result in spurious or delayed retransmissions}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   from the peer.  For Initial and Handshake packets, a max_ack_delay of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   0 is used.  The sender uses the receiver\uc1\u8217Xs max_ack_delay value in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   determining timeouts for timer-based retransmission, as detailed in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Section 6.2 of {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-RECOVERY}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {].}}}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Since packets containing only ACK frames are not congestion}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   controlled, an endpoint MUST NOT send more than one such packet in}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   response to receiving an ack-eliciting packet.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint MUST NOT send a non-ack-eliciting packet in response to a}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   non-ack-eliciting packet, even if there are packet gaps which precede}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   the received packet.  This avoids an infinite feedback loop of}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   acknowledgements, which could prevent the connection from ever}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   becoming idle.  Non-ack-eliciting packets are eventually acknowledged}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   when the endpoint sends an ACK frame in response to other events.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   In order to assist loss detection at the sender, an endpoint SHOULD}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   send an ACK frame immediately on receiving an ack-eliciting packet}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that is out of order.  The endpoint SHOULD NOT continue sending ACK}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   frames immediately unless more ack-eliciting packets are received out}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   of order.  If every subsequent ack-eliciting packet arrives out of}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   order, then an ACK frame SHOULD be sent immediately for every}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   received ack-eliciting packet.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Similarly, packets marked with the ECN Congestion Experienced (CE)}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   codepoint in the IP header SHOULD be acknowledged immediately, to}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   reduce the peer\uc1\u8217Xs response time to congestion events.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The algorithms in {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-RECOVERY}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {] }}}are expected to be resilient to}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   receivers that do not follow guidance offered above.  However, an}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   implementer should only deviate from these requirements after careful}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   consideration of the performance implications of doing so.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-306\slmult0 \fs20\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 85]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2198\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2199\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#86"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint that is only sending ACK frames will not receive}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   acknowledgments from its peer unless those acknowledgements are}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   included in packets with ack-eliciting frames.  An endpoint SHOULD}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   bundle ACK frames with other frames when there are new ack-eliciting}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets to acknowledge.  When only non-ack-eliciting packets need to}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   be acknowledged, an endpoint MAY wait until an ack-eliciting packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   has been received to bundle an ACK frame with outgoing frames.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#86"}}{\fldrslt {13.2.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#86"}}{\fldrslt {. }}} Acknowledgement Frequency}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A receiver determines how frequently to send acknowledgements in}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   response to ack-eliciting packets.  This determination involves a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   tradeoff.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   Endpoints rely on timely acknowledgment to detect loss; see Section 6}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   of {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-RECOVERY}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {]. }}} Window-based congestion controllers, such as the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   one in Section 7 of {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-RECOVERY}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {], }}}rely on acknowledgments to}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   manage their congestion window.  In both cases, delaying}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   acknowledgments can adversely affect performance.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   On the other hand, reducing the frequency of packets that carry only}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   acknowledgements reduces packet transmission and processing cost at}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   both endpoints.  It can also improve connection throughput on}\par\pard\li746\ri0\sl-240\slmult0 \*\tx4786\fs20\cf0\f1\charscalex100 {   severely asymmetric links; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc3449#section-3"}}{\fldrslt {Section 3 of [RFC3449]}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc3449#section-3"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   A receiver SHOULD send an ACK frame after receiving at least two ack-}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   eliciting packets.  This recommendation is general in nature and}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   consistent with recommendations for TCP endpoint behavior {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc5681"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc5681"}}{\fldrslt {RFC5681}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc5681"}}{\fldrslt {].}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Knowledge of network conditions, knowledge of the peer\uc1\u8217Xs congestion}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   controller, or further research and experimentation might suggest}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   alternative acknowledgment strategies with better performance}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   characteristics.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A receiver MAY process multiple available packets before determining}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   whether to send an ACK frame in response.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#86"}}{\fldrslt {13.2.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#86"}}{\fldrslt {. }}} Managing ACK Ranges}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   When an ACK frame is sent, one or more ranges of acknowledged packets}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   are included.  Including older packets reduces the chance of spurious}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   retransmits caused by losing previously sent ACK frames, at the cost}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   of larger ACK frames.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 86]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2200\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2201\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#87"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   ACK frames SHOULD always acknowledge the most recently received}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets, and the more out-of-order the packets are, the more}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   important it is to send an updated ACK frame quickly, to prevent the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   peer from declaring a packet as lost and spuriously retransmitting}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the frames it contains.  An ACK frame is expected to fit within a}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   single QUIC packet.  If it does not, then older ranges (those with}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the smallest packet numbers) are omitted.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx3373\fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#87"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#87"}}{\fldrslt {Section 13.2.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#87"}}{\fldrslt { and}}}}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#87"}}{\fldrslt {Section 13.2.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#87"}}{\fldrslt { describe }}}an exemplary approach for}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   determining what packets to acknowledge in each ACK frame.  Though}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the goal of these algorithms is to generate an acknowledgment for}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   every packet that is processed, it is still possible for}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   acknowledgments to be lost.  A sender cannot expect to receive an}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   acknowledgment for every packet that the receiver processes.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#87"}}{\fldrslt {13.2.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#87"}}{\fldrslt {. }}} Receiver Tracking of ACK Frames}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   When a packet containing an ACK frame is sent, the largest}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   acknowledged in that frame may be saved.  When a packet containing an}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   ACK frame is acknowledged, the receiver can stop acknowledging}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets less than or equal to the largest acknowledged in the sent}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   ACK frame.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   In cases without ACK frame loss, this algorithm allows for a minimum}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   of 1 RTT of reordering.  In cases with ACK frame loss and reordering,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   this approach does not guarantee that every acknowledgement is seen}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   by the sender before it is no longer included in the ACK frame.}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   Packets could be received out of order and all subsequent ACK frames}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   containing them could be lost.  In this case, the loss recovery}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   algorithm could cause spurious retransmits, but the sender will}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   continue making forward progress.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#87"}}{\fldrslt {13.2.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#87"}}{\fldrslt {. }}} Limiting ACK Ranges}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A receiver limits the number of ACK Ranges {\field{\*\fldinst{HYPERLINK "#124"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#124"}}{\fldrslt {Section 19.3.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#124"}}{\fldrslt {) }}}it}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   remembers and sends in ACK frames, both to limit the size of ACK}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   frames and to avoid resource exhaustion.  After receiving}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   acknowledgments for an ACK frame, the receiver SHOULD stop tracking}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   those acknowledged ACK Ranges.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   It is possible that retaining many ACK Ranges could cause an ACK}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   frame to become too large.  A receiver can discard unacknowledged ACK}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Ranges to limit ACK frame size, at the cost of increased}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   retransmissions from the sender.  This is necessary if an ACK frame}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   would be too large to fit in a packet, however receivers MAY also}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   limit ACK frame size further to preserve space for other frames.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-360\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 87]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2202\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2203\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#88"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs18\cf0\f1\charscalex100 {   A receiver MUST retain an ACK Range unless it can ensure that it will}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   not subsequently accept packets with numbers in that range.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Maintaining a minimum packet number that increases as ranges are}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   discarded is one way to achieve this with minimal state.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Receivers can discard all ACK Ranges, but they MUST retain the}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   largest packet number that has been successfully processed as that is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   used to recover packet numbers from subsequent packets; see}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#101"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#101"}}{\fldrslt {Section 17.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#101"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A receiver SHOULD include an ACK Range containing the largest}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   received packet number in every ACK frame.  The Largest Acknowledged}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   field is used in ECN validation at a sender and including a lower}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   value than what was included in a previous ACK frame could cause ECN}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5146\fs20\cf0\f1\charscalex100 {   to be unnecessarily disabled; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#93"}}{\fldrslt {Section 13.4.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#93"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A receiver that sends only non-ack-eliciting packets, such as ACK}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   frames, might not receive an acknowledgement for a long period of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   time.  This could cause the receiver to maintain state for a large}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   number of ACK frames for a long period of time, and ACK frames it}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   sends could be unnecessarily large.  In such a case, a receiver could}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   bundle a PING or other small ack-eliciting frame occasionally, such}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   as once per round trip, to elicit an ACK from the peer.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A receiver MUST NOT bundle an ack-eliciting frame with all packets}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that would otherwise be non-ack-eliciting, to avoid an infinite}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   feedback loop of acknowledgements.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#88"}}{\fldrslt {13.2.6}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#88"}}{\fldrslt {. }}} Measuring and Reporting Host Delay}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint measures the delays intentionally introduced between the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   time the packet with the largest packet number is received and the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   time an acknowledgment is sent.  The endpoint encodes this delay in}\par\pard\li760\ri0\sl-226\slmult0 \*\tx5986\fs20\cf0\f1\charscalex100 {   the Ack Delay field of an ACK frame; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt {Section 19.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt {. }}} This allows}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the receiver of the ACK to adjust for any intentional delays, which}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   is important for getting a better estimate of the path RTT when}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   acknowledgments are delayed.  A packet might be held in the OS kernel}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   or elsewhere on the host before being processed.  An endpoint MUST}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   NOT include delays that it does not control when populating the Ack}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Delay field in an ACK frame.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#88"}}{\fldrslt {13.2.7}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#88"}}{\fldrslt {. }}} ACK Frames and Packet Protection}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   ACK frames MUST only be carried in a packet that has the same packet}\par\pard\li760\ri0\sl-226\slmult0 \*\tx6333\fs20\cf0\f1\charscalex100 {   number space as the packet being ACKed; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#77"}}{\fldrslt {Section 12.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#77"}}{\fldrslt {. }}} For}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   instance, packets that are protected with 1-RTT keys MUST be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   acknowledged in packets that are also protected with 1-RTT keys.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 88]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2204\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2205\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#89"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   Packets that a client sends with 0-RTT packet protection MUST be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   acknowledged by the server in packets protected by 1-RTT keys.  This}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   can mean that the client is unable to use these acknowledgments if}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the server cryptographic handshake messages are delayed or lost.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Note that the same limitation applies to other data sent by the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   server protected by the 1-RTT keys.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#89"}}{\fldrslt {13.2.8}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#89"}}{\fldrslt {. }}} PADDING Frames Consume Congestion Window}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Packets containing PADDING frames are considered to be in flight for}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   congestion control purposes {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-RECOVERY}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {]. }}} Packets containing only}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   PADDING frames therefore consume congestion window but do not}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   generate acknowledgments that will open the congestion window.  To}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   avoid a deadlock, a sender SHOULD ensure that other frames are sent}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   periodically in addition to PADDING frames to elicit acknowledgments}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   from the receiver.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#89"}}{\fldrslt {13.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#89"}}{\fldrslt {. }}} Retransmission of Information}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC packets that are determined to be lost are not retransmitted}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   whole.  The same applies to the frames that are contained within lost}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   packets.  Instead, the information that might be carried in frames is}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   sent again in new frames as needed.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   New frames and packets are used to carry information that is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   determined to have been lost.  In general, information is sent again}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   when a packet containing that information is determined to be lost}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   and sending ceases when a packet containing that information is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   acknowledged.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  Data sent in CRYPTO frames is retransmitted according to the rules}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      in {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-RECOVERY}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {], }}}until all data has been acknowledged.  Data in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      CRYPTO frames for Initial and Handshake packets is discarded when}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      keys for the corresponding packet number space are discarded.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Application data sent in STREAM frames is retransmitted in new}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      STREAM frames unless the endpoint has sent a RESET_STREAM for that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      stream.  Once an endpoint sends a RESET_STREAM frame, no further}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      STREAM frames are needed.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  ACK frames carry the most recent set of acknowledgements and the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      Ack Delay from the largest acknowledged packet, as described in}\par\pard\li1466\ri0\sl-240\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#85"}}{\fldrslt {Section 13.2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#85"}}{\fldrslt {. }}} Delaying the transmission of packets containing}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      ACK frames or sending old ACK frames can cause the peer to}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      generate an inflated RTT sample or unnecessarily disable ECN.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-173\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 89]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2206\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2207\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#90"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   *  Cancellation of stream transmission, as carried in a RESET_STREAM}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      frame, is sent until acknowledged or until all stream data is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      acknowledged by the peer (that is, either the "Reset Recvd" or}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      "Data Recvd" state is reached on the sending part of the stream).}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      The content of a RESET_STREAM frame MUST NOT change when it is}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      sent again.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Similarly, a request to cancel stream transmission, as encoded in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      a STOP_SENDING frame, is sent until the receiving part of the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      stream enters either a "Data Recvd" or "Reset Recvd" state; see}\par\pard\li1466\ri0\sl-240\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#21"}}{\fldrslt {Section 3.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#21"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Connection close signals, including packets that contain}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      CONNECTION_CLOSE frames, are not sent again when packet loss is}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5026\fs20\cf0\f1\charscalex100 {      detected, but as described in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#64"}}{\fldrslt {Section 10}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#64"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  The current connection maximum data is sent in MAX_DATA frames.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      An updated value is sent in a MAX_DATA frame if the packet}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      containing the most recently sent MAX_DATA frame is declared lost,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      or when the endpoint decides to update the limit.  Care is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      necessary to avoid sending this frame too often as the limit can}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      increase frequently and cause an unnecessarily large number of}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      MAX_DATA frames to be sent.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  The current maximum stream data offset is sent in MAX_STREAM_DATA}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      frames.  Like MAX_DATA, an updated value is sent when the packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      containing the most recent MAX_STREAM_DATA frame for a stream is}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      lost or when the limit is updated, with care taken to prevent the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      frame from being sent too often.  An endpoint SHOULD stop sending}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      MAX_STREAM_DATA frames when the receiving part of the stream}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      enters a "Size Known" state.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  The limit on streams of a given type is sent in MAX_STREAMS}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      frames.  Like MAX_DATA, an updated value is sent when a packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      containing the most recent MAX_STREAMS for a stream type frame is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      declared lost or when the limit is updated, with care taken to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      prevent the frame from being sent too often.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Blocked signals are carried in DATA_BLOCKED, STREAM_DATA_BLOCKED,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      and STREAMS_BLOCKED frames.  DATA_BLOCKED frames have connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      scope, STREAM_DATA_BLOCKED frames have stream scope, and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      STREAMS_BLOCKED frames are scoped to a specific stream type.  New}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      frames are sent if packets containing the most recent frame for a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      scope is lost, but only while the endpoint is blocked on the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      corresponding limit.  These frames always include the limit that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      is causing blocking at the time that they are transmitted.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-360\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 90]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2208\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2209\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#91"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs18\cf0\f1\charscalex100 {   *  A liveness or path validation check using PATH_CHALLENGE frames is}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      sent periodically until a matching PATH_RESPONSE frame is received}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      or until there is no remaining need for liveness or path}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      validation checking.  PATH_CHALLENGE frames include a different}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      payload each time they are sent.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Responses to path validation using PATH_RESPONSE frames are sent}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      just once.  The peer is expected to send more PATH_CHALLENGE}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      frames as necessary to evoke additional PATH_RESPONSE frames.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  New connection IDs are sent in NEW_CONNECTION_ID frames and}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      retransmitted if the packet containing them is lost.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      Retransmissions of this frame carry the same sequence number}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      value.  Likewise, retired connection IDs are sent in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      RETIRE_CONNECTION_ID frames and retransmitted if the packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      containing them is lost.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  NEW_TOKEN frames are retransmitted if the packet containing them}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      is lost.  No special support is made for detecting reordered and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      duplicated NEW_TOKEN frames other than a direct comparison of the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      frame contents.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  PING and PADDING frames contain no information, so lost PING or}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      PADDING frames do not require repair.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  The HANDSHAKE_DONE frame MUST be retransmitted until it is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      acknowledged.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Endpoints SHOULD prioritize retransmission of data over sending new}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   data, unless priorities specified by the application indicate}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2893\fs20\cf0\f1\charscalex100 {   otherwise; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#13"}}{\fldrslt {Section 2.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#13"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Even though a sender is encouraged to assemble frames containing up-}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   to-date information every time it sends a packet, it is not forbidden}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to retransmit copies of frames from lost packets.  A sender that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   retransmits copies of frames needs to handle decreases in available}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   payload size due to change in packet number length, connection ID}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   length, and path MTU.  A receiver MUST accept packets containing an}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   outdated frame, such as a MAX_DATA frame carrying a smaller maximum}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   data than one found in an older packet.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Upon detecting losses, a sender MUST take appropriate congestion}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   control action.  The details of loss detection and congestion control}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   are described in {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-RECOVERY}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {].}}}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-186\slmult0 \fs20\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 91]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2210\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2211\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#92"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#92"}}{\fldrslt {13.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#92"}}{\fldrslt {. }}} Explicit Congestion Notification}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC endpoints can use Explicit Congestion Notification (ECN)}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc3168"}}{\fldrslt { [}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc3168"}}{\fldrslt {RFC3168}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc3168"}}{\fldrslt {] }}}to detect and respond to network congestion.  ECN allows a}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   network node to indicate congestion in the network by setting a}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   codepoint in the IP header of a packet instead of dropping it.}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Endpoints react to congestion by reducing their sending rate in}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   response, as described in {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-RECOVERY}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {].}}}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   To use ECN, QUIC endpoints first determine whether a path supports}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   ECN marking and the peer is able to access the ECN codepoint in the}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   IP header.  A network path does not support ECN if ECN marked packets}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   get dropped or ECN markings are rewritten on the path.  An endpoint}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   validates the use of ECN on the path, both during connection}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   establishment and when migrating to a new path {\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {Section 9}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {).}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#92"}}{\fldrslt {13.4.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#92"}}{\fldrslt {. }}} ECN Counts}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   On receiving a QUIC packet with an ECT or CE codepoint, an ECN-}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   enabled endpoint that can access the ECN codepoints from the}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   enclosing IP packet increases the corresponding ECT(0), ECT(1), or CE}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   count, and includes these counts in subsequent ACK frames; see}\par\pard\li760\ri0\sl-226\slmult0 \*\tx3133\fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#84"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#84"}}{\fldrslt {Section 13.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#84"}}{\fldrslt { and}}}}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt {Section 19.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt {. }}} Note that this requires being able to}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   read the ECN codepoints from the enclosing IP packet, which is not}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   possible on all platforms.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An IP packet that results in no QUIC packets being processed does not}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   increase ECN counts.  A QUIC packet detected by a receiver as a}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   duplicate does not affect the receiver\uc1\u8217Xs local ECN codepoint counts;}\par\pard\li746\ri0\sl-240\slmult0 \*\tx1586\fs20\cf0\f1\charscalex100 {   see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#146"}}{\fldrslt {Section 21.8}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#146"}}{\fldrslt { for }}}relevant security concerns.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   If an endpoint receives a QUIC packet without an ECT or CE codepoint}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5986\fs20\cf0\f1\charscalex100 {   in the IP packet header, it responds per}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#84"}}{\fldrslt {Section 13.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#84"}}{\fldrslt { with }}}an ACK}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   frame without increasing any ECN counts.  If an endpoint does not}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   implement ECN support or does not have access to received ECN}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   codepoints, it does not increase ECN counts.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx3840\fs20\cf0\f1\charscalex100 {   Coalesced packets (see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#78"}}{\fldrslt {Section 12.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#78"}}{\fldrslt {) }}}mean that several packets can}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   share the same IP header.  The ECN counts for the ECN codepoint}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   received in the associated IP header are incremented once for each}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC packet, not per enclosing IP packet or UDP datagram.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Each packet number space maintains separate acknowledgement state and}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   separate ECN counts.  For example, if one each of an Initial, 0-RTT,}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   Handshake, and 1-RTT QUIC packet are coalesced, the corresponding}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   counts for the Initial and Handshake packet number space will be}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   incremented by one and the counts for the 1-RTT packet number space}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   will be increased by two.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-306\slmult0 \fs20\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 92]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2212\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2213\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#93"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#93"}}{\fldrslt {13.4.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#93"}}{\fldrslt {. }}} ECN Validation}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   It is possible for faulty network devices to corrupt or erroneously}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   drop packets with ECN markings.  To provide robust connectivity in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the presence of such devices, each endpoint independently validates}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   ECN counts and disables ECN if errors are detected.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Endpoints validate ECN for packets sent on each network path}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   independently.  An endpoint thus validates ECN on new connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   establishment, when switching to a new server preferred address, and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   on active connection migration to a new path. {\field{\*\fldinst{HYPERLINK "#165"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#165"}}{\fldrslt {Appendix B}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#165"}}{\fldrslt { describes}}}}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   one possible algorithm for testing paths for ECN support.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Even if an endpoint does not use ECN markings on packets it}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   transmits, the endpoint MUST provide feedback about ECN markings}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   received from the peer if they are accessible.  Failing to report ECN}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   counts will cause the peer to disable ECN marking.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#93"}}{\fldrslt {13.4.2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#93"}}{\fldrslt {. }}} Sending ECN Markings}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   To start ECN validation, an endpoint SHOULD do the following when}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   sending packets on a new path to a peer:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Set the ECT(0) codepoint in the IP header of early outgoing}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      packets sent on a new path to the peer {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8311"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8311"}}{\fldrslt {RFC8311}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8311"}}{\fldrslt {].}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  If all packets that were sent with the ECT(0) codepoint are}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      eventually deemed lost {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-RECOVERY}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {], }}}validation is deemed to}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      have failed.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   To reduce the chances of misinterpreting congestive loss as packets}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   dropped by a faulty network element, an endpoint could set the ECT(0)}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   codepoint for only the first ten outgoing packets on a path, or for a}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   period of three RTTs, whichever occurs first.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Other methods of probing paths for ECN support are possible, as are}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   different marking strategies.  Implementations MAY use other methods}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   defined in RFCs; see {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8311"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8311"}}{\fldrslt {RFC8311}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8311"}}{\fldrslt {]. }}} Implementations that use the ECT(1)}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   codepoint need to perform ECN validation using ECT(1) counts.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#93"}}{\fldrslt {13.4.2.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#93"}}{\fldrslt {. }}} Receiving ACK Frames}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint that sets ECT(0) or ECT(1) codepoints on packets it}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   transmits MUST use the following steps on receiving an ACK frame to}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   validate ECN.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-173\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 93]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2214\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2215\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#94"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   *  If this ACK frame newly acknowledges a packet that the endpoint}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      sent with either ECT(0) or ECT(1) codepoints set, and if no ECN}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      feedback is present in the ACK frame, validation fails.  This step}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      protects against both a network element that zeroes out ECN bits}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      and a peer that is unable to access ECN markings, since the peer}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      could respond without ECN feedback in these cases.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  For validation to succeed, the total increase in ECT(0), ECT(1),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      and CE counts MUST be no smaller than the total number of QUIC}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      packets sent with an ECT codepoint that are newly acknowledged in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      this ACK frame.  This step detects any network remarking from}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      ECT(0), ECT(1), or CE codepoints to Not-ECT.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Any increase in either ECT(0) or ECT(1) counts, plus any increase}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      in the CE count, MUST be no smaller than the number of packets}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      sent with the corresponding ECT codepoint that are newly}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      acknowledged in this ACK frame.  This step detects any erroneous}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      network remarking from ECT(0) to ECT(1) (or vice versa).}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Processing ECN counts out of order can result in validation failure.}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   An endpoint SHOULD NOT perform this validation if this ACK frame does}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   not advance the largest packet number acknowledged in this}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   connection.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint could miss acknowledgements for a packet when ACK frames}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   are lost.  It is therefore possible for the total increase in ECT(0),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   ECT(1), and CE counts to be greater than the number of packets}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   acknowledged in an ACK frame.  When this happens, and if validation}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   succeeds, the local reference counts MUST be increased to match the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   counts in the ACK frame.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#94"}}{\fldrslt {13.4.2.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#94"}}{\fldrslt {. }}} Validation Outcomes}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   If validation fails, then the endpoint stops sending ECN markings in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   subsequent IP packets with the expectation that either the network}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   path or the peer does not support ECN.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Upon successful validation, an endpoint can continue to set ECT}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   codepoints in subsequent packets with the expectation that the path}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   is ECN-capable.  Network routing and path elements can change mid-}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection however; an endpoint MUST disable ECN if validation fails}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   at any point in the connection.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Even if validation fails, an endpoint MAY revalidate ECN on the same}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   path at any later time in the connection.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-173\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 94]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2216\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2217\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#95"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#95"}}{\fldrslt {14}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#95"}}{\fldrslt {. }}} Packet Size}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The QUIC packet size includes the QUIC header and protected payload,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   but not the UDP or IP headers.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC depends upon a minimum IP packet size of at least 1280 bytes.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   This is the IPv6 minimum size {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8200"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8200"}}{\fldrslt {RFC8200}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8200"}}{\fldrslt {] }}}and is also supported by most}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   modern IPv4 networks.  Assuming the minimum IP header size, this}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   results in a QUIC maximum packet size of 1232 bytes for IPv6 and 1252}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   bytes for IPv4.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The QUIC maximum packet size is the largest size of QUIC packet that}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   can be sent across a network path using a single packet.  Any maximum}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet size larger than 1200 bytes can be discovered using Path}\par\pard\li760\ri0\sl-240\slmult0 \*\tx6813\fs20\cf0\f1\charscalex100 {   Maximum Transmission Unit Discovery (PMTUD; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt {Section 14.2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt {) }}}or}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Datagram Packetization Layer PMTU Discovery (DPLPMTUD; see}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt {Section 14.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt {).}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Enforcement of the max_udp_payload_size transport parameter}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt { (}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {Section 18.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {) }}}might act as an additional limit on the maximum packet}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   size.  A sender can avoid exceeding this limit, once the value is}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   known.  However, prior to learning the value of the transport}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   parameter, endpoints risk datagrams being lost if they send packets}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   larger than the smallest allowed maximum packet size of 1200 bytes.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   UDP datagrams MUST NOT be fragmented at the IP layer.  In IPv4}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt { [}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {IPv4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {], }}}the DF bit MUST be set to prevent fragmentation on the path.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#95"}}{\fldrslt {14.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#95"}}{\fldrslt {. }}} Initial Packet Size}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A client MUST expand the payload of all UDP datagrams carrying}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Initial packets to at least the smallest allowed maximum packet size}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   (1200 bytes) by adding PADDING frames to the Initial packet or by}\par\pard\li760\ri0\sl-226\slmult0 \*\tx5266\fs20\cf0\f1\charscalex100 {   coalescing the Initial packet; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#78"}}{\fldrslt {Section 12.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#78"}}{\fldrslt {. }}} Sending a UDP}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   datagram of this size ensures that the network path from the client}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to the server supports a reasonable Path Maximum Transmission Unit}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   (PMTU).  This also helps reduce the amplitude of amplification}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   attacks caused by server responses toward an unverified client}\par\pard\li760\ri0\sl-226\slmult0 \*\tx2653\fs20\cf0\f1\charscalex100 {   address; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {Section 8}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Datagrams containing Initial packets MAY exceed 1200 bytes if the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   client believes that the network path and peer both support the size}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that it chooses.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 95]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2218\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2219\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#96"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   A server MUST discard an Initial packet that is carried in a UDP}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   datagram with a payload that is less than the smallest allowed}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   maximum packet size of 1200 bytes.  A server MAY also immediately}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   close the connection by sending a CONNECTION_CLOSE frame with an}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5626\fs20\cf0\f1\charscalex100 {   error code of PROTOCOL_VIOLATION; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#69"}}{\fldrslt {Section 10.3.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#69"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The server MUST also limit the number of bytes it sends before}\par\pard\li760\ri0\sl-240\slmult0 \*\tx6093\fs20\cf0\f1\charscalex100 {   validating the address of the client; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {Section 8}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#96"}}{\fldrslt {14.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#96"}}{\fldrslt {. }}} Path Maximum Transmission Unit (PMTU)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The Path Maximum Transmission Unit (PMTU) is the maximum size of the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   entire IP packet including the IP header, UDP header, and UDP}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   payload.  The UDP payload includes the QUIC packet header, protected}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   payload, and any authentication fields.  The PMTU can depend on path}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   characteristics, and can therefore change over time.  The largest UDP}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   payload an endpoint sends at any given time is referred to as the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint\uc1\u8217Xs maximum packet size.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint SHOULD use DPLPMTUD {\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt {Section 14.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt {) }}}or PMTUD}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt { (}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt {Section 14.2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt {) }}}to determine whether the path to a destination will}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   support a desired maximum packet size without fragmentation.  In the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   absence of these mechanisms, QUIC endpoints SHOULD NOT send IP}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets larger than the smallest allowed maximum packet size.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Both DPLPMTUD and PMTUD send IP packets that are larger than the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   current maximum packet size.  We refer to these as PMTU probes.  All}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   QUIC packets that are not sent in a PMTU probe SHOULD be sized to fit}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   within the maximum packet size to avoid the packet being fragmented}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   or dropped {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8085"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8085"}}{\fldrslt {RFC8085}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8085"}}{\fldrslt {].}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   If a QUIC endpoint determines that the PMTU between any pair of local}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   and remote IP addresses has fallen below the smallest allowed maximum}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   packet size of 1200 bytes, it MUST immediately cease sending QUIC}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets, except for those in PMTU probes or those containing}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   CONNECTION_CLOSE frames, on the affected path.  An endpoint MAY}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   terminate the connection if an alternative path cannot be found.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Each pair of local and remote addresses could have a different PMTU.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC implementations that implement any kind of PMTU discovery}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   therefore SHOULD maintain a maximum packet size for each combination}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   of local and remote IP addresses.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A QUIC implementation MAY be more conservative in computing the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   maximum packet size to allow for unknown tunnel overheads or IP}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   header options/extensions.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-360\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 96]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2220\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2221\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt {14.2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt {. }}} Handling of ICMP Messages by PMTUD}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Path Maximum Transmission Unit Discovery (PMTUD; {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc1191"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc1191"}}{\fldrslt {RFC1191}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc1191"}}{\fldrslt {],}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8201"}}{\fldrslt { [}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8201"}}{\fldrslt {RFC8201}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8201"}}{\fldrslt {]) }}}relies on reception of ICMP messages (e.g., IPv6 Packet}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Too Big messages) that indicate when a packet is dropped because it}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   is larger than the local router MTU.  DPLPMTUD can also optionally}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   use these messages.  This use of ICMP messages is potentially}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   vulnerable to off-path attacks that successfully guess the addresses}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   used on the path and reduce the PMTU to a bandwidth-inefficient}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   value.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint MUST ignore an ICMP message that claims the PMTU has}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   decreased below the minimum QUIC packet size.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The requirements for generating ICMP {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc1812"}}{\fldrslt {([}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc1812"}}{\fldrslt {RFC1812}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc1812"}}{\fldrslt {], }}}{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc4443"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc4443"}}{\fldrslt {RFC4443}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc4443"}}{\fldrslt {]) }}}state}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that the quoted packet should contain as much of the original packet}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   as possible without exceeding the minimum MTU for the IP version.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   The size of the quoted packet can actually be smaller, or the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   information unintelligible, as described in Section 1.1 of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt { [}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {DPLPMTUD}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {].}}}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC endpoints using PMTUD SHOULD validate ICMP messages to protect}\par\pard\li746\ri0\sl-226\slmult0 \*\tx7520\fs20\cf0\f1\charscalex100 {   from off-path injection as specified in {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8201"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8201"}}{\fldrslt {RFC8201}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8201"}}{\fldrslt {] }}}and}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8085#section-5.2"}}{\fldrslt {Section 5.2 of}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8085#section-5.2"}}{\fldrslt {   [RFC8085]}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8085#section-5.2"}}{\fldrslt {. }}} This validation SHOULD use the quoted packet supplied in}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the payload of an ICMP message to associate the message with a}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   corresponding transport connection (see Section 4.6.1 of {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {DPLPMTUD}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {]).}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   ICMP message validation MUST include matching IP addresses and UDP}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   ports {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8085"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8085"}}{\fldrslt {RFC8085}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8085"}}{\fldrslt {] }}}and, when possible, connection IDs to an active QUIC}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   session.  The endpoint SHOULD ignore all ICMP messages that fail}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   validation.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint MUST NOT increase PMTU based on ICMP messages; see}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt {Section 3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt {, }}}clause 6 of {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {DPLPMTUD}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {]. }}} Any reduction in the QUIC maximum}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   packet size in response to ICMP messages MAY be provisional until}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC\uc1\u8217Xs loss detection algorithm determines that the quoted packet has}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   actually been lost.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt {14.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt {. }}} Datagram Packetization Layer PMTU Discovery}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Datagram Packetization Layer PMTU Discovery (DPLPMTUD; {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {DPLPMTUD}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {])}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   relies on tracking loss or acknowledgment of QUIC packets that are}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   carried in PMTU probes.  PMTU probes for DPLPMTUD that use the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   PADDING frame implement "Probing using padding data", as defined in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Section 4.1 of {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {DPLPMTUD}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {].}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Endpoints SHOULD set the initial value of BASE_PMTU (see Section 5.1}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   of {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {DPLPMTUD}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {]) }}}to be consistent with the minimum QUIC packet size.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   The MIN_PLPMTU is the same as the BASE_PMTU.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 97]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2222\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2223\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#98"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC endpoints implementing DPLPMTUD maintain a maximum packet size}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   (DPLPMTUD MPS) for each combination of local and remote IP addresses.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#98"}}{\fldrslt {14.3.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#98"}}{\fldrslt {. }}} DPLPMTUD and Initial Connectivity}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   From the perspective of DPLPMTUD, QUIC transport is an acknowledged}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packetization layer (PL).  A sender can therefore enter the DPLPMTUD}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   BASE state when the QUIC connection handshake has been completed.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#98"}}{\fldrslt {14.3.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#98"}}{\fldrslt {. }}} Validating the QUIC Path with DPLPMTUD}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC provides an acknowledged PL, therefore a sender does not}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   implement the DPLPMTUD CONFIRMATION_TIMER while in the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   SEARCH_COMPLETE state; see Section 5.2 of {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {DPLPMTUD}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {].}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#98"}}{\fldrslt {14.3.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#98"}}{\fldrslt {. }}} Handling of ICMP Messages by DPLPMTUD}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint using DPLPMTUD requires the validation of any received}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   ICMP Packet Too Big (PTB) message before using the PTB information,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   as defined in Section 4.6 of {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {DPLPMTUD}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {]. }}} In addition to UDP port}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   validation, QUIC validates an ICMP message by using other PL}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   information (e.g., validation of connection IDs in the quoted packet}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   of any received ICMP message).}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The considerations for processing ICMP messages described in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt {Section 14.2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt { also }}}apply if these messages are used by DPLPMTUD.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#98"}}{\fldrslt {14.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#98"}}{\fldrslt {. }}} Sending QUIC PMTU Probes}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   PMTU probes are ack-eliciting packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Endpoints could limit the content of PMTU probes to PING and PADDING}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   frames as packets that are larger than the current maximum packet}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   size are more likely to be dropped by the network.  Loss of a QUIC}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet that is carried in a PMTU probe is therefore not a reliable}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   indication of congestion and SHOULD NOT trigger a congestion control}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2773\fs20\cf0\f1\charscalex100 {   reaction; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt {Section 3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt {, }}}Bullet 7 of {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {DPLPMTUD}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {]. }}} However, PMTU}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   probes consume congestion window, which could delay subsequent}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   transmission by an application.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 98]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2224\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2225\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#99"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#99"}}{\fldrslt {14.4.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#99"}}{\fldrslt {. }}} PMTU Probes Containing Source Connection ID}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Endpoints that rely on the destination connection ID for routing}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   incoming QUIC packets are likely to require that the connection ID be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   included in PMTU probes to route any resulting ICMP messages}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt { (}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt {Section 14.2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt {) }}}back to the correct endpoint.  However, only long}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   header packets {\field{\*\fldinst{HYPERLINK "#102"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#102"}}{\fldrslt {Section 17.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#102"}}{\fldrslt {) }}}contain the Source Connection ID field,}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   and long header packets are not decrypted or acknowledged by the peer}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   once the handshake is complete.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx7520\fs20\cf0\f1\charscalex100 {   One way to construct a PMTU probe is to coalesce (see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#78"}}{\fldrslt {Section 12.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#78"}}{\fldrslt {) }}}a}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   packet with a long header, such as a Handshake or 0-RTT packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#102"}}{\fldrslt { (}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#102"}}{\fldrslt {Section 17.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#102"}}{\fldrslt {), }}}with a short header packet in a single UDP datagram.}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   If the resulting PMTU probe reaches the endpoint, the packet with the}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   long header will be ignored, but the short header packet will be}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   acknowledged.  If the PMTU probe causes an ICMP message to be sent,}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   the first part of the probe will be quoted in that message.  If the}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Source Connection ID field is within the quoted portion of the probe,}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that could be used for routing or validation of the ICMP message.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Note:  The purpose of using a packet with a long header is only to}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      ensure that the quoted packet contained in the ICMP message}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      contains a Source Connection ID field.  This packet does not need}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      to be a valid packet and it can be sent even if there is no}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      current use for packets of that type.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#99"}}{\fldrslt {15}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#99"}}{\fldrslt {. }}} Versions}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC versions are identified using a 32-bit unsigned number.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The version 0x00000000 is reserved to represent version negotiation.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   This version of the specification is identified by the number}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   0x00000001.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Other versions of QUIC might have different properties to this}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   version.  The properties of QUIC that are guaranteed to be consistent}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   across all versions of the protocol are described in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#163"}}{\fldrslt { [}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#163"}}{\fldrslt {QUIC-INVARIANTS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#163"}}{\fldrslt {].}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Version 0x00000001 of QUIC uses TLS as a cryptographic handshake}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   protocol, as described in {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {].}}}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Versions with the most significant 16 bits of the version number}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   cleared are reserved for use in future IETF consensus documents.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-186\slmult0 \fs20\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020               [Page 99]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2226\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2227\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#100"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   Versions that follow the pattern 0x?a?a?a?a are reserved for use in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   forcing version negotiation to be exercised.  That is, any version}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   number where the low four bits of all bytes is 1010 (in binary).  A}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   client or server MAY advertise support for any of these reserved}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   versions.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Reserved version numbers will never represent a real protocol; a}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   client MAY use one of these version numbers with the expectation that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the server will initiate version negotiation; a server MAY advertise}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   support for one of these versions and can expect that clients ignore}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the value.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   [[RFC editor: please remove the remainder of this section before}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   publication.]]}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The version number for the final version of this specification}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   (0x00000001), is reserved for the version of the protocol that is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   published as an RFC.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Version numbers used to identify IETF drafts are created by adding}\par\pard\li760\ri0\sl-240\slmult0 \*\tx6573\fs20\cf0\f1\charscalex100 {   the draft number to 0xff000000.  For example,}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-13"}}{\fldrslt {draft-ietf-quic-}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-13"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-13"}}{\fldrslt {transport-13}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-13"}}{\fldrslt { would }}}be identified as 0xff00000D.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Implementors are encouraged to register version numbers of QUIC that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   they are using for private experimentation on the GitHub wiki at}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "https://github.com/quicwg/base-drafts/wiki/QUIC-Versions"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://github.com/quicwg/base-drafts/wiki/QUIC-Versions"}}{\fldrslt {https://github.com/quicwg/base-drafts/wiki/QUIC-Versions}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://github.com/quicwg/base-drafts/wiki/QUIC-Versions"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#100"}}{\fldrslt {16}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#100"}}{\fldrslt {. }}} Variable-Length Integer Encoding}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC packets and frames commonly use a variable-length encoding for}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   non-negative integer values.  This encoding ensures that smaller}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   integer values need fewer bytes to encode.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The QUIC variable-length integer encoding reserves the two most}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   significant bits of the first byte to encode the base 2 logarithm of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the integer encoding length in bytes.  The integer value is encoded}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   on the remaining bits, in network byte order.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   This means that integers are encoded on 1, 2, 4, or 8 bytes and can}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   encode 6, 14, 30, or 62 bit values respectively.  Table 4 summarizes}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the encoding properties.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 100]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2228\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2229\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#101"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {          +------+--------+-------------+-----------------------+}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          | 2Bit | Length | Usable Bits | Range                 |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          +======+========+=============+=======================+}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          | 00   | 1      | 6           | 0-63                  |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          +------+--------+-------------+-----------------------+}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {          | 01   | 2      | 14          | 0-16383               |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          +------+--------+-------------+-----------------------+}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          | 10   | 4      | 30          | 0-1073741823          |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          +------+--------+-------------+-----------------------+}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          | 11   | 8      | 62          | 0-4611686018427387903 |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {          +------+--------+-------------+-----------------------+}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {                   Table 4: Summary of Integer Encodings}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   For example, the eight byte sequence c2 19 7c 5e ff 14 e8 8c (in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   hexadecimal) decodes to the decimal value 151288809941952652; the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   four byte sequence 9d 7f 3e 7d decodes to 494878333; the two byte}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   sequence 7b bd decodes to 15293; and the single byte 25 decodes to 37}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   (as does the two byte sequence 40 25).}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Error codes {\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {Section 20}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {) }}}and versions {\field{\*\fldinst{HYPERLINK "#99"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#99"}}{\fldrslt {Section 15}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#99"}}{\fldrslt {) }}}are described}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   using integers, but do not use this encoding.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#101"}}{\fldrslt {17}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#101"}}{\fldrslt {. }}} Packet Formats}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   All numeric values are encoded in network byte order (that is, big-}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   endian) and all field sizes are in bits.  Hexadecimal notation is}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   used for describing the value of fields.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#101"}}{\fldrslt {17.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#101"}}{\fldrslt {. }}} Packet Number Encoding and Decoding}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Packet numbers are integers in the range 0 to 2^62-1 {\field{\*\fldinst{HYPERLINK "#79"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#79"}}{\fldrslt {Section 12.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#79"}}{\fldrslt {).}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   When present in long or short packet headers, they are encoded in 1}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   to 4 bytes.  The number of bits required to represent the packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   number is reduced by including the least significant bits of the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet number.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   The encoded packet number is protected as described in Section 5.4 of}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt { [}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {].}}}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-320\slmult0 \fs20\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 101]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2230\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2231\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#102"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   The sender MUST use a packet number size able to represent more than}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   twice as large a range than the difference between the largest}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   acknowledged packet and packet number being sent.  A peer receiving}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the packet will then correctly decode the packet number, unless the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet is delayed in transit such that it arrives after many higher-}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   numbered packets have been received.  An endpoint SHOULD use a large}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   enough packet number encoding to allow the packet number to be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   recovered even if the packet arrives after packets that are sent}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   afterwards.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   As a result, the size of the packet number encoding is at least one}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   bit more than the base-2 logarithm of the number of contiguous}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   unacknowledged packet numbers, including the new packet.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   For example, if an endpoint has received an acknowledgment for packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   0xabe8bc, sending a packet with a number of 0xac5c02 requires a}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   packet number encoding with 16 bits or more; whereas the 24-bit}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet number encoding is needed to send a packet with a number of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   0xace8fe.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   At a receiver, protection of the packet number is removed prior to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   recovering the full packet number.  The full packet number is then}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   reconstructed based on the number of significant bits present, the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   value of those bits, and the largest packet number received on a}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   successfully authenticated packet.  Recovering the full packet number}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   is necessary to successfully remove packet protection.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Once header protection is removed, the packet number is decoded by}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   finding the packet number value that is closest to the next expected}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet.  The next expected packet is the highest received packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   number plus one.  For example, if the highest successfully}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   authenticated packet had a packet number of 0xa82f30ea, then a packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   containing a 16-bit value of 0x9b32 will be decoded as 0xa82f9b32.}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   Example pseudo-code for packet number decoding can be found in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#164"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#164"}}{\fldrslt {Appendix A}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#164"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#102"}}{\fldrslt {17.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#102"}}{\fldrslt {. }}} Long Header Packets}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-360\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 102]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2232\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2233\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#103"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   Long Header Packet \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Header Form (1) = 1,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Fixed Bit (1) = 1,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Long Packet Type (2),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Type-Specific Bits (4),}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     Version (32),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Destination Connection ID Length (8),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Destination Connection ID (0..160),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Source Connection ID Length (8),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Source Connection ID (0..160),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {                    Figure 12: Long Header Packet Format}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Long headers are used for packets that are sent prior to the}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   establishment of 1-RTT keys.  Once 1-RTT keys are available, a sender}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   switches to sending packets using the short header {\field{\*\fldinst{HYPERLINK "#113"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#113"}}{\fldrslt {Section 17.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#113"}}{\fldrslt {).}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   The long form allows for special packets - such as the Version}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Negotiation packet - to be represented in this uniform fixed-length}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet format.  Packets that use the long header contain the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   following fields:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Header Form:  The most significant bit (0x80) of byte 0 (the first}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      byte) is set to 1 for long headers.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Fixed Bit:  The next bit (0x40) of byte 0 is set to 1.  Packets}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      containing a zero value for this bit are not valid packets in this}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      version and MUST be discarded.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Long Packet Type:  The next two bits (those with a mask of 0x30) of}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      byte 0 contain a packet type.  Packet types are listed in Table 5.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Type-Specific Bits:  The lower four bits (those with a mask of 0x0f)}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      of byte 0 are type-specific.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Version:  The QUIC Version is a 32-bit field that follows the first}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      byte.  This field indicates which version of QUIC is in use and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      determines how the rest of the protocol fields are interpreted.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Destination Connection ID Length:  The byte following the version}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      contains the length in bytes of the Destination Connection ID}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      field that follows it.  This length is encoded as an 8-bit}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      unsigned integer.  In QUIC version 1, this value MUST NOT exceed}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      20.  Endpoints that receive a version 1 long header with a value}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      larger than 20 MUST drop the packet.  Servers SHOULD be able to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      read longer connection IDs from other QUIC versions in order to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      properly form a version negotiation packet.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 103]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2234\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2235\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#104"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   Destination Connection ID:  The Destination Connection ID field}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      follows the Destination Connection ID Length field and is between}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      0 and 20 bytes in length. {\field{\*\fldinst{HYPERLINK "#40"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#40"}}{\fldrslt {Section 7.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#40"}}{\fldrslt { describes }}}the use of this}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      field in more detail.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Source Connection ID Length:  The byte following the Destination}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      Connection ID contains the length in bytes of the Source}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      Connection ID field that follows it.  This length is encoded as a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      8-bit unsigned integer.  In QUIC version 1, this value MUST NOT}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      exceed 20 bytes.  Endpoints that receive a version 1 long header}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      with a value larger than 20 MUST drop the packet.  Servers SHOULD}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      be able to read longer connection IDs from other QUIC versions in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      order to properly form a version negotiation packet.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Source Connection ID:  The Source Connection ID field follows the}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      Source Connection ID Length field and is between 0 and 20 bytes in}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      length. {\field{\*\fldinst{HYPERLINK "#40"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#40"}}{\fldrslt {Section 7.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#40"}}{\fldrslt { describes }}}the use of this field in more}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      detail.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   In this version of QUIC, the following packet types with the long}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   header are defined:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {                   +------+-----------+----------------+}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {                   | Type | Name      | Section        |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {                   +======+===========+================+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5506\fs20\cf0\f1\charscalex100 {                   |  0x0 | Initial   |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#107"}}{\fldrslt {Section 17.2.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#107"}}{\fldrslt { |}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {                   +------+-----------+----------------+}\par\pard\li760\ri0\sl-226\slmult0 \*\tx5506\fs20\cf0\f1\charscalex100 {                   |  0x1 | 0-RTT     |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#109"}}{\fldrslt {Section 17.2.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#109"}}{\fldrslt { |}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {                   +------+-----------+----------------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5506\fs20\cf0\f1\charscalex100 {                   |  0x2 | Handshake |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#110"}}{\fldrslt {Section 17.2.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#110"}}{\fldrslt { |}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {                   +------+-----------+----------------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5506\fs20\cf0\f1\charscalex100 {                   |  0x3 | Retry     |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#111"}}{\fldrslt {Section 17.2.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#111"}}{\fldrslt { |}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {                   +------+-----------+----------------+}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {                     Table 5: Long Header Packet Types}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The header form bit, connection ID lengths byte, Destination and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Source Connection ID fields, and Version fields of a long header}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   packet are version-independent.  The other fields in the first byte}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   are version-specific.  See {\field{\*\fldinst{HYPERLINK "#163"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#163"}}{\fldrslt {QUIC-INVARIANTS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#163"}}{\fldrslt {] }}}for details on how}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets from different versions of QUIC are interpreted.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The interpretation of the fields and the payload are specific to a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   version and packet type.  While type-specific semantics for this}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   version are described in the following sections, several long-header}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets in this version of QUIC contain these additional fields:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Reserved Bits:  Two bits (those with a mask of 0x0c) of byte 0 are}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 104]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2236\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2237\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#105"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {      reserved across multiple packet types.  These bits are protected}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      using header protection; see Section 5.4 of {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {]. }}} The value}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      included prior to protection MUST be set to 0.  An endpoint MUST}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      treat receipt of a packet that has a non-zero value for these}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      bits, after removing both packet and header protection, as a}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      connection error of type PROTOCOL_VIOLATION.  Discarding such a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      packet after only removing header protection can expose the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      endpoint to attacks; see Section 9.3 of {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {].}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Packet Number Length:  In packet types which contain a Packet Number}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      field, the least significant two bits (those with a mask of 0x03)}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      of byte 0 contain the length of the packet number, encoded as an}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      unsigned, two-bit integer that is one less than the length of the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      packet number field in bytes.  That is, the length of the packet}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      number field is the value of this field, plus one.  These bits are}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      protected using header protection; see Section 5.4 of {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {].}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Length:  The length of the remainder of the packet (that is, the}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      Packet Number and Payload fields) in bytes, encoded as a variable-}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      length integer {\field{\*\fldinst{HYPERLINK "#100"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#100"}}{\fldrslt {Section 16}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#100"}}{\fldrslt {).}}}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Packet Number:  The packet number field is 1 to 4 bytes long.  The}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      packet number has confidentiality protection separate from packet}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      protection, as described in Section 5.4 of {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {]. }}} The length}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      of the packet number field is encoded in the Packet Number Length}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      bits of byte 0; see above.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#105"}}{\fldrslt {17.2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#105"}}{\fldrslt {. }}} Version Negotiation Packet}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A Version Negotiation packet is inherently not version-specific.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Upon receipt by a client, it will be identified as a Version}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Negotiation packet based on the Version field having a value of 0.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The Version Negotiation packet is a response to a client packet that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   contains a version that is not supported by the server, and is only}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   sent by servers.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The layout of a Version Negotiation packet is:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 105]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2238\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2239\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#106"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   Version Negotiation Packet \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Header Form (1) = 1,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Unused (7),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Version (32) = 0,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Destination Connection ID Length (8),}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     Destination Connection ID (0..2040),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Source Connection ID Length (8),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Source Connection ID (0..2040),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Supported Version (32) ...,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {                   Figure 13: Version Negotiation Packet}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The value in the Unused field is selected randomly by the server.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Clients MUST ignore the value of this field.  Servers SHOULD set the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   most significant bit of this field (0x40) to 1 so that Version}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   Negotiation packets appear to have the Fixed Bit field.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The Version field of a Version Negotiation packet MUST be set to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   0x00000000.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   The server MUST include the value from the Source Connection ID field}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   of the packet it receives in the Destination Connection ID field.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   The value for Source Connection ID MUST be copied from the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Destination Connection ID of the received packet, which is initially}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   randomly selected by a client.  Echoing both connection IDs gives}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   clients some assurance that the server received the packet and that}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   the Version Negotiation packet was not generated by an off-path}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   attacker.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   As future versions of QUIC may support Connection IDs larger than the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   version 1 limit, Version Negotiation packets could carry Connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   IDs that are longer than 20 bytes.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The remainder of the Version Negotiation packet is a list of 32-bit}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   versions which the server supports.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A Version Negotiation packet cannot be explicitly acknowledged in an}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   ACK frame by a client.  Receiving another Initial packet implicitly}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   acknowledges a Version Negotiation packet.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   The Version Negotiation packet does not include the Packet Number and}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   Length fields present in other packets that use the long header form.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Consequently, a Version Negotiation packet consumes an entire UDP}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   datagram.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A server MUST NOT send more than one Version Negotiation packet in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   response to a single UDP datagram.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 106]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2240\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2241\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#107"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \*\tx1586\fs20\cf0\f1\charscalex100 {   See}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt {Section 6}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt { for }}}a description of the version negotiation process.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#107"}}{\fldrslt {17.2.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#107"}}{\fldrslt {. }}} Initial Packet}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An Initial packet uses long headers with a type value of 0x0.  It}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   carries the first CRYPTO frames sent by the client and server to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   perform key exchange, and carries ACKs in either direction.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Initial Packet \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Header Form (1) = 1,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Fixed Bit (1) = 1,}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     Long Packet Type (2) = 0,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Reserved Bits (2),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Packet Number Length (2),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Version (32),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Destination Connection ID Length (8),}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     Destination Connection ID (0..160),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Source Connection ID Length (8),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Source Connection ID (0..160),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Token Length (i),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Token (..),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Length (i),}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     Packet Number (8..32),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Packet Payload (..),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {                         Figure 14: Initial Packet}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The Initial packet contains a long header as well as the Length and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Packet Number fields.  The first byte contains the Reserved and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Packet Number Length bits.  Between the Source Connection ID and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Length fields, there are two additional fields specific to the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Initial packet.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   Token Length:  A variable-length integer specifying the length of the}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      Token field, in bytes.  This value is zero if no token is present.}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      Initial packets sent by the server MUST set the Token Length field}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      to zero; clients that receive an Initial packet with a non-zero}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      Token Length field MUST either discard the packet or generate a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      connection error of type PROTOCOL_VIOLATION.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Token:  The value of the token that was previously provided in a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      Retry packet or NEW_TOKEN frame.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Packet Payload:  The payload of the packet.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-173\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 107]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2242\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2243\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#108"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs18\cf0\f1\charscalex100 {   In order to prevent tampering by version-unaware middleboxes, Initial}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets are protected with connection- and version-specific keys}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   (Initial keys) as described in {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {]. }}} This protection does not}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   provide confidentiality or integrity against on-path attackers, but}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   provides some level of protection against off-path attackers.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The client and server use the Initial packet type for any packet that}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   contains an initial cryptographic handshake message.  This includes}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   all cases where a new packet containing the initial cryptographic}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   message needs to be created, such as the packets sent after receiving}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   a Retry packet {\field{\*\fldinst{HYPERLINK "#111"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#111"}}{\fldrslt {Section 17.2.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#111"}}{\fldrslt {).}}}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A server sends its first Initial packet in response to a client}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Initial.  A server may send multiple Initial packets.  The}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   cryptographic key exchange could require multiple round trips or}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   retransmissions of this data.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The payload of an Initial packet includes a CRYPTO frame (or frames)}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   containing a cryptographic handshake message, ACK frames, or both.}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   PING, PADDING, and CONNECTION_CLOSE frames of type 0x1c are also}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   permitted.  An endpoint that receives an Initial packet containing}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   other frames can either discard the packet as spurious or treat it as}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   a connection error.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The first packet sent by a client always includes a CRYPTO frame that}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   contains the start or all of the first cryptographic handshake}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   message.  The first CRYPTO frame sent always begins at an offset of}\par\pard\li746\ri0\sl-226\slmult0 \*\tx1946\fs20\cf0\f1\charscalex100 {   0; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#38"}}{\fldrslt {Section 7}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#38"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Note that if the server sends a HelloRetryRequest, the client will}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   send another series of Initial packets.  These Initial packets will}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   continue the cryptographic handshake and will contain CRYPTO frames}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   starting at an offset matching the size of the CRYPTO frames sent in}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   the first flight of Initial packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#108"}}{\fldrslt {17.2.2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#108"}}{\fldrslt {. }}} Abandoning Initial Packets}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A client stops both sending and processing Initial packets when it}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   sends its first Handshake packet.  A server stops sending and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   processing Initial packets when it receives its first Handshake}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet.  Though packets might still be in flight or awaiting}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   acknowledgment, no further Initial packets need to be exchanged}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   beyond this point.  Initial packet protection keys are discarded (see}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Section 4.11.1 of {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {]) }}}along with any loss recovery and}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   congestion control state; see Section 6.4 of {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-RECOVERY}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {].}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Any data in CRYPTO frames is discarded - and no longer retransmitted}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   - when Initial keys are discarded.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 108]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2244\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2245\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#109"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#109"}}{\fldrslt {17.2.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#109"}}{\fldrslt {. }}} 0-RTT}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A 0-RTT packet uses long headers with a type value of 0x1, followed}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   by the Length and Packet Number fields.  The first byte contains the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Reserved and Packet Number Length bits.  It is used to carry "early"}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   data from the client to the server as part of the first flight, prior}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to handshake completion.  As part of the TLS handshake, the server}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   can accept or reject this early data.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   See Section 2.3 of {\field{\*\fldinst{HYPERLINK "#162"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#162"}}{\fldrslt {TLS13}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#162"}}{\fldrslt {] }}}for a discussion of 0-RTT data and its}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   limitations.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   0-RTT Packet \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Header Form (1) = 1,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Fixed Bit (1) = 1,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Long Packet Type (2) = 1,}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     Reserved Bits (2),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Packet Number Length (2),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Version (32),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Destination Connection ID Length (8),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Destination Connection ID (0..160),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Source Connection ID Length (8),}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     Source Connection ID (0..160),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Length (i),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Packet Number (8..32),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Packet Payload (..),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {                          Figure 15: 0-RTT Packet}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Packet numbers for 0-RTT protected packets use the same space as}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   1-RTT protected packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   After a client receives a Retry packet, 0-RTT packets are likely to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   have been lost or discarded by the server.  A client SHOULD attempt}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to resend data in 0-RTT packets after it sends a new Initial packet.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A client MUST NOT reset the packet number it uses for 0-RTT packets,}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   since the keys used to protect 0-RTT packets will not change as a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   result of responding to a Retry packet.  Sending packets with the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   same packet number in that case is likely to compromise the packet}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   protection for all 0-RTT packets because the same key and nonce could}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   be used to protect different content.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   A client only receives acknowledgments for its 0-RTT packets once the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   handshake is complete.  Consequently, a server might expect 0-RTT}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets to start with a packet number of 0.  Therefore, in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   determining the length of the packet number encoding for 0-RTT}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 109]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2246\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2247\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#110"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   packets, a client MUST assume that all packets up to the current}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet number are in flight, starting from a packet number of 0.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Thus, 0-RTT packets could need to use a longer packet number}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   encoding.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A client MUST NOT send 0-RTT packets once it starts processing 1-RTT}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets from the server.  This means that 0-RTT packets cannot}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   contain any response to frames from 1-RTT packets.  For instance, a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   client cannot send an ACK frame in a 0-RTT packet, because that can}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   only acknowledge a 1-RTT packet.  An acknowledgment for a 1-RTT}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet MUST be carried in a 1-RTT packet.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A server SHOULD treat a violation of remembered limits as a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection error of an appropriate type (for instance, a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   FLOW_CONTROL_ERROR for exceeding stream data limits).}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#110"}}{\fldrslt {17.2.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#110"}}{\fldrslt {. }}} Handshake Packet}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A Handshake packet uses long headers with a type value of 0x2,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   followed by the Length and Packet Number fields.  The first byte}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   contains the Reserved and Packet Number Length bits.  It is used to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   carry acknowledgments and cryptographic handshake messages from the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   server and client.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Handshake Packet \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Header Form (1) = 1,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Fixed Bit (1) = 1,}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     Long Packet Type (2) = 2,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Reserved Bits (2),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Packet Number Length (2),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Version (32),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Destination Connection ID Length (8),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Destination Connection ID (0..160),}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     Source Connection ID Length (8),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Source Connection ID (0..160),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Length (i),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Packet Number (8..32),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Packet Payload (..),}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {                   Figure 16: Handshake Protected Packet}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Once a client has received a Handshake packet from a server, it uses}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   Handshake packets to send subsequent cryptographic handshake messages}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   and acknowledgments to the server.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-173\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 110]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2248\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2249\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#111"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   The Destination Connection ID field in a Handshake packet contains a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection ID that is chosen by the recipient of the packet; the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Source Connection ID includes the connection ID that the sender of}\par\pard\li760\ri0\sl-240\slmult0 \*\tx4680\fs20\cf0\f1\charscalex100 {   the packet wishes to use; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#40"}}{\fldrslt {Section 7.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#40"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Handshake packets are their own packet number space, and thus the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   first Handshake packet sent by a server contains a packet number of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   0.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The payload of this packet contains CRYPTO frames and could contain}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   PING, PADDING, or ACK frames.  Handshake packets MAY contain}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   CONNECTION_CLOSE frames of type 0x1c.  Endpoints MUST treat receipt}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   of Handshake packets with other frames as a connection error.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx4200\fs20\cf0\f1\charscalex100 {   Like Initial packets (see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#108"}}{\fldrslt {Section 17.2.2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#108"}}{\fldrslt {), }}}data in CRYPTO frames}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   for Handshake packets is discarded - and no longer retransmitted -}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   when Handshake protection keys are discarded.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#111"}}{\fldrslt {17.2.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#111"}}{\fldrslt {. }}} Retry Packet}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A Retry packet uses a long packet header with a type value of 0x3.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   It carries an address validation token created by the server.  It is}\par\pard\li760\ri0\sl-226\slmult0 \*\tx7400\fs20\cf0\f1\charscalex100 {   used by a server that wishes to perform a retry; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#47"}}{\fldrslt {Section 8.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#47"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Retry Packet \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Header Form (1) = 1,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Fixed Bit (1) = 1,}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     Long Packet Type (2) = 3,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Unused (4),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Version (32),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Destination Connection ID Length (8),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Destination Connection ID (0..160),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Source Connection ID Length (8),}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     Source Connection ID (0..160),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Retry Token (..),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Retry Integrity Tag (128),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {                          Figure 17: Retry Packet}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A Retry packet (shown in Figure 17) does not contain any protected}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   fields.  The value in the Unused field is selected randomly by the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   server.  In addition to the fields from the long header, it contains}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   these additional fields:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   Retry Token:  An opaque token that the server can use to validate the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      client\uc1\u8217Xs address.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 111]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2250\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2251\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#112"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   Retry Integrity Tag:  See the Retry Packet Integrity section of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {].}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#112"}}{\fldrslt {17.2.5.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#112"}}{\fldrslt {. }}} Sending a Retry Packet}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The server populates the Destination Connection ID with the}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   connection ID that the client included in the Source Connection ID of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the Initial packet.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The server includes a connection ID of its choice in the Source}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   Connection ID field.  This value MUST NOT be equal to the Destination}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   Connection ID field of the packet sent by the client.  A client MUST}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   discard a Retry packet that contains a Source Connection ID field}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that is identical to the Destination Connection ID field of its}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Initial packet.  The client MUST use the value from the Source}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   Connection ID field of the Retry packet in the Destination Connection}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   ID field of subsequent packets that it sends.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A server MAY send Retry packets in response to Initial and 0-RTT}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   packets.  A server can either discard or buffer 0-RTT packets that it}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   receives.  A server can send multiple Retry packets as it receives}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   Initial or 0-RTT packets.  A server MUST NOT send more than one Retry}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   packet in response to a single UDP datagram.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#112"}}{\fldrslt {17.2.5.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#112"}}{\fldrslt {. }}} Handling a Retry Packet}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A client MUST accept and process at most one Retry packet for each}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   connection attempt.  After the client has received and processed an}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Initial or Retry packet from the server, it MUST discard any}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   subsequent Retry packets that it receives.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Clients MUST discard Retry packets that have a Retry Integrity Tag}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that cannot be validated, see the Retry Packet Integrity section of}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt { [}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {]. }}} This diminishes an off-path attacker\uc1\u8217Xs ability to inject}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   a Retry packet and protects against accidental corruption of Retry}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets.  A client MUST discard a Retry packet with a zero-length}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Retry Token field.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The client responds to a Retry packet with an Initial packet that}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   includes the provided Retry Token to continue connection}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   establishment.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 112]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2252\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2253\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#113"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   A client sets the Destination Connection ID field of this Initial}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet to the value from the Source Connection ID in the Retry}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet.  Changing Destination Connection ID also results in a change}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to the keys used to protect the Initial packet.  It also sets the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Token field to the token provided in the Retry.  The client MUST NOT}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   change the Source Connection ID because the server could include the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection ID as part of its token validation logic; see}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#51"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#51"}}{\fldrslt {Section 8.1.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#51"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A Retry packet does not include a packet number and cannot be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   explicitly acknowledged by a client.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#113"}}{\fldrslt {17.2.5.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#113"}}{\fldrslt {. }}} Continuing a Handshake After Retry}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The next Initial packet from the client uses the connection ID and}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5866\fs20\cf0\f1\charscalex100 {   token values from the Retry packet; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#40"}}{\fldrslt {Section 7.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#40"}}{\fldrslt {. }}} Aside from}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   this, the Initial packet sent by the client is subject to the same}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   restrictions as the first Initial packet.  A client MUST use the same}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   cryptographic handshake message it includes in this packet.  A server}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   MAY treat a packet that contains a different cryptographic handshake}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   message as a connection error or discard it.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A client MAY attempt 0-RTT after receiving a Retry packet by sending}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   0-RTT packets to the connection ID provided by the server.  A client}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   MUST NOT change the cryptographic handshake message it sends in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   response to receiving a Retry.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   A client MUST NOT reset the packet number for any packet number space}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5026\fs20\cf0\f1\charscalex100 {   after processing a Retry packet;}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#109"}}{\fldrslt {Section 17.2.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#109"}}{\fldrslt { contains }}}more}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   information on this.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A server acknowledges the use of a Retry packet for a connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   using the retry_source_connection_id transport parameter; see}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {Section 18.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {. }}} If the server sends a Retry packet, it also}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   subsequently includes the value of the Source Connection ID field}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   from the Retry packet in its retry_source_connection_id transport}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   parameter.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   If the client received and processed a Retry packet, it MUST validate}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that the retry_source_connection_id transport parameter is present}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   and correct; otherwise, it MUST validate that the transport parameter}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   is absent.  A client MUST treat a failed validation as a connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   error of type PROTOCOL_VIOLATION.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#113"}}{\fldrslt {17.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#113"}}{\fldrslt {. }}} Short Header Packets}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   This version of QUIC defines a single packet type which uses the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   short packet header.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 113]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2254\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2255\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#114"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   Short Header Packet \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Header Form (1) = 0,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Fixed Bit (1) = 1,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Spin Bit (1),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Reserved Bits (2),}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     Key Phase (1),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Packet Number Length (2),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Destination Connection ID (0..160),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Packet Number (8..32),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Packet Payload (..),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {                   Figure 18: Short Header Packet Format}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The short header can be used after the version and 1-RTT keys are}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   negotiated.  Packets that use the short header contain the following}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   fields:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Header Form:  The most significant bit (0x80) of byte 0 is set to 0}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      for the short header.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Fixed Bit:  The next bit (0x40) of byte 0 is set to 1.  Packets}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {      containing a zero value for this bit are not valid packets in this}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      version and MUST be discarded.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Spin Bit:  The third most significant bit (0x20) of byte 0 is the}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5986\fs20\cf0\f1\charscalex100 {      latency spin bit, set as described in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#115"}}{\fldrslt {Section 17.3.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#115"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   Reserved Bits:  The next two bits (those with a mask of 0x18) of byte}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      0 are reserved.  These bits are protected using header protection;}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      see Section 5.4 of {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {]. }}} The value included prior to}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      protection MUST be set to 0.  An endpoint MUST treat receipt of a}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      packet that has a non-zero value for these bits, after removing}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      both packet and header protection, as a connection error of type}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      PROTOCOL_VIOLATION.  Discarding such a packet after only removing}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      header protection can expose the endpoint to attacks; see}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      Section 9.3 of {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {].}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Key Phase:  The next bit (0x04) of byte 0 indicates the key phase,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      which allows a recipient of a packet to identify the packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      protection keys that are used to protect the packet.  See}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {] }}}for details.  This bit is protected using header}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      protection; see Section 5.4 of {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {].}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Packet Number Length:  The least significant two bits (those with a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      mask of 0x03) of byte 0 contain the length of the packet number,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      encoded as an unsigned, two-bit integer that is one less than the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      length of the packet number field in bytes.  That is, the length}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 114]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2256\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2257\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#115"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {      of the packet number field is the value of this field, plus one.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      These bits are protected using header protection; see Section 5.4}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      of {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {].}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Destination Connection ID:  The Destination Connection ID is a}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      connection ID that is chosen by the intended recipient of the}\par\pard\li760\ri0\sl-240\slmult0 \*\tx3013\fs20\cf0\f1\charscalex100 {      packet.  See}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#28"}}{\fldrslt {Section 5.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#28"}}{\fldrslt { for }}}more details.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Packet Number:  The packet number field is 1 to 4 bytes long.  The}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      packet number has confidentiality protection separate from packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      protection, as described in Section 5.4 of {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {]. }}} The length}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      of the packet number field is encoded in Packet Number Length}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2893\fs20\cf0\f1\charscalex100 {      field.  See}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#101"}}{\fldrslt {Section 17.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#101"}}{\fldrslt { for }}}details.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Packet Payload:  Packets with a short header always include a 1-RTT}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      protected payload.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The header form bit and the connection ID field of a short header}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   packet are version-independent.  The remaining fields are specific to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the selected QUIC version.  See {\field{\*\fldinst{HYPERLINK "#163"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#163"}}{\fldrslt {QUIC-INVARIANTS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#163"}}{\fldrslt {] }}}for details on how}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets from different versions of QUIC are interpreted.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#115"}}{\fldrslt {17.3.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#115"}}{\fldrslt {. }}} Latency Spin Bit}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The latency spin bit enables passive latency monitoring from}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   observation points on the network path throughout the duration of a}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   connection.  The spin bit is only present in the short packet header,}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   since it is possible to measure the initial RTT of a connection by}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   observing the handshake.  Therefore, the spin bit is available after}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   version negotiation and connection establishment are completed.  On-}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   path measurement and use of the latency spin bit is further discussed}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   in {\field{\*\fldinst{HYPERLINK "#163"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#163"}}{\fldrslt {QUIC-MANAGEABILITY}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#163"}}{\fldrslt {].}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The spin bit is an OPTIONAL feature of QUIC.  A QUIC stack that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   chooses to support the spin bit MUST implement it as specified in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   this section.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Each endpoint unilaterally decides if the spin bit is enabled or}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   disabled for a connection.  Implementations MUST allow administrators}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   of clients and servers to disable the spin bit either globally or on}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   a per-connection basis.  Even when the spin bit is not disabled by}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the administrator, endpoints MUST disable their use of the spin bit}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   for a random selection of at least one in every 16 network paths, or}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   for one in every 16 connection IDs.  As each endpoint disables the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   spin bit independently, this ensures that the spin bit signal is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   disabled on approximately one in eight network paths.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-360\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 115]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2258\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2259\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#116"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   When the spin bit is disabled, endpoints MAY set the spin bit to any}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   value, and MUST ignore any incoming value.  It is RECOMMENDED that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   endpoints set the spin bit to a random value either chosen}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   independently for each packet or chosen independently for each}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection ID.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   If the spin bit is enabled for the connection, the endpoint maintains}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   a spin value and sets the spin bit in the short header to the}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   currently stored value when a packet with a short header is sent out.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   The spin value is initialized to 0 in the endpoint at connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   start.  Each endpoint also remembers the highest packet number seen}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   from its peer on the connection.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   When a server receives a short header packet that increments the}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   highest packet number seen by the server from the client, it sets the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   spin value to be equal to the spin bit in the received packet.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   When a client receives a short header packet that increments the}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   highest packet number seen by the client from the server, it sets the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   spin value to the inverse of the spin bit in the received packet.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint resets its spin value to zero when sending the first}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   packet of a given connection with a new connection ID.  This reduces}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the risk that transient spin bit state can be used to link flows}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   across connection migration or ID change.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   With this mechanism, the server reflects the spin value received,}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   while the client \uc1\u8217Xspins\uc1\u8217X it after one RTT.  On-path observers can}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   measure the time between two spin bit toggle events to estimate the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   end-to-end RTT of a connection.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#116"}}{\fldrslt {18}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#116"}}{\fldrslt {. }}} Transport Parameter Encoding}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The extension_data field of the quic_transport_parameters extension}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   defined in {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {] }}}contains the QUIC transport parameters.  They}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   are encoded as a sequence of transport parameters, as shown in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Figure 19:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Transport Parameters \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Transport Parameter (..) ...,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {                Figure 19: Sequence of Transport Parameters}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   Each transport parameter is encoded as an (identifier, length, value)}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   tuple, as shown in Figure 20:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-360\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 116]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2260\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2261\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   Transport Parameter \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Transport Parameter ID (i),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Transport Parameter Length (i),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Transport Parameter Value (..),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {                  Figure 20: Transport Parameter Encoding}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The Transport Parameter Length field contains the length of the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Transport Parameter Value field.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   QUIC encodes transport parameters into a sequence of bytes, which are}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   then included in the cryptographic handshake.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {18.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {. }}} Reserved Transport Parameters}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   Transport parameters with an identifier of the form "31 * N + 27" for}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   integer values of N are reserved to exercise the requirement that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   unknown transport parameters be ignored.  These transport parameters}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   have no semantics, and may carry arbitrary values.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {18.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {. }}} Transport Parameter Definitions}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   This section details the transport parameters defined in this}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   document.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Many transport parameters listed here have integer values.  Those}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   transport parameters that are identified as integers use a variable-}\par\pard\li760\ri0\sl-240\slmult0 \*\tx4560\fs20\cf0\f1\charscalex100 {   length integer encoding; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#100"}}{\fldrslt {Section 16}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#100"}}{\fldrslt {. }}} Transport parameters have a}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   default value of 0 if the transport parameter is absent unless}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   otherwise stated.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The following transport parameters are defined:}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   original_destination_connection_id (0x00):  The value of the}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      Destination Connection ID field from the first Initial packet sent}\par\pard\li746\ri0\sl-240\slmult0 \*\tx3720\fs20\cf0\f1\charscalex100 {      by the client; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#41"}}{\fldrslt {Section 7.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#41"}}{\fldrslt {. }}} This transport parameter is only}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      sent by a server.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   max_idle_timeout (0x01):  The max idle timeout is a value in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      milliseconds that is encoded as an integer; see {\field{\*\fldinst{HYPERLINK "#66"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#66"}}{\fldrslt {Section 10.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#66"}}{\fldrslt {).}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      Idle timeout is disabled when both endpoints omit this transport}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      parameter or specify a value of 0.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   stateless_reset_token (0x02):  A stateless reset token is used in}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5386\fs20\cf0\f1\charscalex100 {      verifying a stateless reset; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {Section 10.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {. }}} This parameter is}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      a sequence of 16 bytes.  This transport parameter MUST NOT be sent}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      by a client, but MAY be sent by a server.  A server that does not}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 117]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2262\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2263\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#118"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {      send this transport parameter cannot use stateless reset}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {Section 10.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {) }}}for the connection ID negotiated during the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      handshake.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   max_udp_payload_size (0x03):  The maximum UDP payload size parameter}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      is an integer value that limits the size of UDP payloads that the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      endpoint is willing to receive.  UDP packets with payloads larger}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      than this limit are not likely to be processed by the receiver.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      The default for this parameter is the maximum permitted UDP}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      payload of 65527.  Values below 1200 are invalid.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {      This limit does act as an additional constraint on datagram size}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      in the same way as the path MTU, but it is a property of the}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5146\fs20\cf0\f1\charscalex100 {      endpoint and not the path; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#95"}}{\fldrslt {Section 14}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#95"}}{\fldrslt {. }}} It is expected that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      this is the space an endpoint dedicates to holding incoming}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   initial_max_data (0x04):  The initial maximum data parameter is an}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      integer value that contains the initial value for the maximum}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      amount of data that can be sent on the connection.  This is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      equivalent to sending a MAX_DATA {\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt {Section 19.9}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt {) }}}for the connection}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      immediately after completing the handshake.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   initial_max_stream_data_bidi_local (0x05):  This parameter is an}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      integer value specifying the initial flow control limit for}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      locally-initiated bidirectional streams.  This limit applies to}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      newly created bidirectional streams opened by the endpoint that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      sends the transport parameter.  In client transport parameters,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      this applies to streams with an identifier with the least}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      significant two bits set to 0x0; in server transport parameters,}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      this applies to streams with the least significant two bits set to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      0x1.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   initial_max_stream_data_bidi_remote (0x06):  This parameter is an}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      integer value specifying the initial flow control limit for peer-}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      initiated bidirectional streams.  This limit applies to newly}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      created bidirectional streams opened by the endpoint that receives}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      the transport parameter.  In client transport parameters, this}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      applies to streams with an identifier with the least significant}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      two bits set to 0x1; in server transport parameters, this applies}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      to streams with the least significant two bits set to 0x0.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   initial_max_stream_data_uni (0x07):  This parameter is an integer}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {      value specifying the initial flow control limit for unidirectional}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      streams.  This limit applies to newly created unidirectional}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      streams opened by the endpoint that receives the transport}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      parameter.  In client transport parameters, this applies to}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 118]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2264\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2265\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#119"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs18\cf0\f1\charscalex100 {      streams with an identifier with the least significant two bits set}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      to 0x3; in server transport parameters, this applies to streams}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      with the least significant two bits set to 0x2.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   initial_max_streams_bidi (0x08):  The initial maximum bidirectional}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      streams parameter is an integer value that contains the initial}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      maximum number of bidirectional streams the peer may initiate.  If}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      this parameter is absent or zero, the peer cannot open}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      bidirectional streams until a MAX_STREAMS frame is sent.  Setting}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      this parameter is equivalent to sending a MAX_STREAMS}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#132"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#132"}}{\fldrslt {Section 19.11}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#132"}}{\fldrslt {) }}}of the corresponding type with the same value.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   initial_max_streams_uni (0x09):  The initial maximum unidirectional}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      streams parameter is an integer value that contains the initial}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      maximum number of unidirectional streams the peer may initiate.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      If this parameter is absent or zero, the peer cannot open}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {      unidirectional streams until a MAX_STREAMS frame is sent.  Setting}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      this parameter is equivalent to sending a MAX_STREAMS}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      {\field{\*\fldinst{HYPERLINK "#132"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#132"}}{\fldrslt {Section 19.11}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#132"}}{\fldrslt {) }}}of the corresponding type with the same value.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   ack_delay_exponent (0x0a):  The ACK delay exponent is an integer}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      value indicating an exponent used to decode the ACK Delay field in}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      the ACK frame {\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt {Section 19.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt {). }}} If this value is absent, a default}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      value of 3 is assumed (indicating a multiplier of 8).  Values}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      above 20 are invalid.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   max_ack_delay (0x0b):  The maximum ACK delay is an integer value}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      indicating the maximum amount of time in milliseconds by which the}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      endpoint will delay sending acknowledgments.  This value SHOULD}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      include the receiver\uc1\u8217Xs expected delays in alarms firing.  For}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      example, if a receiver sets a timer for 5ms and alarms commonly}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      fire up to 1ms late, then it should send a max_ack_delay of 6ms.}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      If this value is absent, a default of 25 milliseconds is assumed.}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      Values of 2^14 or greater are invalid.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   disable_active_migration (0x0c):  The disable active migration}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      transport parameter is included if the endpoint does not support}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      active connection migration {\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {Section 9}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {) }}}on the address being used}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      during the handshake.  When a peer sets this transport parameter,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      an endpoint MUST NOT use a new local address when sending to the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      address that the peer used during the handshake.  This transport}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      parameter does not prohibit connection migration after a client}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      has acted on a preferred_address transport parameter.  This}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      parameter is a zero-length value.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   preferred_address (0x0d):  The server\uc1\u8217Xs preferred address is used to}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-360\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 119]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2266\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2267\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#120"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {      effect a change in server address at the end of the handshake, as}\par\pard\li760\ri0\sl-240\slmult0 \*\tx3013\fs20\cf0\f1\charscalex100 {      described in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#62"}}{\fldrslt {Section 9.6}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#62"}}{\fldrslt {. }}} The format of this transport parameter}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      is shown in Figure 21.  This transport parameter is only sent by a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      server.  Servers MAY choose to only send a preferred address of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      one address family by sending an all-zero address and port}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      (0.0.0.0:0 or ::.0) for the other family.  IP addresses are}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      encoded in network byte order.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      The Connection ID field and the Stateless Reset Token field}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      contain an alternative connection ID that has a sequence number of}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2293\fs20\cf0\f1\charscalex100 {      1; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#29"}}{\fldrslt {Section 5.1.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#29"}}{\fldrslt {. }}} Having these values bundled with the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      preferred address ensures that there will be at least one unused}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      active connection ID when the client initiates migration to the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      preferred address.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      The Connection ID and Stateless Reset Token fields of a preferred}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {      address are identical in syntax and semantics to the corresponding}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      fields of a NEW_CONNECTION_ID frame {\field{\*\fldinst{HYPERLINK "#135"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#135"}}{\fldrslt {Section 19.15}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#135"}}{\fldrslt {). }}} A server}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      that chooses a zero-length connection ID MUST NOT provide a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      preferred address.  Similarly, a server MUST NOT include a zero-}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      length connection ID in this transport parameter.  A client MUST}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      treat violation of these requirements as a connection error of}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      type TRANSPORT_PARAMETER_ERROR.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Preferred Address \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     IPv4 Address (32),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     IPv4 Port (16),}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     IPv6 Address (128),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     IPv6 Port (16),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     CID Length (8),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Connection ID (..),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Stateless Reset Token (128),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {                    Figure 21: Preferred Address format}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   active_connection_id_limit (0x0e):  The active connection ID limit is}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-360\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 120]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2268\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2269\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#121"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {      an integer value specifying the maximum number of connection IDs}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      from the peer that an endpoint is willing to store.  This value}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      includes the connection ID received during the handshake, that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      received in the preferred_address transport parameter, and those}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      received in NEW_CONNECTION_ID frames.  The value of the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      active_connection_id_limit parameter MUST be at least 2.  An}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      endpoint that receives a value less than 2 MUST close the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      connection with an error of type TRANSPORT_PARAMETER_ERROR.  If}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      this transport parameter is absent, a default of 2 is assumed.  If}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      an endpoint issues a zero-length connection ID, it will never send}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      a NEW_CONNECTION_ID frame and therefore ignores the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      active_connection_id_limit value received from its peer.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   initial_source_connection_id (0x0f):  The value that the endpoint}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      included in the Source Connection ID field of the first Initial}\par\pard\li760\ri0\sl-240\slmult0 \*\tx6213\fs20\cf0\f1\charscalex100 {      packet it sends for the connection; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#41"}}{\fldrslt {Section 7.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#41"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   retry_source_connection_id (0x10):  The value that the server}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      included in the Source Connection ID field of a Retry packet; see}\par\pard\li1466\ri0\sl-240\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#41"}}{\fldrslt {Section 7.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#41"}}{\fldrslt {. }}} This transport parameter is only sent by a server.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   If present, transport parameters that set initial flow control limits}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   (initial_max_stream_data_bidi_local,}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   initial_max_stream_data_bidi_remote, and initial_max_stream_data_uni)}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   are equivalent to sending a MAX_STREAM_DATA frame {\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt {Section 19.10}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt {) }}}on}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   every stream of the corresponding type immediately after opening.  If}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the transport parameter is absent, streams of that type start with a}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   flow control limit of 0.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A client MUST NOT include any server-only transport parameter:}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   original_destination_connection_id, preferred_address,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   retry_source_connection_id, or stateless_reset_token.  A server MUST}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   treat receipt of any of these transport parameters as a connection}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   error of type TRANSPORT_PARAMETER_ERROR.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#121"}}{\fldrslt {19}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#121"}}{\fldrslt {. }}} Frame Types and Formats}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx3013\fs20\cf0\f1\charscalex100 {   As described in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#80"}}{\fldrslt {Section 12.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#80"}}{\fldrslt {, }}}packets contain one or more frames.}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   This section describes the format and semantics of the core QUIC}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   frame types.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#121"}}{\fldrslt {19.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#121"}}{\fldrslt {. }}} PADDING Frame}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The PADDING frame (type=0x00) has no semantic value.  PADDING frames}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   can be used to increase the size of a packet.  Padding can be used to}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   increase an initial client packet to the minimum required size, or to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   provide protection against traffic analysis for protected packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 121]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2270\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2271\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   As shown in Figure 22, a PADDING frame has no content.  That is, a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   PADDING frame consists of the single byte that identifies the frame}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   as a PADDING frame.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   PADDING Frame \{}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     Type (i) = 0x00,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {                      Figure 22: PADDING Frame Format}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt {19.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt {. }}} PING Frame}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Endpoints can use PING frames (type=0x01) to verify that their peers}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   are still alive or to check reachability to the peer.  As shown in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Figure 23 a PING frame contains no content.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   PING Frame \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Type (i) = 0x01,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {                        Figure 23: PING Frame Format}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The receiver of a PING frame simply needs to acknowledge the packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   containing this frame.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The PING frame can be used to keep a connection alive when an}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   application or application protocol wishes to prevent the connection}\par\pard\li760\ri0\sl-226\slmult0 \*\tx3600\fs20\cf0\f1\charscalex100 {   from timing out; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt {Section 10.2.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt {19.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#122"}}{\fldrslt {. }}} ACK Frames}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Receivers send ACK frames (types 0x02 and 0x03) to inform senders of}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   packets they have received and processed.  The ACK frame contains one}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   or more ACK Ranges.  ACK Ranges identify acknowledged packets.  If}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the frame type is 0x03, ACK frames also contain the sum of QUIC}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   packets with associated ECN marks received on the connection up until}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   this point.  QUIC implementations MUST properly handle both types}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   and, if they have enabled ECN for packets they send, they SHOULD use}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   the information in the ECN section to manage their congestion state.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC acknowledgements are irrevocable.  Once acknowledged, a packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   remains acknowledged, even if it does not appear in a future ACK}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   frame.  This is unlike TCP SACKs {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc2018"}}{\fldrslt {([}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc2018"}}{\fldrslt {RFC2018}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc2018"}}{\fldrslt {]).}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 122]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2272\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2273\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#123"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   Packets from different packet number spaces can be identified using}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the same numeric value.  An acknowledgment for a packet needs to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   indicate both a packet number and a packet number space.  This is}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   accomplished by having each ACK frame only acknowledge packet numbers}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   in the same space as the packet in which the ACK frame is contained.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Version Negotiation and Retry packets cannot be acknowledged because}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   they do not contain a packet number.  Rather than relying on ACK}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   frames, these packets are implicitly acknowledged by the next Initial}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet sent by the client.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   An ACK frame is shown in Figure 24.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   ACK Frame \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Type (i) = 0x02..0x03,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Largest Acknowledged (i),}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     ACK Delay (i),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     ACK Range Count (i),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     First ACK Range (i),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     ACK Range (..) ...,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     [ECN Counts (..)],}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {                        Figure 24: ACK Frame Format}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   ACK frames contain the following fields:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Largest Acknowledged:  A variable-length integer representing the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      largest packet number the peer is acknowledging; this is usually}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      the largest packet number that the peer has received prior to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      generating the ACK frame.  Unlike the packet number in the QUIC}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      long or short header, the value in an ACK frame is not truncated.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   ACK Delay:  A variable-length integer representing the time delta in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      microseconds between when this ACK was sent and when the largest}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      acknowledged packet, as indicated in the Largest Acknowledged}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      field, was received by this peer.  The value of the ACK Delay}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      field is scaled by multiplying the encoded value by 2 to the power}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      of the value of the ack_delay_exponent transport parameter set by}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5386\fs20\cf0\f1\charscalex100 {      the sender of the ACK frame; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {Section 18.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {. }}} Scaling in this}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      fashion allows for a larger range of values with a shorter}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      encoding at the cost of lower resolution.  Because the receiver}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      doesn\uc1\u8217Xt use the ACK Delay for Initial and Handshake packets, a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      sender SHOULD send a value of 0.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   ACK Range Count:  A variable-length integer specifying the number of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      Gap and ACK Range fields in the frame.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 123]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2274\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2275\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#124"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   First ACK Range:  A variable-length integer indicating the number of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      contiguous packets preceding the Largest Acknowledged that are}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      being acknowledged.  The First ACK Range is encoded as an ACK}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2773\fs20\cf0\f1\charscalex100 {      Range; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#124"}}{\fldrslt {Section 19.3.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#124"}}{\fldrslt { starting }}}from the Largest Acknowledged.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      That is, the smallest packet acknowledged in the range is}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      determined by subtracting the First ACK Range value from the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      Largest Acknowledged.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   ACK Ranges:  Contains additional ranges of packets which are}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      alternately not acknowledged (Gap) and acknowledged (ACK Range);}\par\pard\li760\ri0\sl-240\slmult0 \*\tx1946\fs20\cf0\f1\charscalex100 {      see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#124"}}{\fldrslt {Section 19.3.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#124"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \*\tx5746\fs20\cf0\f1\charscalex100 {   ECN Counts:  The three ECN Counts; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#125"}}{\fldrslt {Section 19.3.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#125"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#124"}}{\fldrslt {19.3.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#124"}}{\fldrslt {. }}} ACK Ranges}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Each ACK Range consists of alternating Gap and ACK Range values in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   descending packet number order.  ACK Ranges can be repeated.  The}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   number of Gap and ACK Range values is determined by the ACK Range}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Count field; one of each value is present for each value in the ACK}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Range Count field.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   ACK Ranges are structured as shown in Figure 25.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   ACK Range \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Gap (i),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     ACK Range Length (i),}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {                           Figure 25: ACK Ranges}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The fields that form each ACK Range are:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Gap:  A variable-length integer indicating the number of contiguous}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      unacknowledged packets preceding the packet number one lower than}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      the smallest in the preceding ACK Range.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   ACK Range Length:  A variable-length integer indicating the number of}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      contiguous acknowledged packets preceding the largest packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      number, as determined by the preceding Gap.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Gap and ACK Range value use a relative integer encoding for}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   efficiency.  Though each encoded value is positive, the values are}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   subtracted, so that each ACK Range describes progressively lower-}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   numbered packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-173\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 124]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2276\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2277\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#125"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   Each ACK Range acknowledges a contiguous range of packets by}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   indicating the number of acknowledged packets that precede the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   largest packet number in that range.  A value of zero indicates that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   only the largest packet number is acknowledged.  Larger ACK Range}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   values indicate a larger range, with corresponding lower values for}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   the smallest packet number in the range.  Thus, given a largest}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet number for the range, the smallest value is determined by the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   formula:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      smallest = largest - ack_range}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   An ACK Range acknowledges all packets between the smallest packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   number and the largest, inclusive.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The largest value for an ACK Range is determined by cumulatively}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   subtracting the size of all preceding ACK Ranges and Gaps.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Each Gap indicates a range of packets that are not being}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   acknowledged.  The number of packets in the gap is one higher than}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the encoded value of the Gap field.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The value of the Gap field establishes the largest packet number}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   value for the subsequent ACK Range using the following formula:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      largest = previous_smallest - gap - 2}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   If any computed packet number is negative, an endpoint MUST generate}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   a connection error of type FRAME_ENCODING_ERROR.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#125"}}{\fldrslt {19.3.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#125"}}{\fldrslt {. }}} ECN Counts}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The ACK frame uses the least significant bit (that is, type 0x03) to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   indicate ECN feedback and report receipt of QUIC packets with}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   associated ECN codepoints of ECT(0), ECT(1), or CE in the packet\uc1\u8217Xs IP}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   header.  ECN Counts are only present when the ACK frame type is 0x03.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   ECN Counts are only parsed when the ACK frame type is 0x03.  There}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   are 3 ECN counts, as shown in Figure 26.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   ECN Counts \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     ECT0 Count (i),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     ECT1 Count (i),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     ECN-CE Count (i),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {                        Figure 26: ECN Count Format}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The three ECN Counts are:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 125]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2278\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2279\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#126"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   ECT0 Count:  A variable-length integer representing the total number}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      of packets received with the ECT(0) codepoint in the packet number}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      space of the ACK frame.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   ECT1 Count:  A variable-length integer representing the total number}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {      of packets received with the ECT(1) codepoint in the packet number}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      space of the ACK frame.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   CE Count:  A variable-length integer representing the total number of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      packets received with the CE codepoint in the packet number space}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      of the ACK frame.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   ECN counts are maintained separately for each packet number space.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#126"}}{\fldrslt {19.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#126"}}{\fldrslt {. }}} RESET_STREAM Frame}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint uses a RESET_STREAM frame (type=0x04) to abruptly}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   terminate the sending part of a stream.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   After sending a RESET_STREAM, an endpoint ceases transmission and}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   retransmission of STREAM frames on the identified stream.  A receiver}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   of RESET_STREAM can discard any data that it already received on that}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   stream.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   An endpoint that receives a RESET_STREAM frame for a send-only stream}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   MUST terminate the connection with error STREAM_STATE_ERROR.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The RESET_STREAM frame is shown in Figure 27.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   RESET_STREAM Frame \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Type (i) = 0x04,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Stream ID (i),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Application Protocol Error Code (i),}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     Final Size (i),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {                    Figure 27: RESET_STREAM Frame Format}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   RESET_STREAM frames contain the following fields:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Stream ID:  A variable-length integer encoding of the Stream ID of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      the stream being terminated.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Application Protocol Error Code:  A variable-length integer}\par\pard\li760\ri0\sl-226\slmult0 \*\tx7640\fs20\cf0\f1\charscalex100 {      containing the application protocol error code (see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#142"}}{\fldrslt {Section 20.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#142"}}{\fldrslt {)}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      which indicates why the stream is being closed.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Final Size:  A variable-length integer indicating the final size of}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 126]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2280\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2281\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#127"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {      the stream by the RESET_STREAM sender, in unit of bytes.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#127"}}{\fldrslt {19.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#127"}}{\fldrslt {. }}} STOP_SENDING Frame}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   An endpoint uses a STOP_SENDING frame (type=0x05) to communicate that}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   incoming data is being discarded on receipt at application request.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   STOP_SENDING requests that a peer cease transmission on a stream.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A STOP_SENDING frame can be sent for streams in the Recv or Size}\par\pard\li760\ri0\sl-240\slmult0 \*\tx3253\fs20\cf0\f1\charscalex100 {   Known states; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt {Section 3.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt {. }}} Receiving a STOP_SENDING frame for a}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   locally-initiated stream that has not yet been created MUST be}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   treated as a connection error of type STREAM_STATE_ERROR.  An}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint that receives a STOP_SENDING frame for a receive-only stream}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   MUST terminate the connection with error STREAM_STATE_ERROR.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The STOP_SENDING frame is shown in Figure 28.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   STOP_SENDING Frame \{}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Type (i) = 0x05,}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Stream ID (i),}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Application Protocol Error Code (i),}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {                    Figure 28: STOP_SENDING Frame Format}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   STOP_SENDING frames contain the following fields:}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Stream ID:  A variable-length integer carrying the Stream ID of the}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      stream being ignored.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Application Protocol Error Code:  A variable-length integer}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      containing the application-specified reason the sender is ignoring}\par\pard\li746\ri0\sl-240\slmult0 \*\tx3373\fs20\cf0\f1\charscalex100 {      the stream; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#142"}}{\fldrslt {Section 20.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#142"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#127"}}{\fldrslt {19.6}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#127"}}{\fldrslt {. }}} CRYPTO Frame}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The CRYPTO frame (type=0x06) is used to transmit cryptographic}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   handshake messages.  It can be sent in all packet types except 0-RTT.}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   The CRYPTO frame offers the cryptographic protocol an in-order stream}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   of bytes.  CRYPTO frames are functionally identical to STREAM frames,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   except that they do not bear a stream identifier; they are not flow}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   controlled; and they do not carry markers for optional offset,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   optional length, and the end of the stream.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The CRYPTO frame is shown in Figure 29.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-173\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 127]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2282\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2283\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#128"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   CRYPTO Frame \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Type (i) = 0x06,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Offset (i),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Length (i),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Crypto Data (..),}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {                       Figure 29: CRYPTO Frame Format}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   CRYPTO frames contain the following fields:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Offset:  A variable-length integer specifying the byte offset in the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      stream for the data in this CRYPTO frame.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Length:  A variable-length integer specifying the length of the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      Crypto Data field in this CRYPTO frame.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Crypto Data:  The cryptographic message data.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   There is a separate flow of cryptographic handshake data in each}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   encryption level, each of which starts at an offset of 0.  This}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   implies that each encryption level is treated as a separate CRYPTO}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   stream of data.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The largest offset delivered on a stream - the sum of the offset and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   data length - cannot exceed 2^62-1.  Receipt of a frame that exceeds}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   this limit MUST be treated as a connection error of type}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   FRAME_ENCODING_ERROR or CRYPTO_BUFFER_EXCEEDED.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Unlike STREAM frames, which include a Stream ID indicating to which}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   stream the data belongs, the CRYPTO frame carries data for a single}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   stream per encryption level.  The stream does not have an explicit}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   end, so CRYPTO frames do not have a FIN bit.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#128"}}{\fldrslt {19.7}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#128"}}{\fldrslt {. }}} NEW_TOKEN Frame}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A server sends a NEW_TOKEN frame (type=0x07) to provide the client}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   with a token to send in the header of an Initial packet for a future}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   connection.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The NEW_TOKEN frame is shown in Figure 30.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   NEW_TOKEN Frame \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Type (i) = 0x07,}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     Token Length (i),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Token (..),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 128]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2284\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2285\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#129"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {                     Figure 30: NEW_TOKEN Frame Format}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   NEW_TOKEN frames contain the following fields:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   Token Length:  A variable-length integer specifying the length of the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      token in bytes.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Token:  An opaque blob that the client may use with a future Initial}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      packet.  The token MUST NOT be empty.  An endpoint MUST treat}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      receipt of a NEW_TOKEN frame with an empty Token field as a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      connection error of type FRAME_ENCODING_ERROR.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint might receive multiple NEW_TOKEN frames that contain the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   same token value if packets containing the frame are incorrectly}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   determined to be lost.  Endpoints are responsible for discarding}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   duplicate values, which might be used to link connection attempts;}\par\pard\li760\ri0\sl-226\slmult0 \*\tx1586\fs20\cf0\f1\charscalex100 {   see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#49"}}{\fldrslt {Section 8.1.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#49"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Clients MUST NOT send NEW_TOKEN frames.  Servers MUST treat receipt}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   of a NEW_TOKEN frame as a connection error of type}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   PROTOCOL_VIOLATION.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#129"}}{\fldrslt {19.8}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#129"}}{\fldrslt {. }}} STREAM Frames}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   STREAM frames implicitly create a stream and carry stream data.  The}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   STREAM frame takes the form 0b00001XXX (or the set of values from}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   0x08 to 0x0f).  The value of the three low-order bits of the frame}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   type determines the fields that are present in the frame.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  The OFF bit (0x04) in the frame type is set to indicate that there}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      is an Offset field present.  When set to 1, the Offset field is}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      present.  When set to 0, the Offset field is absent and the Stream}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      Data starts at an offset of 0 (that is, the frame contains the}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {      first bytes of the stream, or the end of a stream that includes no}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      data).}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  The LEN bit (0x02) in the frame type is set to indicate that there}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      is a Length field present.  If this bit is set to 0, the Length}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      field is absent and the Stream Data field extends to the end of}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      the packet.  If this bit is set to 1, the Length field is present.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  The FIN bit (0x01) of the frame type is set only on frames that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      contain the final size of the stream.  Setting this bit indicates}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      that the frame marks the end of the stream.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-186\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 129]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2286\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2287\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#130"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint MUST terminate the connection with error}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   STREAM_STATE_ERROR if it receives a STREAM frame for a locally-}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   initiated stream that has not yet been created, or for a send-only}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   stream.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The STREAM frames are shown in Figure 31.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   STREAM Frame \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Type (i) = 0x08..0x0f,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Stream ID (i),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     [Offset (i)],}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     [Length (i)],}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Stream Data (..),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {                       Figure 31: STREAM Frame Format}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   STREAM frames contain the following fields:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   Stream ID:  A variable-length integer indicating the stream ID of the}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2893\fs20\cf0\f1\charscalex100 {      stream; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#11"}}{\fldrslt {Section 2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#11"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Offset:  A variable-length integer specifying the byte offset in the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      stream for the data in this STREAM frame.  This field is present}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      when the OFF bit is set to 1.  When the Offset field is absent,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      the offset is 0.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Length:  A variable-length integer specifying the length of the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      Stream Data field in this STREAM frame.  This field is present}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      when the LEN bit is set to 1.  When the LEN bit is set to 0, the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      Stream Data field consumes all the remaining bytes in the packet.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Stream Data:  The bytes from the designated stream to be delivered.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   When a Stream Data field has a length of 0, the offset in the STREAM}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   frame is the offset of the next byte that would be sent.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The first byte in the stream has an offset of 0.  The largest offset}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   delivered on a stream - the sum of the offset and data length -}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   cannot exceed 2^62-1, as it is not possible to provide flow control}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   credit for that data.  Receipt of a frame that exceeds this limit}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   MUST be treated as a connection error of type FRAME_ENCODING_ERROR or}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   FLOW_CONTROL_ERROR.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 130]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2288\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2289\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt {19.9}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt {. }}} MAX_DATA Frame}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The MAX_DATA frame (type=0x10) is used in flow control to inform the}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   peer of the maximum amount of data that can be sent on the connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   as a whole.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The MAX_DATA frame is shown in Figure 32.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   MAX_DATA Frame \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Type (i) = 0x10,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Maximum Data (i),}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {                      Figure 32: MAX_DATA Frame Format}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   MAX_DATA frames contain the following fields:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Maximum Data:  A variable-length integer indicating the maximum}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      amount of data that can be sent on the entire connection, in units}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      of bytes.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   All data sent in STREAM frames counts toward this limit.  The sum of}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   the largest received offsets on all streams - including streams in}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   terminal states - MUST NOT exceed the value advertised by a receiver.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint MUST terminate a connection with a FLOW_CONTROL_ERROR}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   error if it receives more data than the maximum data value that it}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   has sent, unless this is a result of a change in the initial limits;}\par\pard\li760\ri0\sl-226\slmult0 \*\tx1586\fs20\cf0\f1\charscalex100 {   see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#44"}}{\fldrslt {Section 7.4.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#44"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt {19.10}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#131"}}{\fldrslt {. }}} MAX_STREAM_DATA Frame}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The MAX_STREAM_DATA frame (type=0x11) is used in flow control to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   inform a peer of the maximum amount of data that can be sent on a}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   stream.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A MAX_STREAM_DATA frame can be sent for streams in the Recv state;}\par\pard\li760\ri0\sl-240\slmult0 \*\tx1586\fs20\cf0\f1\charscalex100 {   see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt {Section 3.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt {. }}} Receiving a MAX_STREAM_DATA frame for a locally-}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   initiated stream that has not yet been created MUST be treated as a}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   connection error of type STREAM_STATE_ERROR.  An endpoint that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   receives a MAX_STREAM_DATA frame for a receive-only stream MUST}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   terminate the connection with error STREAM_STATE_ERROR.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The MAX_STREAM_DATA frame is shown in Figure 33.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 131]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2290\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2291\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#132"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   MAX_STREAM_DATA Frame \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Type (i) = 0x11,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Stream ID (i),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Maximum Stream Data (i),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {                  Figure 33: MAX_STREAM_DATA Frame Format}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   MAX_STREAM_DATA frames contain the following fields:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   Stream ID:  The stream ID of the stream that is affected encoded as a}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      variable-length integer.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Maximum Stream Data:  A variable-length integer indicating the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      maximum amount of data that can be sent on the identified stream,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      in units of bytes.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   When counting data toward this limit, an endpoint accounts for the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   largest received offset of data that is sent or received on the}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   stream.  Loss or reordering can mean that the largest received offset}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   on a stream can be greater than the total size of data received on}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that stream.  Receiving STREAM frames might not increase the largest}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   received offset.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The data sent on a stream MUST NOT exceed the largest maximum stream}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   data value advertised by the receiver.  An endpoint MUST terminate a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection with a FLOW_CONTROL_ERROR error if it receives more data}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   than the largest maximum stream data that it has sent for the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   affected stream, unless this is a result of a change in the initial}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2533\fs20\cf0\f1\charscalex100 {   limits; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#44"}}{\fldrslt {Section 7.4.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#44"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#132"}}{\fldrslt {19.11}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#132"}}{\fldrslt {. }}} MAX_STREAMS Frames}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The MAX_STREAMS frames (type=0x12 and 0x13) inform the peer of the}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   cumulative number of streams of a given type it is permitted to open.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   A MAX_STREAMS frame with a type of 0x12 applies to bidirectional}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   streams, and a MAX_STREAMS frame with a type of 0x13 applies to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   unidirectional streams.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The MAX_STREAMS frames are shown in Figure 34;}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   MAX_STREAMS Frame \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Type (i) = 0x12..0x13,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Maximum Streams (i),}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {                    Figure 34: MAX_STREAMS Frame Format}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 132]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2292\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2293\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#133"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   MAX_STREAMS frames contain the following fields:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Maximum Streams:  A count of the cumulative number of streams of the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      corresponding type that can be opened over the lifetime of the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      connection.  This value cannot exceed 2^60, as it is not possible}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      to encode stream IDs larger than 2^62-1.  Receipt of a frame that}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      permits opening of a stream larger than this limit MUST be treated}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      as a FRAME_ENCODING_ERROR.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   Loss or reordering can cause a MAX_STREAMS frame to be received which}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   states a lower stream limit than an endpoint has previously received.}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   MAX_STREAMS frames which do not increase the stream limit MUST be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   ignored.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint MUST NOT open more streams than permitted by the current}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   stream limit set by its peer.  For instance, a server that receives a}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   unidirectional stream limit of 3 is permitted to open stream 3, 7,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   and 11, but not stream 15.  An endpoint MUST terminate a connection}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   with a STREAM_LIMIT_ERROR error if a peer opens more streams than was}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   permitted.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Note that these frames (and the corresponding transport parameters)}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   do not describe the number of streams that can be opened}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   concurrently.  The limit includes streams that have been closed as}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   well as those that are open.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#133"}}{\fldrslt {19.12}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#133"}}{\fldrslt {. }}} DATA_BLOCKED Frame}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A sender SHOULD send a DATA_BLOCKED frame (type=0x14) when it wishes}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to send data, but is unable to due to connection-level flow control;}\par\pard\li760\ri0\sl-240\slmult0 \*\tx1586\fs20\cf0\f1\charscalex100 {   see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt {Section 4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt {. }}} DATA_BLOCKED frames can be used as input to tuning of}\par\pard\li746\ri0\sl-240\slmult0 \*\tx4560\fs20\cf0\f1\charscalex100 {   flow control algorithms; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#24"}}{\fldrslt {Section 4.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#24"}}{\fldrslt {.}}}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The DATA_BLOCKED frame is shown in Figure 35.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   DATA_BLOCKED Frame \{}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Type (i) = 0x14,}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Maximum Data (i),}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {                    Figure 35: DATA_BLOCKED Frame Format}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   DATA_BLOCKED frames contain the following fields:}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Maximum Data:  A variable-length integer indicating the connection-}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      level limit at which blocking occurred.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-360\slmult0 \fs20\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 133]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2294\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2295\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#134"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#134"}}{\fldrslt {19.13}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#134"}}{\fldrslt {. }}} STREAM_DATA_BLOCKED Frame}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A sender SHOULD send a STREAM_DATA_BLOCKED frame (type=0x15) when it}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   wishes to send data, but is unable to due to stream-level flow}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   control.  This frame is analogous to DATA_BLOCKED {\field{\*\fldinst{HYPERLINK "#133"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#133"}}{\fldrslt {Section 19.12}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#133"}}{\fldrslt {).}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   An endpoint that receives a STREAM_DATA_BLOCKED frame for a send-only}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   stream MUST terminate the connection with error STREAM_STATE_ERROR.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The STREAM_DATA_BLOCKED frame is shown in Figure 36.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   STREAM_DATA_BLOCKED Frame \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Type (i) = 0x15,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Stream ID (i),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Maximum Stream Data (i),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {                Figure 36: STREAM_DATA_BLOCKED Frame Format}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   STREAM_DATA_BLOCKED frames contain the following fields:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Stream ID:  A variable-length integer indicating the stream which is}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      flow control blocked.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   Maximum Stream Data:  A variable-length integer indicating the offset}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      of the stream at which the blocking occurred.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#134"}}{\fldrslt {19.14}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#134"}}{\fldrslt {. }}} STREAMS_BLOCKED Frames}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   A sender SHOULD send a STREAMS_BLOCKED frame (type=0x16 or 0x17) when}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   it wishes to open a stream, but is unable to due to the maximum}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5146\fs20\cf0\f1\charscalex100 {   stream limit set by its peer; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#132"}}{\fldrslt {Section 19.11}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#132"}}{\fldrslt {. }}} A STREAMS_BLOCKED}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   frame of type 0x16 is used to indicate reaching the bidirectional}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   stream limit, and a STREAMS_BLOCKED frame of type 0x17 indicates}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   reaching the unidirectional stream limit.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A STREAMS_BLOCKED frame does not open the stream, but informs the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   peer that a new stream was needed and the stream limit prevented the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   creation of the stream.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The STREAMS_BLOCKED frames are shown in Figure 37.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   STREAMS_BLOCKED Frame \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Type (i) = 0x16..0x17,}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     Maximum Streams (i),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {                  Figure 37: STREAMS_BLOCKED Frame Format}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 134]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2296\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2297\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#135"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   STREAMS_BLOCKED frames contain the following fields:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Maximum Streams:  A variable-length integer indicating the maximum}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      number of streams allowed at the time the frame was sent.  This}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      value cannot exceed 2^60, as it is not possible to encode stream}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      IDs larger than 2^62-1.  Receipt of a frame that encodes a larger}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      stream ID MUST be treated as a STREAM_LIMIT_ERROR or a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      FRAME_ENCODING_ERROR.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#135"}}{\fldrslt {19.15}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#135"}}{\fldrslt {. }}} NEW_CONNECTION_ID Frame}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint sends a NEW_CONNECTION_ID frame (type=0x18) to provide}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   its peer with alternative connection IDs that can be used to break}\par\pard\li760\ri0\sl-240\slmult0 \*\tx6333\fs20\cf0\f1\charscalex100 {   linkability when migrating connections; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#60"}}{\fldrslt {Section 9.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#60"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The NEW_CONNECTION_ID frame is shown in Figure 38.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   NEW_CONNECTION_ID Frame \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Type (i) = 0x18,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Sequence Number (i),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Retire Prior To (i),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Length (8),}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     Connection ID (8..160),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Stateless Reset Token (128),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {                 Figure 38: NEW_CONNECTION_ID Frame Format}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   NEW_CONNECTION_ID frames contain the following fields:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Sequence Number:  The sequence number assigned to the connection ID}\par\pard\li760\ri0\sl-240\slmult0 \*\tx3840\fs20\cf0\f1\charscalex100 {      by the sender.  See}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#29"}}{\fldrslt {Section 5.1.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#29"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Retire Prior To:  A variable-length integer indicating which}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5986\fs20\cf0\f1\charscalex100 {      connection IDs should be retired; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#30"}}{\fldrslt {Section 5.1.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#30"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Length:  An 8-bit unsigned integer containing the length of the}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      connection ID.  Values less than 1 and greater than 20 are invalid}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      and MUST be treated as a connection error of type}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      FRAME_ENCODING_ERROR.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Connection ID:  A connection ID of the specified length.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Stateless Reset Token:  A 128-bit value that will be used for a}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      stateless reset when the associated connection ID is used; see}\par\pard\li1466\ri0\sl-240\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {Section 10.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-360\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 135]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2298\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2299\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#136"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint MUST NOT send this frame if it currently requires that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   its peer send packets with a zero-length Destination Connection ID.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Changing the length of a connection ID to or from zero-length makes}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   it difficult to identify when the value of the connection ID changed.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint that is sending packets with a zero-length Destination}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   Connection ID MUST treat receipt of a NEW_CONNECTION_ID frame as a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection error of type PROTOCOL_VIOLATION.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Transmission errors, timeouts and retransmissions might cause the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   same NEW_CONNECTION_ID frame to be received multiple times.  Receipt}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   of the same frame multiple times MUST NOT be treated as a connection}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   error.  A receiver can use the sequence number supplied in the}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   NEW_CONNECTION_ID frame to identify new connection IDs from old ones.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   If an endpoint receives a NEW_CONNECTION_ID frame that repeats a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   previously issued connection ID with a different Stateless Reset}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   Token or a different sequence number, or if a sequence number is used}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   for different connection IDs, the endpoint MAY treat that receipt as}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   a connection error of type PROTOCOL_VIOLATION.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The Retire Prior To field counts connection IDs established during}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection setup and the preferred_address transport parameter; see}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#30"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#30"}}{\fldrslt {Section 5.1.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#30"}}{\fldrslt {. }}} The Retire Prior To field MUST be less than or equal}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to the Sequence Number field.  Receiving a value greater than the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Sequence Number MUST be treated as a connection error of type}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   FRAME_ENCODING_ERROR.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Once a sender indicates a Retire Prior To value, smaller values sent}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   in subsequent NEW_CONNECTION_ID frames have no effect.  A receiver}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   MUST ignore any Retire Prior To fields that do not increase the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   largest received Retire Prior To value.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint that receives a NEW_CONNECTION_ID frame with a sequence}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   number smaller than the Retire Prior To field of a previously}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   received NEW_CONNECTION_ID frame MUST send a corresponding}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   RETIRE_CONNECTION_ID frame that retires the newly received connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   ID, unless it has already done so for that sequence number.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#136"}}{\fldrslt {19.16}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#136"}}{\fldrslt {. }}} RETIRE_CONNECTION_ID Frame}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint sends a RETIRE_CONNECTION_ID frame (type=0x19) to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   indicate that it will no longer use a connection ID that was issued}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   by its peer.  This may include the connection ID provided during the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   handshake.  Sending a RETIRE_CONNECTION_ID frame also serves as a}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   request to the peer to send additional connection IDs for future use;}\par\pard\li760\ri0\sl-240\slmult0 \*\tx1586\fs20\cf0\f1\charscalex100 {   see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#28"}}{\fldrslt {Section 5.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#28"}}{\fldrslt {. }}} New connection IDs can be delivered to a peer using}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the NEW_CONNECTION_ID frame {\field{\*\fldinst{HYPERLINK "#135"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#135"}}{\fldrslt {Section 19.15}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#135"}}{\fldrslt {).}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 136]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2300\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2301\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#137"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   Retiring a connection ID invalidates the stateless reset token}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   associated with that connection ID.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The RETIRE_CONNECTION_ID frame is shown in Figure 39.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   RETIRE_CONNECTION_ID Frame \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Type (i) = 0x19,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Sequence Number (i),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {                Figure 39: RETIRE_CONNECTION_ID Frame Format}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   RETIRE_CONNECTION_ID frames contain the following fields:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Sequence Number:  The sequence number of the connection ID being}\par\pard\li760\ri0\sl-240\slmult0 \*\tx3013\fs20\cf0\f1\charscalex100 {      retired; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#30"}}{\fldrslt {Section 5.1.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#30"}}{\fldrslt {.}}}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Receipt of a RETIRE_CONNECTION_ID frame containing a sequence number}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   greater than any previously sent to the peer MUST be treated as a}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection error of type PROTOCOL_VIOLATION.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The sequence number specified in a RETIRE_CONNECTION_ID frame MUST}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   NOT refer to the Destination Connection ID field of the packet in}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   which the frame is contained.  The peer MAY treat this as a}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection error of type FRAME_ENCODING_ERROR.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint cannot send this frame if it was provided with a zero-}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   length connection ID by its peer.  An endpoint that provides a zero-}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   length connection ID MUST treat receipt of a RETIRE_CONNECTION_ID}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   frame as a connection error of type PROTOCOL_VIOLATION.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#137"}}{\fldrslt {19.17}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#137"}}{\fldrslt {. }}} PATH_CHALLENGE Frame}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Endpoints can use PATH_CHALLENGE frames (type=0x1a) to check}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   reachability to the peer and for path validation during connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   migration.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The PATH_CHALLENGE frame is shown in Figure 40.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   PATH_CHALLENGE Frame \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Type (i) = 0x1a,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Data (64),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {                   Figure 40: PATH_CHALLENGE Frame Format}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   PATH_CHALLENGE frames contain the following fields:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 137]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2302\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2303\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#138"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   Data:  This 8-byte field contains arbitrary data.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A PATH_CHALLENGE frame containing 8 bytes that are hard to guess is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   sufficient to ensure that it is easier to receive the packet than it}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   is to guess the value correctly.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The recipient of this frame MUST generate a PATH_RESPONSE frame}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#138"}}{\fldrslt { (}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#138"}}{\fldrslt {Section 19.18}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#138"}}{\fldrslt {) }}}containing the same Data.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#138"}}{\fldrslt {19.18}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#138"}}{\fldrslt {. }}} PATH_RESPONSE Frame}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The PATH_RESPONSE frame (type=0x1b) is sent in response to a}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   PATH_CHALLENGE frame.  Its format, shown in Figure 41 is identical to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the PATH_CHALLENGE frame {\field{\*\fldinst{HYPERLINK "#137"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#137"}}{\fldrslt {Section 19.17}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#137"}}{\fldrslt {).}}}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   PATH_RESPONSE Frame \{}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     Type (i) = 0x1b,}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Data (64),}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {                   Figure 41: PATH_RESPONSE Frame Format}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   If the content of a PATH_RESPONSE frame does not match the content of}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   a PATH_CHALLENGE frame previously sent by the endpoint, the endpoint}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   MAY generate a connection error of type PROTOCOL_VIOLATION.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#138"}}{\fldrslt {19.19}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#138"}}{\fldrslt {. }}} CONNECTION_CLOSE Frames}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   An endpoint sends a CONNECTION_CLOSE frame (type=0x1c or 0x1d) to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   notify its peer that the connection is being closed.  The}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   CONNECTION_CLOSE with a frame type of 0x1c is used to signal errors}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   at only the QUIC layer, or the absence of errors (with the NO_ERROR}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   code).  The CONNECTION_CLOSE frame with a type of 0x1d is used to}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   signal an error with the application that uses QUIC.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   If there are open streams that haven\uc1\u8217Xt been explicitly closed, they}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   are implicitly closed when the connection is closed.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The CONNECTION_CLOSE frames are shown in Figure 42.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   CONNECTION_CLOSE Frame \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Type (i) = 0x1c..0x1d,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Error Code (i),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     [Frame Type (i)],}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {     Reason Phrase Length (i),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Reason Phrase (..),}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 138]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2304\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2305\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#139"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {                  Figure 42: CONNECTION_CLOSE Frame Format}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   CONNECTION_CLOSE frames contain the following fields:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   Error Code:  A variable length integer error code which indicates the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      reason for closing this connection.  A CONNECTION_CLOSE frame of}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7053\fs20\cf0\f1\charscalex100 {      type 0x1c uses codes from the space defined in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {Section 20}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {. }}} A}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      CONNECTION_CLOSE frame of type 0x1d uses codes from the}\par\pard\li760\ri0\sl-240\slmult0 \*\tx6573\fs20\cf0\f1\charscalex100 {      application protocol error code space; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#142"}}{\fldrslt {Section 20.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#142"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Frame Type:  A variable-length integer encoding the type of frame}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {      that triggered the error.  A value of 0 (equivalent to the mention}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      of the PADDING frame) is used when the frame type is unknown.  The}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      application-specific variant of CONNECTION_CLOSE (type 0x1d) does}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      not include this field.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Reason Phrase Length:  A variable-length integer specifying the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      length of the reason phrase in bytes.  Because a CONNECTION_CLOSE}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      frame cannot be split between packets, any limits on packet size}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      will also limit the space available for a reason phrase.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Reason Phrase:  A human-readable explanation for why the connection}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      was closed.  This can be zero length if the sender chooses to not}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      give details beyond the Error Code.  This SHOULD be a UTF-8}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      encoded string {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc3629"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc3629"}}{\fldrslt {RFC3629}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc3629"}}{\fldrslt {].}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The application-specific variant of CONNECTION_CLOSE (type 0x1d) can}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   only be sent using 0-RTT or 1-RTT packets; see Section 4 of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt { [}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {]. }}} When an application wishes to abandon a connection}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   during the handshake, an endpoint can send a CONNECTION_CLOSE frame}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   (type 0x1c) with an error code of APPLICATION_ERROR in an Initial or}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   a Handshake packet.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#139"}}{\fldrslt {19.20}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#139"}}{\fldrslt {. }}} HANDSHAKE_DONE frame}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The server uses the HANDSHAKE_DONE frame (type=0x1e) to signal}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   confirmation of the handshake to the client.  As shown in Figure 43,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   a HANDSHAKE_DONE frame has no content.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   HANDSHAKE_DONE Frame \{}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {     Type (i) = 0x1e,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   \}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {                   Figure 43: HANDSHAKE_DONE Frame Format}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-186\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 139]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2306\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2307\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   A HANDSHAKE_DONE frame can only be sent by the server.  Servers MUST}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   NOT send a HANDSHAKE_DONE frame before completing the handshake.  A}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   server MUST treat receipt of a HANDSHAKE_DONE frame as a connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   error of type PROTOCOL_VIOLATION.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {19.21}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {. }}} Extension Frames}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC frames do not use a self-describing encoding.  An endpoint}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   therefore needs to understand the syntax of all frames before it can}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   successfully process a packet.  This allows for efficient encoding of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   frames, but it means that an endpoint cannot send a frame of a type}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   that is unknown to its peer.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An extension to QUIC that wishes to use a new type of frame MUST}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   first ensure that a peer is able to understand the frame.  An}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint can use a transport parameter to signal its willingness to}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   receive one or more extension frame types with the one transport}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   parameter.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Extensions that modify or replace core protocol functionality}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   (including frame types) will be difficult to combine with other}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   extensions which modify or replace the same functionality unless the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   behavior of the combination is explicitly defined.  Such extensions}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   SHOULD define their interaction with previously-defined extensions}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   modifying the same protocol components.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Extension frames MUST be congestion controlled and MUST cause an ACK}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   frame to be sent.  The exception is extension frames that replace or}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   supplement the ACK frame.  Extension frames are not included in flow}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   control unless specified in the extension.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   An IANA registry is used to manage the assignment of frame types; see}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#158"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#158"}}{\fldrslt {Section 22.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#158"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {20}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {. }}} Transport Error Codes}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC error codes are 62-bit unsigned integers.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   This section lists the defined QUIC transport error codes that may be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   used in a CONNECTION_CLOSE frame.  These errors apply to the entire}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   NO_ERROR (0x0):  An endpoint uses this with CONNECTION_CLOSE to}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      signal that the connection is being closed abruptly in the absence}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      of any error.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   INTERNAL_ERROR (0x1):  The endpoint encountered an internal error and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      cannot continue with the connection.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 140]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2308\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2309\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#141"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   CONNECTION_REFUSED (0x2):  The server refused to accept a new}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      connection.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   FLOW_CONTROL_ERROR (0x3):  An endpoint received more data than it}\par\pard\li760\ri0\sl-240\slmult0 \*\tx6813\fs20\cf0\f1\charscalex100 {      permitted in its advertised data limits; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt {Section 4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#23"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   STREAM_LIMIT_ERROR (0x4):  An endpoint received a frame for a stream}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      identifier that exceeded its advertised stream limit for the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      corresponding stream type.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   STREAM_STATE_ERROR (0x5):  An endpoint received a frame for a stream}\par\pard\li760\ri0\sl-226\slmult0 \*\tx8000\fs20\cf0\f1\charscalex100 {      that was not in a state that permitted that frame; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt {Section 3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#14"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   FINAL_SIZE_ERROR (0x6):  An endpoint received a STREAM frame}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      containing data that exceeded the previously established final}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      size.  Or an endpoint received a STREAM frame or a RESET_STREAM}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      frame containing a final size that was lower than the size of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      stream data that was already received.  Or an endpoint received a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      STREAM frame or a RESET_STREAM frame containing a different final}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      size to the one already established.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   FRAME_ENCODING_ERROR (0x7):  An endpoint received a frame that was}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      badly formatted.  For instance, a frame of an unknown type, or an}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      ACK frame that has more acknowledgment ranges than the remainder}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      of the packet could carry.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   TRANSPORT_PARAMETER_ERROR (0x8):  An endpoint received transport}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      parameters that were badly formatted, included an invalid value,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      was absent even though it is mandatory, was present though it is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      forbidden, or is otherwise in error.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   CONNECTION_ID_LIMIT_ERROR (0x9):  The number of connection IDs}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      provided by the peer exceeds the advertised}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      active_connection_id_limit.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   PROTOCOL_VIOLATION (0xA):  An endpoint detected an error with}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      protocol compliance that was not covered by more specific error}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      codes.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   INVALID_TOKEN (0xB):  A server received a Retry Token in a client}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      Initial that is invalid.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   APPLICATION_ERROR (0xC):  The application or application protocol}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      caused the connection to be closed.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   CRYPTO_BUFFER_EXCEEDED (0xD):  An endpoint has received more data in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      CRYPTO frames than it can buffer.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 141]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2310\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2311\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#142"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   CRYPTO_ERROR (0x1XX):  The cryptographic handshake failed.  A range}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      of 256 values is reserved for carrying error codes specific to the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      cryptographic handshake that is used.  Codes for errors occurring}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      when TLS is used for the crypto handshake are described in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      Section 4.8 of {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {].}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \*\tx1586\fs20\cf0\f1\charscalex100 {   See}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#159"}}{\fldrslt {Section 22.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#159"}}{\fldrslt { for }}}details of registering new error codes.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   In defining these error codes, several principles are applied.  Error}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   conditions that might require specific action on the part of a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   recipient are given unique codes.  Errors that represent common}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   conditions are given specific codes.  Absent either of these}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   conditions, error codes are used to identify a general function of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the stack, like flow control or transport parameter handling.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Finally, generic errors are provided for conditions where}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   implementations are unable or unwilling to use more specific codes.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#142"}}{\fldrslt {20.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#142"}}{\fldrslt {. }}} Application Protocol Error Codes}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Application protocol error codes are 62-bit unsigned integers, but}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the management of application error codes is left to application}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   protocols.  Application protocol error codes are used for the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   RESET_STREAM frame {\field{\*\fldinst{HYPERLINK "#126"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#126"}}{\fldrslt {Section 19.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#126"}}{\fldrslt {), }}}the STOP_SENDING frame}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#127"}}{\fldrslt { (}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#127"}}{\fldrslt {Section 19.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#127"}}{\fldrslt {), }}}and the CONNECTION_CLOSE frame with a type of 0x1d}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#138"}}{\fldrslt { (}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#138"}}{\fldrslt {Section 19.19}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#138"}}{\fldrslt {).}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#142"}}{\fldrslt {21}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#142"}}{\fldrslt {. }}} Security Considerations}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#142"}}{\fldrslt {21.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#142"}}{\fldrslt {. }}} Handshake Denial of Service}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   As an encrypted and authenticated transport QUIC provides a range of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   protections against denial of service.  Once the cryptographic}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   handshake is complete, QUIC endpoints discard most packets that are}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   not authenticated, greatly limiting the ability of an attacker to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   interfere with existing connections.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Once a connection is established QUIC endpoints might accept some}\par\pard\li760\ri0\sl-240\slmult0 \*\tx5146\fs20\cf0\f1\charscalex100 {   unauthenticated ICMP packets (see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt {Section 14.2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#97"}}{\fldrslt {), }}}but the use of}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   these packets is extremely limited.  The only other type of packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that an endpoint might accept is a stateless reset {\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {Section 10.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#70"}}{\fldrslt {)}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   which relies on the token being kept secret until it is used.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   During the creation of a connection, QUIC only provides protection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   against attack from off the network path.  All QUIC packets contain}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   proof that the recipient saw a preceding packet from its peer.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Addresses cannot change during the handshake, so endpoints can}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   discard packets that are received on a different network path.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 142]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2312\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2313\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#143"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs18\cf0\f1\charscalex100 {   The Source and Destination Connection ID fields are the primary means}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   of protection against off-path attack during the handshake.  These}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   are required to match those set by a peer.  Except for an Initial and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   stateless reset packets, an endpoint only accepts packets that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   include a Destination Connection ID field that matches a value the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint previously chose.  This is the only protection offered for}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Version Negotiation packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The Destination Connection ID field in an Initial packet is selected}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   by a client to be unpredictable, which serves an additional purpose.}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   The packets that carry the cryptographic handshake are protected with}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   a key that is derived from this connection ID and salt specific to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the QUIC version.  This allows endpoints to use the same process for}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   authenticating packets that they receive as they use after the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   cryptographic handshake completes.  Packets that cannot be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   authenticated are discarded.  Protecting packets in this fashion}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   provides a strong assurance that the sender of the packet saw the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Initial packet and understood it.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   These protections are not intended to be effective against an}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   attacker that is able to receive QUIC packets prior to the connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   being established.  Such an attacker can potentially send packets}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   that will be accepted by QUIC endpoints.  This version of QUIC}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   attempts to detect this sort of attack, but it expects that endpoints}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   will fail to establish a connection rather than recovering.  For the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   most part, the cryptographic handshake protocol {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {] }}}is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   responsible for detecting tampering during the handshake.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   Endpoints are permitted to use other methods to detect and attempt to}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   recover from interference with the handshake.  Invalid packets may be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   identified and discarded using other methods, but no specific method}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   is mandated in this document.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#143"}}{\fldrslt {21.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#143"}}{\fldrslt {. }}} Amplification Attack}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An attacker might be able to receive an address validation token}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt { (}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {Section 8}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {) }}}from a server and then release the IP address it used to}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   acquire that token.  At a later time, the attacker may initiate a}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   0-RTT connection with a server by spoofing this same address, which}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   might now address a different (victim) endpoint.  The attacker can}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   thus potentially cause the server to send an initial congestion}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   window\uc1\u8217Xs worth of data towards the victim.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Servers SHOULD provide mitigations for this attack by limiting the}\par\pard\li746\ri0\sl-226\slmult0 \*\tx7400\fs20\cf0\f1\charscalex100 {   usage and lifetime of address validation tokens; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#49"}}{\fldrslt {Section 8.1.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#49"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-173\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 143]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2314\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2315\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#144"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#144"}}{\fldrslt {21.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#144"}}{\fldrslt {. }}} Optimistic ACK Attack}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   An endpoint that acknowledges packets it has not received might cause}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   a congestion controller to permit sending at rates beyond what the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   network supports.  An endpoint MAY skip packet numbers when sending}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   packets to detect this behavior.  An endpoint can then immediately}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   close the connection with a connection error of type}\par\pard\li760\ri0\sl-240\slmult0 \*\tx3960\fs20\cf0\f1\charscalex100 {   PROTOCOL_VIOLATION; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt {Section 10.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#67"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#144"}}{\fldrslt {21.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#144"}}{\fldrslt {. }}} Slowloris Attacks}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The attacks commonly known as Slowloris {\field{\*\fldinst{HYPERLINK "#164"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#164"}}{\fldrslt {SLOWLORIS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#164"}}{\fldrslt {] }}}try to keep many}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   connections to the target endpoint open and hold them open as long as}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   possible.  These attacks can be executed against a QUIC endpoint by}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   generating the minimum amount of activity necessary to avoid being}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   closed for inactivity.  This might involve sending small amounts of}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   data, gradually opening flow control windows in order to control the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   sender rate, or manufacturing ACK frames that simulate a high loss}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   rate.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC deployments SHOULD provide mitigations for the Slowloris}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   attacks, such as increasing the maximum number of clients the server}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   will allow, limiting the number of connections a single IP address is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   allowed to make, imposing restrictions on the minimum transfer speed}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   a connection is allowed to have, and restricting the length of time}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   an endpoint is allowed to stay connected.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#144"}}{\fldrslt {21.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#144"}}{\fldrslt {. }}} Stream Fragmentation and Reassembly Attacks}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An adversarial sender might intentionally send fragments of stream}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   data in order to cause disproportionate receive buffer memory}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   commitment and/or creation of a large and inefficient data structure.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   An adversarial receiver might intentionally not acknowledge packets}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   containing stream data in order to force the sender to store the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   unacknowledged stream data for retransmission.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The attack on receivers is mitigated if flow control windows}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   correspond to available memory.  However, some receivers will over-}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   commit memory and advertise flow control offsets in the aggregate}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that exceed actual available memory.  The over-commitment strategy}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   can lead to better performance when endpoints are well behaved, but}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   renders endpoints vulnerable to the stream fragmentation attack.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 144]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2316\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2317\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#145"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC deployments SHOULD provide mitigations against stream}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   fragmentation attacks.  Mitigations could consist of avoiding over-}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   committing memory, limiting the size of tracking data structures,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   delaying reassembly of STREAM frames, implementing heuristics based}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   on the age and duration of reassembly holes, or some combination.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#145"}}{\fldrslt {21.6}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#145"}}{\fldrslt {. }}} Stream Commitment Attack}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   An adversarial endpoint can open lots of streams, exhausting state on}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   an endpoint.  The adversarial endpoint could repeat the process on a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   large number of connections, in a manner similar to SYN flooding}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   attacks in TCP.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Normally, clients will open streams sequentially, as explained in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#11"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#11"}}{\fldrslt {Section 2.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#11"}}{\fldrslt {. }}} However, when several streams are initiated at short}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   intervals, loss or reordering may cause STREAM frames that open}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   streams to be received out of sequence.  On receiving a higher-}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   numbered stream ID, a receiver is required to open all intervening}\par\pard\li760\ri0\sl-240\slmult0 \*\tx4680\fs20\cf0\f1\charscalex100 {   streams of the same type; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#17"}}{\fldrslt {Section 3.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#17"}}{\fldrslt {. }}} Thus, on a new}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection, opening stream 4000000 opens 1 million and 1 client-}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   initiated bidirectional streams.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The number of active streams is limited by the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   initial_max_streams_bidi and initial_max_streams_uni transport}\par\pard\li760\ri0\sl-240\slmult0 \*\tx4440\fs20\cf0\f1\charscalex100 {   parameters, as explained in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#27"}}{\fldrslt {Section 4.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#27"}}{\fldrslt {. }}} If chosen judiciously,}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   these limits mitigate the effect of the stream commitment attack.}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   However, setting the limit too low could affect performance when}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   applications expect to open large number of streams.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#145"}}{\fldrslt {21.7}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#145"}}{\fldrslt {. }}} Peer Denial of Service}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC and TLS both contain frames or messages that have legitimate}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   uses in some contexts, but that can be abused to cause a peer to}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   expend processing resources without having any observable impact on}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the state of the connection.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Messages can also be used to change and revert state in small or}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   inconsequential ways, such as by sending small increments to flow}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   control limits.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   If processing costs are disproportionately large in comparison to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   bandwidth consumption or effect on state, then this could allow a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   malicious peer to exhaust processing capacity.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 145]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2318\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2319\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#146"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   While there are legitimate uses for all messages, implementations}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   SHOULD track cost of processing relative to progress and treat}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   excessive quantities of any non-productive packets as indicative of}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   an attack.  Endpoints MAY respond to this condition with a connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   error, or by dropping packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#146"}}{\fldrslt {21.8}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#146"}}{\fldrslt {. }}} Explicit Congestion Notification Attacks}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An on-path attacker could manipulate the value of ECN codepoints in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the IP header to influence the sender\uc1\u8217Xs rate. {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc3168"}}{\fldrslt { [}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc3168"}}{\fldrslt {RFC3168}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc3168"}}{\fldrslt {] }}}discusses}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   manipulations and their effects in more detail.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   An on-the-side attacker can duplicate and send packets with modified}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   ECN codepoints to affect the sender\uc1\u8217Xs rate.  If duplicate packets are}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   discarded by a receiver, an off-path attacker will need to race the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   duplicate packet against the original to be successful in this}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   attack.  Therefore, QUIC endpoints ignore the ECN codepoint field on}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   an IP packet unless at least one QUIC packet in that IP packet is}\par\pard\li760\ri0\sl-240\slmult0 \*\tx4440\fs20\cf0\f1\charscalex100 {   successfully processed; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#92"}}{\fldrslt {Section 13.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#92"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#146"}}{\fldrslt {21.9}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#146"}}{\fldrslt {. }}} Stateless Reset Oracle}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   Stateless resets create a possible denial of service attack analogous}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to a TCP reset injection.  This attack is possible if an attacker is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   able to cause a stateless reset token to be generated for a}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   connection with a selected connection ID.  An attacker that can cause}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   this token to be generated can reset an active connection with the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   same connection ID.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   If a packet can be routed to different instances that share a static}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   key, for example by changing an IP address or port, then an attacker}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   can cause the server to send a stateless reset.  To defend against}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   this style of denial service, endpoints that share a static key for}\par\pard\li760\ri0\sl-226\slmult0 \*\tx3600\fs20\cf0\f1\charscalex100 {   stateless reset (see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#74"}}{\fldrslt {Section 10.4.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#74"}}{\fldrslt {) }}}MUST be arranged so that packets}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   with a given connection ID always arrive at an instance that has}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection state, unless that connection is no longer active.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   In the case of a cluster that uses dynamic load balancing, it\uc1\u8217Xs}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   possible that a change in load balancer configuration could happen}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   while an active instance retains connection state; even if an}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   instance retains connection state, the change in routing and}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   resulting stateless reset will result in the connection being}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   terminated.  If there is no chance in the packet being routed to the}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   correct instance, it is better to send a stateless reset than wait}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   for connections to time out.  However, this is acceptable only if the}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   routing cannot be influenced by an attacker.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-360\slmult0 \fs20\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 146]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2320\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2321\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#147"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#147"}}{\fldrslt {21.10}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#147"}}{\fldrslt {. }}} Version Downgrade}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx8000\fs20\cf0\f1\charscalex100 {   This document defines QUIC Version Negotiation packets in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt {Section 6}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#36"}}{\fldrslt {,}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   which can be used to negotiate the QUIC version used between two}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   endpoints.  However, this document does not specify how this}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   negotiation will be performed between this version and subsequent}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   future versions.  In particular, Version Negotiation packets do not}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   contain any mechanism to prevent version downgrade attacks.  Future}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   versions of QUIC that use Version Negotiation packets MUST define a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   mechanism that is robust against version downgrade attacks.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#147"}}{\fldrslt {21.11}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#147"}}{\fldrslt {. }}} Targeted Attacks by Routing}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Deployments should limit the ability of an attacker to target a new}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connection to a particular server instance.  This means that client-}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   controlled fields, such as the initial Destination Connection ID used}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   on Initial and 0-RTT packets SHOULD NOT be used by themselves to make}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   routing decisions.  Ideally, routing decisions are made independently}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   of client-selected values; a Source Connection ID can be selected to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   route later packets to the same server.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#147"}}{\fldrslt {21.12}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#147"}}{\fldrslt {. }}} Overview of Security Properties}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A complete security analysis of QUIC is outside the scope of this}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   document.  This section provides an informal description of the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   desired security properties as an aid to implementors and to help}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   guide protocol analysis.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   QUIC assumes the threat model described in {\field{\*\fldinst{HYPERLINK "#164"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#164"}}{\fldrslt {SEC-CONS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#164"}}{\fldrslt {] }}}and provides}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   protections against many of the attacks that arise from that model.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   For this purpose, attacks are divided into passive and active}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   attacks.  Passive attackers have the capability to read packets from}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   the network, while active attackers also have the capability to write}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets into the network.  However, a passive attack may involve an}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   attacker with the ability to cause a routing change or other}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   modification in the path taken by packets that comprise a connection.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   Attackers are additionally categorized as either on-path attackers or}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   off-path attackers; see Section 3.5 of {\field{\*\fldinst{HYPERLINK "#164"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#164"}}{\fldrslt {SEC-CONS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#164"}}{\fldrslt {]. }}} An on-path}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   attacker can read, modify, or remove any packet it observes such that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   it no longer reaches its destination, while an off-path attacker}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   observes the packets, but cannot prevent the original packet from}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   reaching its intended destination.  An off-path attacker can also}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   transmit arbitrary packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Properties of the handshake, protected packets, and connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   migration are considered separately.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 147]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2322\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2323\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#148"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#148"}}{\fldrslt {21.12.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#148"}}{\fldrslt {. }}} Handshake}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The QUIC handshake incorporates the TLS 1.3 handshake and inherits}\par\pard\li746\ri0\sl-240\slmult0 \*\tx6093\fs20\cf0\f1\charscalex100 {   the cryptographic properties described in}\tab \fs20\cf1\f1\charscalex100 {Appendix E.1}\fs20\cf0\f1\charscalex100 { of {\field{\*\fldinst{HYPERLINK "#162"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#162"}}{\fldrslt {TLS13}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#162"}}{\fldrslt {].}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Many of the security properties of QUIC depend on the TLS handshake}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   providing these properties.  Any attack on the TLS handshake could}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   affect QUIC.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Any attack on the TLS handshake that compromises the secrecy or}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   uniqueness of session keys affects other security guarantees provided}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   by QUIC that depends on these keys.  For instance, migration}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt { (}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {Section 9}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {) }}}depends on the efficacy of confidentiality protections,}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   both for the negotiation of keys using the TLS handshake and for QUIC}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet protection, to avoid linkability across network paths.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An attack on the integrity of the TLS handshake might allow an}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   attacker to affect the selection of application protocol or QUIC}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   version.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   In addition to the properties provided by TLS, the QUIC handshake}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   provides some defense against DoS attacks on the handshake.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#148"}}{\fldrslt {21.12.1.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#148"}}{\fldrslt {. }}} Anti-Amplification}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Address validation {\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {Section 8}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#46"}}{\fldrslt {) }}}is used to verify that an entity that}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   claims a given address is able to receive packets at that address.}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Address validation limits amplification attack targets to addresses}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   for which an attacker is either on-path or off-path.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Prior to validation, endpoints are limited in what they are able to}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   send.  During the handshake, a server cannot send more than three}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   times the data it receives; clients that initiate new connections or}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   migrate to a new network path are limited.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#148"}}{\fldrslt {21.12.1.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#148"}}{\fldrslt {. }}} Server-Side DoS}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Computing the server\uc1\u8217Xs first flight for a full handshake is}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   potentially expensive, requiring both a signature and a key exchange}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   computation.  In order to prevent computational DoS attacks, the}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Retry packet provides a cheap token exchange mechanism which allows}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   servers to validate a client\uc1\u8217Xs IP address prior to doing any}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   expensive computations at the cost of a single round trip.  After a}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   successful handshake, servers can issue new tokens to a client which}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   will allow new connection establishment without incurring this cost.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-186\slmult0 \fs20\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 148]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2324\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2325\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#149"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#149"}}{\fldrslt {21.12.1.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#149"}}{\fldrslt {. }}} On-Path Handshake Termination}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An on-path or off-path attacker can force a handshake to fail by}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   replacing or racing Initial packets.  Once valid Initial packets have}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   been exchanged, subsequent Handshake packets are protected with the}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   handshake keys and an on-path attacker cannot force handshake failure}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   other than by dropping packets to cause endpoints to abandon the}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   attempt.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An on-path attacker can also replace the addresses of packets on}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   either side and therefore cause the client or server to have an}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   incorrect view of the remote addresses.  Such an attack is}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   indistinguishable from the functions performed by a NAT.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#149"}}{\fldrslt {21.12.1.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#149"}}{\fldrslt {. }}} Parameter Negotiation}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The entire handshake is cryptographically protected, with the Initial}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets being encrypted with per-version keys and the Handshake and}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   later packets being encrypted with keys derived from the TLS key}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   exchange.  Further, parameter negotiation is folded into the TLS}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   transcript and thus provides the same integrity guarantees as}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   ordinary TLS negotiation.  An attacker can observe the client\uc1\u8217Xs}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   transport parameters (as long as it knows the version-specific keys)}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   but cannot observe the server\uc1\u8217Xs transport parameters and cannot}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   influence parameter negotiation.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Connection IDs are unencrypted but integrity protected in all}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   packets.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   This version of QUIC does not incorporate a version negotiation}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   mechanism; implementations of incompatible versions will simply fail}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   to establish a connection.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#149"}}{\fldrslt {21.12.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#149"}}{\fldrslt {. }}} Protected Packets}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Packet protection {\field{\*\fldinst{HYPERLINK "#77"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#77"}}{\fldrslt {Section 12.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#77"}}{\fldrslt {) }}}provides authentication and}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   encryption of all packets except Version Negotiation packets, though}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Initial and Retry packets have limited encryption and authentication}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   based on version-specific keys; see {\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {QUIC-TLS}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {] }}}for more details.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   This section considers passive and active attacks against protected}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Both on-path and off-path attackers can mount a passive attack in}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   which they save observed packets for an offline attack against packet}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   protection at a future time; this is true for any observer of any}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet on any network.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-360\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 149]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2326\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2327\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#150"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   A blind attacker, one who injects packets without being able to}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   observe valid packets for a connection, is unlikely to be successful,}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   since packet protection ensures that valid packets are only generated}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   by endpoints which possess the key material established during the}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2893\*\tx4560\fs20\cf0\f1\charscalex100 {   handshake; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#38"}}{\fldrslt {Section 7}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#38"}}{\fldrslt { and}}}}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#148"}}{\fldrslt {Section 21.12.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#148"}}{\fldrslt {. }}} Similarly, any active}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   attacker that observes packets and attempts to insert new data or}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   modify existing data in those packets should not be able to generate}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets deemed valid by the receiving endpoint.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A spoofing attack, in which an active attacker rewrites unprotected}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   parts of a packet that it forwards or injects, such as the source or}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   destination address, is only effective if the attacker can forward}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   packets to the original endpoint.  Packet protection ensures that the}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   packet payloads can only be processed by the endpoints that completed}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the handshake, and invalid packets are ignored by those endpoints.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   An attacker can also modify the boundaries between packets and UDP}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   datagrams, causing multiple packets to be coalesced into a single}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   datagram, or splitting coalesced packets into multiple datagrams.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Aside from datagrams containing Initial packets, which require}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   padding, modification of how packets are arranged in datagrams has no}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   functional effect on a connection, although it might change some}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   performance characteristics.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#150"}}{\fldrslt {21.12.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#150"}}{\fldrslt {. }}} Connection Migration}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Connection Migration {\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {Section 9}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#54"}}{\fldrslt {) }}}provides endpoints with the ability}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   to transition between IP addresses and ports on multiple paths, using}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   one path at a time for transmission and receipt of non-probing}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   frames.  Path validation {\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt {(}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt {Section 8.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#52"}}{\fldrslt {) }}}establishes that a peer is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   both willing and able to receive packets sent on a particular path.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   This helps reduce the effects of address spoofing by limiting the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   number of packets sent to a spoofed address.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   This section describes the intended security properties of connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   migration when under various types of DoS attacks.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#150"}}{\fldrslt {21.12.3.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#150"}}{\fldrslt {. }}} On-Path Active Attacks}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   An attacker that can cause a packet it observes to no longer reach}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   its intended destination is considered an on-path attacker.  When an}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   attacker is present between a client and server, endpoints are}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   required to send packets through the attacker to establish}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   connectivity on a given path.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   An on-path attacker can:}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Inspect packets}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-306\slmult0 \fs20\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 150]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2328\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2329\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#151"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   *  Modify IP and UDP packet headers}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Inject new packets}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Delay packets}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Reorder packets}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Drop packets}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Split and merge datagrams along packet boundaries}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   An on-path attacker cannot:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Modify an authenticated portion of a packet and cause the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      recipient to accept that packet}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   An on-path attacker has the opportunity to modify the packets that it}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   observes, however any modifications to an authenticated portion of a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet will cause it to be dropped by the receiving endpoint as}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   invalid, as packet payloads are both authenticated and encrypted.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   In the presence of an on-path attacker, QUIC aims to provide the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   following properties:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   1.  An on-path attacker can prevent use of a path for a connection,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {       causing it to fail if it cannot use a different path that does}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {       not contain the attacker.  This can be achieved by dropping all}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {       packets, modifying them so that they fail to decrypt, or other}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {       methods.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   2.  An on-path attacker can prevent migration to a new path for which}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {       the attacker is also on-path by causing path validation to fail}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {       on the new path.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   3.  An on-path attacker cannot prevent a client from migrating to a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {       path for which the attacker is not on-path.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   4.  An on-path attacker can reduce the throughput of a connection by}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {       delaying packets or dropping them.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   5.  An on-path attacker cannot cause an endpoint to accept a packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {       for which it has modified an authenticated portion of that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {       packet.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-186\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 151]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2330\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2331\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#152"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#152"}}{\fldrslt {21.12.3.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#152"}}{\fldrslt {. }}} Off-Path Active Attacks}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An off-path attacker is not directly on the path between a client and}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   server, but could be able to obtain copies of some or all packets}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   sent between the client and the server.  It is also able to send}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   copies of those packets to either endpoint.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An off-path attacker can:}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Inspect packets}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Inject new packets}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Reorder injected packets}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An off-path attacker cannot:}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Modify any part of a packet}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Delay packets}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Drop packets}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Reorder original packets}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   An off-path attacker can modify packets that it has observed and}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   inject them back into the network, potentially with spoofed source}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   and destination addresses.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   For the purposes of this discussion, it is assumed that an off-path}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   attacker has the ability to observe, modify, and re-inject a packet}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   into the network that will reach the destination endpoint prior to}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the arrival of the original packet observed by the attacker.  In}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   other words, an attacker has the ability to consistently "win" a race}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   with the legitimate packets between the endpoints, potentially}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   causing the original packet to be ignored by the recipient.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   It is also assumed that an attacker has the resources necessary to}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   affect NAT state, potentially both causing an endpoint to lose its}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   NAT binding, and an attacker to obtain the same port for use with its}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   traffic.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   In the presence of an off-path attacker, QUIC aims to provide the}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   following properties:}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   1.  An off-path attacker can race packets and attempt to become a}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {       "limited" on-path attacker.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-333\slmult0 \fs20\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 152]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2332\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2333\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#153"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   2.  An off-path attacker can cause path validation to succeed for}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {       forwarded packets with the source address listed as the off-path}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {       attacker as long as it can provide improved connectivity between}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {       the client and the server.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   3.  An off-path attacker cannot cause a connection to close once the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {       handshake has completed.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   4.  An off-path attacker cannot cause migration to a new path to fail}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {       if it cannot observe the new path.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   5.  An off-path attacker can become a limited on-path attacker during}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {       migration to a new path for which it is also an off-path}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {       attacker.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   6.  An off-path attacker can become a limited on-path attacker by}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {       affecting shared NAT state such that it sends packets to the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {       server from the same IP address and port that the client}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {       originally used.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#153"}}{\fldrslt {21.12.3.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#153"}}{\fldrslt {. }}} Limited On-Path Active Attacks}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A limited on-path attacker is an off-path attacker that has offered}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   improved routing of packets by duplicating and forwarding original}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets between the server and the client, causing those packets to}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   arrive before the original copies such that the original packets are}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   dropped by the destination endpoint.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A limited on-path attacker differs from an on-path attacker in that}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   it is not on the original path between endpoints, and therefore the}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   original packets sent by an endpoint are still reaching their}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   destination.  This means that a future failure to route copied}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packets to the destination faster than their original path will not}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   prevent the original packets from reaching the destination.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A limited on-path attacker can:}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Inspect packets}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Inject new packets}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Modify unencrypted packet headers}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Reorder packets}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A limited on-path attacker cannot:}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-360\slmult0 \fs20\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 153]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2334\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2335\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   *  Delay packets so that they arrive later than packets sent on the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      original path}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Drop packets}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Modify the authenticated and encrypted portion of a packet and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      cause the recipient to accept that packet}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A limited on-path attacker can only delay packets up to the point}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that the original packets arrive before the duplicate packets,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   meaning that it cannot offer routing with worse latency than the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   original path.  If a limited on-path attacker drops packets, the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   original copy will still arrive at the destination endpoint.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   In the presence of a limited on-path attacker, QUIC aims to provide}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the following properties:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   1.  A limited on-path attacker cannot cause a connection to close}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {       once the handshake has completed.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   2.  A limited on-path attacker cannot cause an idle connection to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {       close if the client is first to resume activity.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   3.  A limited on-path attacker can cause an idle connection to be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {       deemed lost if the server is the first to resume activity.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Note that these guarantees are the same guarantees provided for any}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   NAT, for the same reasons.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt {22}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt {. }}} IANA Considerations}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   This document establishes several registries for the management of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   codepoints in QUIC.  These registries operate on a common set of}\par\pard\li760\ri0\sl-226\slmult0 \*\tx3840\fs20\cf0\f1\charscalex100 {   policies as defined in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt {Section 22.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt {22.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt {. }}} Registration Policies for QUIC Registries}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   All QUIC registries allow for both provisional and permanent}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   registration of codepoints.  This section documents policies that are}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   common to these registries.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt {22.1.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt {. }}} Provisional Registrations}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Provisional registration of codepoints are intended to allow for}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   private use and experimentation with extensions to QUIC.  Provisional}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   registrations only require the inclusion of the codepoint value and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   contact information.  However, provisional registrations could be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   reclaimed and reassigned for another purpose.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 154]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2336\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2337\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#155"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   Provisional registrations require Expert Review, as defined in}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8126#section-4.5"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8126#section-4.5"}}{\fldrslt {Section 4.5 of [RFC8126]}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8126#section-4.5"}}{\fldrslt {. }}} Designated expert(s) are advised that only}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   registrations for an excessive proportion of remaining codepoint}\par\pard\li760\ri0\sl-240\slmult0 \*\tx6573\fs20\cf0\f1\charscalex100 {   space or the very first unassigned value (see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#155"}}{\fldrslt {Section 22.1.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#155"}}{\fldrslt {) }}}can be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   rejected.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Provisional registrations will include a date field that indicates}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   when the registration was last updated.  A request to update the date}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   on any provisional registration can be made without review from the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   designated expert(s).}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   All QUIC registries include the following fields to support}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   provisional registration:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Value:  The assigned codepoint.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Status:  "Permanent" or "Provisional".}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   Specification:  A reference to a publicly available specification for}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      the value.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Date:  The date of last update to the registration.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Contact:  Contact details for the registrant.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Notes:  Supplementary notes about the registration.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Provisional registrations MAY omit the Specification and Notes}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   fields, plus any additional fields that might be required for a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   permanent registration.  The Date field is not required as part of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   requesting a registration as it is set to the date the registration}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   is created or updated.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#155"}}{\fldrslt {22.1.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#155"}}{\fldrslt {. }}} Selecting Codepoints}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   New uses of codepoints from QUIC registries SHOULD use a randomly}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   selected codepoint that excludes both existing allocations and the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   first unallocated codepoint in the selected space.  Requests for}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   multiple codepoints MAY use a contiguous range.  This minimizes the}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   risk that differing semantics are attributed to the same codepoint by}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   different implementations.  Use of the first codepoint in a range is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   intended for use by specifications that are developed through the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   standards process {\field{\*\fldinst{HYPERLINK "#164"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#164"}}{\fldrslt {STD}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#164"}}{\fldrslt {] }}}and its allocation MUST be negotiated with}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   IANA before use.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-186\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 155]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2338\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2339\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#156"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   For codepoints that are encoded in variable-length integers}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {  {\field{\*\fldinst{HYPERLINK "#100"}}{\fldrslt { (}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#100"}}{\fldrslt {Section 16}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#100"}}{\fldrslt {), }}}such as frame types, codepoints that encode to four or}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   eight bytes (that is, values 2^14 and above) SHOULD be used unless}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   the usage is especially sensitive to having a longer encoding.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Applications to register codepoints in QUIC registries MAY include a}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   codepoint as part of the registration.  IANA MUST allocate the}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   selected codepoint unless that codepoint is already assigned or the}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   codepoint is the first unallocated codepoint in the registry.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#156"}}{\fldrslt {22.1.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#156"}}{\fldrslt {. }}} Reclaiming Provisional Codepoints}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   A request might be made to remove an unused provisional registration}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   from the registry to reclaim space in a registry, or portion of the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   registry (such as the 64-16383 range for codepoints that use}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   variable-length encodings).  This SHOULD be done only for the}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   codepoints with the earliest recorded date and entries that have been}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   updated less than a year prior SHOULD NOT be reclaimed.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   A request to remove a codepoint MUST be reviewed by the designated}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   expert(s).  The expert(s) MUST attempt to determine whether the}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   codepoint is still in use.  Experts are advised to contact the listed}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   contacts for the registration, plus as wide a set of protocol}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   implementers as possible in order to determine whether any use of the}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   codepoint is known.  The expert(s) are advised to allow at least four}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   weeks for responses.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   If any use of the codepoints is identified by this search or a}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   request to update the registration is made, the codepoint MUST NOT be}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   reclaimed.  Instead, the date on the registration is updated.  A note}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   might be added for the registration recording relevant information}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   that was learned.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   If no use of the codepoint was identified and no request was made to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   update the registration, the codepoint MAY be removed from the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   registry.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   This process also applies to requests to change a provisional}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   registration into a permanent registration, except that the goal is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   not to determine whether there is no use of the codepoint, but to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   determine that the registration is an accurate representation of any}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   deployed usage.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 156]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2340\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2341\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#157"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#157"}}{\fldrslt {22.1.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#157"}}{\fldrslt {. }}} Permanent Registrations}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Permanent registrations in QUIC registries use the Specification}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Required policy {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8126"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8126"}}{\fldrslt {RFC8126}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8126"}}{\fldrslt {], }}}unless otherwise specified.  The}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   designated expert(s) verify that a specification exists and is}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   readily accessible.  Expert(s) are encouraged to be biased towards}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   approving registrations unless they are abusive, frivolous, or}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   actively harmful (not merely aesthetically displeasing, or}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   architecturally dubious).  The creation of a registry MAY specify}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   additional constraints on permanent registrations.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   The creation of a registries MAY identify a range of codepoints where}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   registrations are governed by a different registration policy.  For}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   instance, the registries for 62-bit codepoints in this document have}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   stricter policies for codepoints in the range from 0 to 63.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Any stricter requirements for permanent registrations do not prevent}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   provisional registrations for affected codepoints.  For instance, a}\par\pard\li760\ri0\sl-240\slmult0 \*\tx6093\fs20\cf0\f1\charscalex100 {   provisional registration for a frame type}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#158"}}{\fldrslt {Section 22.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#158"}}{\fldrslt { of }}}61 could be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   requested.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   All registrations made by Standards Track publications MUST be}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   permanent.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   All registrations in this document are assigned a permanent status}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   and list as contact both the IESG (ietf@ietf.org) and the QUIC}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   working group (quic@ietf.org (mailto:quic@ietf.org)).}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#157"}}{\fldrslt {22.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#157"}}{\fldrslt {. }}} QUIC Transport Parameter Registry}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   IANA [SHALL add/has added] a registry for "QUIC Transport Parameters"}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   under a "QUIC" heading.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The "QUIC Transport Parameters" registry governs a 62-bit space.}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7173\fs20\cf0\f1\charscalex100 {   This registry follows the registration policy from}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt {Section 22.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Permanent registrations in this registry are assigned using the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Specification Required policy {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8126"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8126"}}{\fldrslt {RFC8126}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8126"}}{\fldrslt {].}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \*\tx4560\fs20\cf0\f1\charscalex100 {   In addition to the fields in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt {Section 22.1.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt {, }}}permanent registrations}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   in this registry MUST include the following fields:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Parameter Name:  A short mnemonic for the parameter.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The initial contents of this registry are shown in Table 6.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-186\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 157]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2342\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2343\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#158"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+-------------------------------------+---------------+}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      | Value | Parameter Name                      | Specification |}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      +=======+=====================================+===============+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7173\fs20\cf0\f1\charscalex100 {      | 0x00  | original_destination_connection_id  |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {Section 18.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {  }}}|}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+-------------------------------------+---------------+}\par\pard\li760\ri0\sl-226\slmult0 \*\tx7173\fs20\cf0\f1\charscalex100 {      | 0x01  | max_idle_timeout                    |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {Section 18.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {  }}}|}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+-------------------------------------+---------------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7173\fs20\cf0\f1\charscalex100 {      | 0x02  | stateless_reset_token               |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {Section 18.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {  }}}|}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+-------------------------------------+---------------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7173\fs20\cf0\f1\charscalex100 {      | 0x03  | max_udp_payload_size                |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {Section 18.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {  }}}|}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+-------------------------------------+---------------+}\par\pard\li760\ri0\sl-226\slmult0 \*\tx7173\fs20\cf0\f1\charscalex100 {      | 0x04  | initial_max_data                    |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {Section 18.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {  }}}|}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+-------------------------------------+---------------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7173\fs20\cf0\f1\charscalex100 {      | 0x05  | initial_max_stream_data_bidi_local  |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {Section 18.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {  }}}|}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+-------------------------------------+---------------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7173\fs20\cf0\f1\charscalex100 {      | 0x06  | initial_max_stream_data_bidi_remote |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {Section 18.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {  }}}|}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+-------------------------------------+---------------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7173\fs20\cf0\f1\charscalex100 {      | 0x07  | initial_max_stream_data_uni         |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {Section 18.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {  }}}|}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+-------------------------------------+---------------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7173\fs20\cf0\f1\charscalex100 {      | 0x08  | initial_max_streams_bidi            |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {Section 18.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {  }}}|}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+-------------------------------------+---------------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7173\fs20\cf0\f1\charscalex100 {      | 0x09  | initial_max_streams_uni             |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {Section 18.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {  }}}|}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+-------------------------------------+---------------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7173\fs20\cf0\f1\charscalex100 {      | 0x0a  | ack_delay_exponent                  |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {Section 18.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {  }}}|}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+-------------------------------------+---------------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7173\fs20\cf0\f1\charscalex100 {      | 0x0b  | max_ack_delay                       |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {Section 18.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {  }}}|}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+-------------------------------------+---------------+}\par\pard\li760\ri0\sl-226\slmult0 \*\tx7173\fs20\cf0\f1\charscalex100 {      | 0x0c  | disable_active_migration            |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {Section 18.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {  }}}|}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+-------------------------------------+---------------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7173\fs20\cf0\f1\charscalex100 {      | 0x0d  | preferred_address                   |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {Section 18.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {  }}}|}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+-------------------------------------+---------------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7173\fs20\cf0\f1\charscalex100 {      | 0x0e  | active_connection_id_limit          |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {Section 18.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {  }}}|}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+-------------------------------------+---------------+}\par\pard\li760\ri0\sl-226\slmult0 \*\tx7173\fs20\cf0\f1\charscalex100 {      | 0x0f  | initial_source_connection_id        |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {Section 18.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {  }}}|}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+-------------------------------------+---------------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7173\fs20\cf0\f1\charscalex100 {      | 0x10  | retry_source_connection_id          |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {Section 18.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#117"}}{\fldrslt {  }}}|}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      +-------+-------------------------------------+---------------+}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {             Table 6: Initial QUIC Transport Parameters Entries}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Additionally, each value of the format "31 * N + 27" for integer}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   values of N (that is, 27, 58, 89, ...) are reserved and MUST NOT be}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   assigned by IANA.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#158"}}{\fldrslt {22.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#158"}}{\fldrslt {. }}} QUIC Frame Type Registry}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   IANA [SHALL add/has added] a registry for "QUIC Frame Types" under a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   "QUIC" heading.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 158]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2344\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2345\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#159"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   The "QUIC Frame Types" registry governs a 62-bit space.  This}\par\pard\li760\ri0\sl-240\slmult0 \*\tx6573\fs20\cf0\f1\charscalex100 {   registry follows the registration policy from}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt {Section 22.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt {.}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Permanent registrations in this registry are assigned using the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Specification Required policy {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8126"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8126"}}{\fldrslt {RFC8126}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8126"}}{\fldrslt {], }}}except for values between}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   0x00 and 0x3f (in hexadecimal; inclusive), which are assigned using}\par\pard\li760\ri0\sl-226\slmult0 \*\tx6813\fs20\cf0\f1\charscalex100 {   Standards Action or IESG Approval as defined in}\tab \fs20\cf1\f1\charscalex100 {Section 4.9}\fs20\cf0\f1\charscalex100 { and 4.10}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   of {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8126"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8126"}}{\fldrslt {RFC8126}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8126"}}{\fldrslt {].}}}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \*\tx4560\fs20\cf0\f1\charscalex100 {   In addition to the fields in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt {Section 22.1.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt {, }}}permanent registrations}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   in this registry MUST include the following fields:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Frame Name:  A short mnemonic for the frame type.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx4560\fs20\cf0\f1\charscalex100 {   In addition to the advice in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt {Section 22.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt {, }}}specifications for new}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   permanent registrations SHOULD describe the means by which an}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   endpoint might determine that it can send the identified type of}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   frame.  An accompanying transport parameter registration is expected}\par\pard\li760\ri0\sl-240\slmult0 \*\tx4440\fs20\cf0\f1\charscalex100 {   for most registrations; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#157"}}{\fldrslt {Section 22.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#157"}}{\fldrslt {. }}} Specifications for}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   permanent registrations also needs to describe the format and}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   assigned semantics of any fields in the frame.}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The initial contents of this registry are tabulated in Table 3.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#159"}}{\fldrslt {22.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#159"}}{\fldrslt {. }}} QUIC Transport Error Codes Registry}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   IANA [SHALL add/has added] a registry for "QUIC Transport Error}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Codes" under a "QUIC" heading.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The "QUIC Transport Error Codes" registry governs a 62-bit space.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   This space is split into three spaces that are governed by different}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   policies.  Permanent registrations in this registry are assigned}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   using the Specification Required policy {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8126"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8126"}}{\fldrslt {RFC8126}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8126"}}{\fldrslt {], }}}except for values}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   between 0x00 and 0x3f (in hexadecimal; inclusive), which are assigned}\par\pard\li760\ri0\sl-226\slmult0 \*\tx7520\fs20\cf0\f1\charscalex100 {   using Standards Action or IESG Approval as defined in}\tab \fs20\cf1\f1\charscalex100 {Section 4.9}\fs20\cf0\f1\charscalex100 { and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   4.10 of {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8126"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8126"}}{\fldrslt {RFC8126}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8126"}}{\fldrslt {].}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx4560\fs20\cf0\f1\charscalex100 {   In addition to the fields in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt {Section 22.1.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#154"}}{\fldrslt {, }}}permanent registrations}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   in this registry MUST include the following fields:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Code:  A short mnemonic for the parameter.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Description:  A brief description of the error code semantics, which}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      MAY be a summary if a specification reference is provided.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The initial contents of this registry are shown in Table 7.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-173\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 159]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2346\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2347\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#160"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs18\cf0\f1\charscalex100 {   +------+---------------------------+----------------+---------------+}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   |Value | Error                     | Description    | Specification |}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   +======+===========================+================+===============+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7520\fs20\cf0\f1\charscalex100 {   | 0x0  | NO_ERROR                  | No error       |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {Section 20}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {  }}}  |}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   +------+---------------------------+----------------+---------------+}\par\pard\li760\ri0\sl-226\slmult0 \*\tx7520\fs20\cf0\f1\charscalex100 {   | 0x1  | INTERNAL_ERROR            | Implementation |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {Section 20}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {  }}}  |}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   |      |                           | error          |               |}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   +------+---------------------------+----------------+---------------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7520\fs20\cf0\f1\charscalex100 {   | 0x2  | CONNECTION_REFUSED_ERROR  |Server refuses a|}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {Section 20}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {  }}}  |}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   |      |                           | connection     |               |}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   +------+---------------------------+----------------+---------------+}\par\pard\li760\ri0\sl-226\slmult0 \*\tx7520\fs20\cf0\f1\charscalex100 {   | 0x3  | FLOW_CONTROL_ERROR        | Flow control   |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {Section 20}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {  }}}  |}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   |      |                           | error          |               |}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   +------+---------------------------+----------------+---------------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7520\fs20\cf0\f1\charscalex100 {   | 0x4  | STREAM_LIMIT_ERROR        |Too many streams|}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {Section 20}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {  }}}  |}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   |      |                           | opened         |               |}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   +------+---------------------------+----------------+---------------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7520\fs20\cf0\f1\charscalex100 {   | 0x5  | STREAM_STATE_ERROR        | Frame received |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {Section 20}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {  }}}  |}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   |      |                           | in invalid     |               |}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   |      |                           | stream state   |               |}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   +------+---------------------------+----------------+---------------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7520\fs20\cf0\f1\charscalex100 {   | 0x6  | FINAL_SIZE_ERROR          |Change to final |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {Section 20}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {  }}}  |}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   |      |                           | size           |               |}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   +------+---------------------------+----------------+---------------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7520\fs20\cf0\f1\charscalex100 {   | 0x7  | FRAME_ENCODING_ERROR      | Frame encoding |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {Section 20}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {  }}}  |}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   |      |                           | error          |               |}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   +------+---------------------------+----------------+---------------+}\par\pard\li760\ri0\sl-226\slmult0 \*\tx7520\fs20\cf0\f1\charscalex100 {   | 0x8  | TRANSPORT_PARAMETER_ERROR | Error in       |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {Section 20}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {  }}}  |}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   |      |                           | transport      |               |}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   |      |                           | parameters     |               |}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   +------+---------------------------+----------------+---------------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7520\fs20\cf0\f1\charscalex100 {   | 0x9  | CONNECTION_ID_LIMIT_ERROR | Too many       |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {Section 20}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {  }}}  |}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   |      |                           | connection IDs |               |}\par\pard\li760\ri0\sl-226\slmult0 \fs18\cf0\f1\charscalex100 {   |      |                           | received       |               |}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   +------+---------------------------+----------------+---------------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7520\fs20\cf0\f1\charscalex100 {   | 0xA  | PROTOCOL_VIOLATION        |Generic protocol|}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {Section 20}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {  }}}  |}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   |      |                           | violation      |               |}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   +------+---------------------------+----------------+---------------+}\par\pard\li760\ri0\sl-226\slmult0 \*\tx7520\fs20\cf0\f1\charscalex100 {   | 0xB  | INVALID_TOKEN             | Invalid Token  |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {Section 20}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {  }}}  |}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   |      |                           | Received       |               |}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   +------+---------------------------+----------------+---------------+}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7520\fs20\cf0\f1\charscalex100 {   | 0xC  | APPLICATION_ERROR         | Application    |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {Section 20}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {  }}}  |}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   |      |                           | error          |               |}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   +------+---------------------------+----------------+---------------+}\par\pard\li760\ri0\sl-226\slmult0 \*\tx7520\fs20\cf0\f1\charscalex100 {   | 0xD  | CRYPTO_BUFFER_EXCEEDED    | CRYPTO data    |}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {Section 20}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#140"}}{\fldrslt {  }}}  |}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   |      |                           | buffer         |               |}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   |      |                           | overflowed     |               |}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   +------+---------------------------+----------------+---------------+}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 160]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2348\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2349\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {            Table 7: Initial QUIC Transport Error Codes Entries}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {23}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {. }}} References}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {23.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#161"}}{\fldrslt {. }}} Normative References}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   [DPLPMTUD] Fairhurst, G., Jones, T., Tuexen, M., Ruengeler, I., and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              T. Voelker, "Packetization Layer Path MTU Discovery for}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              Datagram Transports", Work in Progress, Internet-Draft,}\par\pard\li2413\ri0\sl-240\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-tsvwg-datagram-plpmtud-21"}}{\fldrslt {draft-ietf-tsvwg-datagram-plpmtud-21}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-tsvwg-datagram-plpmtud-21"}}{\fldrslt {, }}}12 May 2020,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              {\field{\*\fldinst{HYPERLINK "http://www.ietf.org/internet-drafts/draft-ietf-tsvwg-datagram-plpmtud-21.txt"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "http://www.ietf.org/internet-drafts/draft-ietf-tsvwg-datagram-plpmtud-21.txt"}}{\fldrslt {http://www.ietf.org/internet-drafts/draft-ietf-tsvwg-}}}}\par\pard\li2413\ri0\sl-226\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "http://www.ietf.org/internet-drafts/draft-ietf-tsvwg-datagram-plpmtud-21.txt"}}{\fldrslt {datagram-plpmtud-21.txt}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "http://www.ietf.org/internet-drafts/draft-ietf-tsvwg-datagram-plpmtud-21.txt"}}{\fldrslt {>.}}}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \*\tx7173\fs20\cf0\f1\charscalex100 {   [IPv4]     Postel, J., "Internet Protocol", STD 5,}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc791"}}{\fldrslt {RFC 791}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc791"}}{\fldrslt {,}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              DOI 10.17487/RFC0791, September 1981,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              {\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc791"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc791"}}{\fldrslt {https://www.rfc-editor.org/info/rfc791}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc791"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   [QUIC-RECOVERY]}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              Iyengar, J., Ed. and I. Swett, Ed., "QUIC Loss Detection}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {              and Congestion Control", Work in Progress, Internet-Draft,}\par\pard\li2413\ri0\sl-240\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-recovery-29"}}{\fldrslt {draft-ietf-quic-recovery-29}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-recovery-29"}}{\fldrslt {, }}}10 June 2020,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/html/draft-ietf-quic-recovery-29"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/html/draft-ietf-quic-recovery-29"}}{\fldrslt {https://tools.ietf.org/html/draft-ietf-quic-recovery-29}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/html/draft-ietf-quic-recovery-29"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   [QUIC-TLS] Thomson, M., Ed. and S. Turner, Ed., "Using Transport}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              Layer Security (TLS) to Secure QUIC", Work in Progress,}\par\pard\li760\ri0\sl-240\slmult0 \*\tx4320\fs20\cf0\f1\charscalex100 {              Internet-Draft,}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-tls-29"}}{\fldrslt {draft-ietf-quic-tls-29}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-tls-29"}}{\fldrslt {, }}}10 June 2020,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/html/draft-ietf-quic-tls-29"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/html/draft-ietf-quic-tls-29"}}{\fldrslt {https://tools.ietf.org/html/draft-ietf-quic-tls-29}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/html/draft-ietf-quic-tls-29"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   [RFC1191]  Mogul, J.C. and S.E. Deering, "Path MTU discovery",}\par\pard\li2413\ri0\sl-240\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc1191"}}{\fldrslt {RFC 1191}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc1191"}}{\fldrslt {, }}}DOI 10.17487/RFC1191, November 1990,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              {\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc1191"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc1191"}}{\fldrslt {https://www.rfc-editor.org/info/rfc1191}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc1191"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate}\par\pard\li760\ri0\sl-226\slmult0 \*\tx4906\*\tx5866\fs20\cf0\f1\charscalex100 {              Requirement Levels",}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/bcp14"}}{\fldrslt {BCP 14}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/bcp14"}}{\fldrslt {,}}}}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc2119"}}{\fldrslt {RFC 2119}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc2119"}}{\fldrslt {,}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              DOI 10.17487/RFC2119, March 1997,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              {\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc2119"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc2119"}}{\fldrslt {https://www.rfc-editor.org/info/rfc2119}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc2119"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   [RFC3168]  Ramakrishnan, K., Floyd, S., and D. Black, "The Addition}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {              of Explicit Congestion Notification (ECN) to IP",}\par\pard\li2413\ri0\sl-240\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc3168"}}{\fldrslt {RFC 3168}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc3168"}}{\fldrslt {, }}}DOI 10.17487/RFC3168, September 2001,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              {\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc3168"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc3168"}}{\fldrslt {https://www.rfc-editor.org/info/rfc3168}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc3168"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   [RFC3629]  Yergeau, F., "UTF-8, a transformation format of ISO}\par\pard\li760\ri0\sl-240\slmult0 \*\tx4320\fs20\cf0\f1\charscalex100 {              10646", STD 63,}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc3629"}}{\fldrslt {RFC 3629}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc3629"}}{\fldrslt {, }}}DOI 10.17487/RFC3629, November}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {              2003, {\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc3629"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc3629"}}{\fldrslt {https://www.rfc-editor.org/info/rfc3629}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc3629"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-173\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 161]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2350\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2351\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#162"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   [RFC4086]  Eastlake 3rd, D., Schiller, J., and S. Crocker,}\par\pard\li760\ri0\sl-240\slmult0 \*\tx7173\*\tx8240\fs20\cf0\f1\charscalex100 {              "Randomness Requirements for Security",}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/bcp106"}}{\fldrslt {BCP 106}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/bcp106"}}{\fldrslt {,}}}}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc4086"}}{\fldrslt {RFC 4086}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc4086"}}{\fldrslt {,}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              DOI 10.17487/RFC4086, June 2005,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              {\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc4086"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc4086"}}{\fldrslt {https://www.rfc-editor.org/info/rfc4086}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc4086"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   [RFC5116]  McGrew, D., "An Interface and Algorithms for Authenticated}\par\pard\li760\ri0\sl-240\slmult0 \*\tx3960\fs20\cf0\f1\charscalex100 {              Encryption",}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc5116"}}{\fldrslt {RFC 5116}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc5116"}}{\fldrslt {, }}}DOI 10.17487/RFC5116, January 2008,}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              {\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc5116"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc5116"}}{\fldrslt {https://www.rfc-editor.org/info/rfc5116}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc5116"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   [RFC6437]  Amante, S., Carpenter, B., Jiang, S., and J. Rajahalme,}\par\pard\li760\ri0\sl-240\slmult0 \*\tx6333\fs20\cf0\f1\charscalex100 {              "IPv6 Flow Label Specification",}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc6437"}}{\fldrslt {RFC 6437}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc6437"}}{\fldrslt {,}}}}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {              DOI 10.17487/RFC6437, November 2011,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              {\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc6437"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc6437"}}{\fldrslt {https://www.rfc-editor.org/info/rfc6437}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc6437"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   [RFC8085]  Eggert, L., Fairhurst, G., and G. Shepherd, "UDP Usage}\par\pard\li760\ri0\sl-240\slmult0 \*\tx3960\*\tx5026\fs20\cf0\f1\charscalex100 {              Guidelines",}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/bcp145"}}{\fldrslt {BCP 145}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/bcp145"}}{\fldrslt {,}}}}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8085"}}{\fldrslt {RFC 8085}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8085"}}{\fldrslt {, }}}DOI 10.17487/RFC8085,}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {              March 2017, {\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc8085"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc8085"}}{\fldrslt {https://www.rfc-editor.org/info/rfc8085}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc8085"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   [RFC8126]  Cotton, M., Leiba, B., and T. Narten, "Guidelines for}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8240\fs20\cf0\f1\charscalex100 {              Writing an IANA Considerations Section in RFCs",}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/bcp26"}}{\fldrslt {BCP 26}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/bcp26"}}{\fldrslt {,}}}}\par\pard\li2413\ri0\sl-240\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8126"}}{\fldrslt {RFC 8126}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8126"}}{\fldrslt {, }}}DOI 10.17487/RFC8126, June 2017,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              {\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc8126"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc8126"}}{\fldrslt {https://www.rfc-editor.org/info/rfc8126}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc8126"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \*\tx8480\fs20\cf0\f1\charscalex100 {   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc2119"}}{\fldrslt {RFC}}}}\par\pard\li2413\ri0\sl-240\slmult0 \*\tx4440\*\tx5386\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc2119"}}{\fldrslt {2119}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc2119"}}{\fldrslt { Key }}}Words",}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/bcp14"}}{\fldrslt {BCP 14}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/bcp14"}}{\fldrslt {,}}}}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8174"}}{\fldrslt {RFC 8174}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8174"}}{\fldrslt {, }}}DOI 10.17487/RFC8174,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              May 2017, {\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc8174"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc8174"}}{\fldrslt {https://www.rfc-editor.org/info/rfc8174}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc8174"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   [RFC8201]  McCann, J., Deering, S., Mogul, J., and R. Hinden, Ed.,}\par\pard\li760\ri0\sl-240\slmult0 \*\tx8000\fs20\cf0\f1\charscalex100 {              "Path MTU Discovery for IP version 6", STD 87,}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8201"}}{\fldrslt {RFC 8201}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8201"}}{\fldrslt {,}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              DOI 10.17487/RFC8201, July 2017,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              {\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc8201"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc8201"}}{\fldrslt {https://www.rfc-editor.org/info/rfc8201}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc8201"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   [RFC8311]  Black, D., "Relaxing Restrictions on Explicit Congestion}\par\pard\li760\ri0\sl-226\slmult0 \*\tx6813\fs20\cf0\f1\charscalex100 {              Notification (ECN) Experimentation",}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8311"}}{\fldrslt {RFC 8311}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8311"}}{\fldrslt {,}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              DOI 10.17487/RFC8311, January 2018,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              {\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc8311"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc8311"}}{\fldrslt {https://www.rfc-editor.org/info/rfc8311}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc8311"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   [TLS13]    Rescorla, E., "The Transport Layer Security (TLS) Protocol}\par\pard\li760\ri0\sl-226\slmult0 \*\tx4080\fs20\cf0\f1\charscalex100 {              Version 1.3",}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8446"}}{\fldrslt {RFC 8446}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8446"}}{\fldrslt {, }}}DOI 10.17487/RFC8446, August 2018,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              {\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc8446"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc8446"}}{\fldrslt {https://www.rfc-editor.org/info/rfc8446}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc8446"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#162"}}{\fldrslt {23.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#162"}}{\fldrslt {. }}} Informative References}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   [ALTSVC]   Nottingham, M., McManus, P., and J. Reschke, "HTTP}\par\pard\li760\ri0\sl-226\slmult0 \*\tx5146\fs20\cf0\f1\charscalex100 {              Alternative Services",}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc7838"}}{\fldrslt {RFC 7838}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc7838"}}{\fldrslt {, }}}DOI 10.17487/RFC7838,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              April 2016, {\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc7838"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc7838"}}{\fldrslt {https://www.rfc-editor.org/info/rfc7838}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc7838"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-360\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 162]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2352\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2353\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#163"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   [EARLY-DESIGN]}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              Roskind, J., "QUIC: Multiplexed Transport Over UDP", 2}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              December 2013, {\field{\*\fldinst{HYPERLINK "https://goo.gl/dMVtFi"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://goo.gl/dMVtFi"}}{\fldrslt {https://goo.gl/dMVtFi}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://goo.gl/dMVtFi"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   [HTTP2]    Belshe, M., Peon, R., and M. Thomson, Ed., "Hypertext}\par\pard\li760\ri0\sl-226\slmult0 \*\tx7053\fs20\cf0\f1\charscalex100 {              Transfer Protocol Version 2 (HTTP/2)",}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc7540"}}{\fldrslt {RFC 7540}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc7540"}}{\fldrslt {,}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              DOI 10.17487/RFC7540, May 2015,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              {\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc7540"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc7540"}}{\fldrslt {https://www.rfc-editor.org/info/rfc7540}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc7540"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   [QUIC-INVARIANTS]}\par\pard\li760\ri0\sl-240\slmult0 \*\tx3960\fs20\cf0\f1\charscalex100 {              Thomson, M.,}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.google.com/search?sitesearch=tools.ietf.org%2Fhtml%2F&q=inurl:draft-+%22Version-Independent+Properties+of+QUIC%22"}}{\fldrslt {"Version-Independent Properties of QUIC"}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.google.com/search?sitesearch=tools.ietf.org%2Fhtml%2F&q=inurl:draft-+%22Version-Independent+Properties+of+QUIC%22"}}{\fldrslt {,}}}}\par\pard\li760\ri0\sl-226\slmult0 \*\tx6453\fs20\cf0\f1\charscalex100 {              Work in Progress, Internet-Draft,}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-invariants-09"}}{\fldrslt {draft-ietf-quic-}}}}\par\pard\li2413\ri0\sl-240\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-invariants-09"}}{\fldrslt {invariants-09}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-invariants-09"}}{\fldrslt {, }}}10 June 2020, {\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/html/draft-ietf-quic-invariants-09"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/html/draft-ietf-quic-invariants-09"}}{\fldrslt {https://tools.ietf.org/html/}}}}\par\pard\li2413\ri0\sl-240\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/html/draft-ietf-quic-invariants-09"}}{\fldrslt {draft-ietf-quic-invariants-09}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/html/draft-ietf-quic-invariants-09"}}{\fldrslt {>.}}}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   [QUIC-MANAGEABILITY]}\par\pard\li746\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {              Kuehlewind, M. and B. Trammell, "Manageability of the QUIC}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              Transport Protocol", Work in Progress, Internet-Draft,}\par\pard\li2413\ri0\sl-240\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-manageability-06"}}{\fldrslt {draft-ietf-quic-manageability-06}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-manageability-06"}}{\fldrslt {, }}}6 January 2020,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              {\field{\*\fldinst{HYPERLINK "http://www.ietf.org/internet-drafts/draft-ietf-quic-manageability-06.txt"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "http://www.ietf.org/internet-drafts/draft-ietf-quic-manageability-06.txt"}}{\fldrslt {http://www.ietf.org/internet-drafts/draft-ietf-quic-}}}}\par\pard\li2413\ri0\sl-240\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "http://www.ietf.org/internet-drafts/draft-ietf-quic-manageability-06.txt"}}{\fldrslt {manageability-06.txt}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "http://www.ietf.org/internet-drafts/draft-ietf-quic-manageability-06.txt"}}{\fldrslt {>.}}}}\par\pard\li746\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li746\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   [RFC1812]  Baker, F., Ed., "Requirements for IP Version 4 Routers",}\par\pard\li2413\ri0\sl-240\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc1812"}}{\fldrslt {RFC 1812}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc1812"}}{\fldrslt {, }}}DOI 10.17487/RFC1812, June 1995,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              {\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc1812"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc1812"}}{\fldrslt {https://www.rfc-editor.org/info/rfc1812}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc1812"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   [RFC2018]  Mathis, M., Mahdavi, J., Floyd, S., and A. Romanow, "TCP}\par\pard\li760\ri0\sl-226\slmult0 \*\tx6573\fs20\cf0\f1\charscalex100 {              Selective Acknowledgment Options",}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc2018"}}{\fldrslt {RFC 2018}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc2018"}}{\fldrslt {,}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              DOI 10.17487/RFC2018, October 1996,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              {\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc2018"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc2018"}}{\fldrslt {https://www.rfc-editor.org/info/rfc2018}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc2018"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   [RFC2104]  Krawczyk, H., Bellare, M., and R. Canetti, "HMAC: Keyed-}\par\pard\li760\ri0\sl-240\slmult0 \*\tx6813\fs20\cf0\f1\charscalex100 {              Hashing for Message Authentication",}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc2104"}}{\fldrslt {RFC 2104}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc2104"}}{\fldrslt {,}}}}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {              DOI 10.17487/RFC2104, February 1997,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              {\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc2104"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc2104"}}{\fldrslt {https://www.rfc-editor.org/info/rfc2104}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc2104"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   [RFC3449]  Balakrishnan, H., Padmanabhan, V., Fairhurst, G., and M.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              Sooriyabandara, "TCP Performance Implications of Network}\par\pard\li760\ri0\sl-226\slmult0 \*\tx4440\*\tx5386\fs20\cf0\f1\charscalex100 {              Path Asymmetry",}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/bcp69"}}{\fldrslt {BCP 69}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/bcp69"}}{\fldrslt {,}}}}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc3449"}}{\fldrslt {RFC 3449}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc3449"}}{\fldrslt {, }}}DOI 10.17487/RFC3449,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              December 2002, {\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc3449"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc3449"}}{\fldrslt {https://www.rfc-editor.org/info/rfc3449}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc3449"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   [RFC4443]  Conta, A., Deering, S., and M. Gupta, Ed., "Internet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              Control Message Protocol (ICMPv6) for the Internet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              Protocol Version 6 (IPv6) Specification", STD 89,}\par\pard\li2413\ri0\sl-226\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc4443"}}{\fldrslt {RFC 4443}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc4443"}}{\fldrslt {, }}}DOI 10.17487/RFC4443, March 2006,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              {\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc4443"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc4443"}}{\fldrslt {https://www.rfc-editor.org/info/rfc4443}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc4443"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-360\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 163]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2354\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2355\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#164"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   [RFC4787]  Audet, F., Ed. and C. Jennings, "Network Address}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              Translation (NAT) Behavioral Requirements for Unicast}\par\pard\li760\ri0\sl-240\slmult0 \*\tx3133\*\tx4200\fs20\cf0\f1\charscalex100 {              UDP",}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/bcp127"}}{\fldrslt {BCP 127}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/bcp127"}}{\fldrslt {,}}}}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc4787"}}{\fldrslt {RFC 4787}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc4787"}}{\fldrslt {, }}}DOI 10.17487/RFC4787, January}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              2007, {\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc4787"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc4787"}}{\fldrslt {https://www.rfc-editor.org/info/rfc4787}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc4787"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   [RFC5681]  Allman, M., Paxson, V., and E. Blanton, "TCP Congestion}\par\pard\li760\ri0\sl-240\slmult0 \*\tx3600\fs20\cf0\f1\charscalex100 {              Control",}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc5681"}}{\fldrslt {RFC 5681}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc5681"}}{\fldrslt {, }}}DOI 10.17487/RFC5681, September 2009,}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              {\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc5681"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc5681"}}{\fldrslt {https://www.rfc-editor.org/info/rfc5681}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc5681"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   [RFC5869]  Krawczyk, H. and P. Eronen, "HMAC-based Extract-and-Expand}\par\pard\li760\ri0\sl-240\slmult0 \*\tx6333\fs20\cf0\f1\charscalex100 {              Key Derivation Function (HKDF)",}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc5869"}}{\fldrslt {RFC 5869}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc5869"}}{\fldrslt {,}}}}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {              DOI 10.17487/RFC5869, May 2010,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              {\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc5869"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc5869"}}{\fldrslt {https://www.rfc-editor.org/info/rfc5869}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc5869"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   [RFC7301]  Friedl, S., Popov, A., Langley, A., and E. Stephan,}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {              "Transport Layer Security (TLS) Application-Layer Protocol}\par\pard\li760\ri0\sl-226\slmult0 \*\tx5266\fs20\cf0\f1\charscalex100 {              Negotiation Extension",}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc7301"}}{\fldrslt {RFC 7301}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc7301"}}{\fldrslt {, }}}DOI 10.17487/RFC7301,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              July 2014, {\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc7301"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc7301"}}{\fldrslt {https://www.rfc-editor.org/info/rfc7301}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc7301"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   [RFC8200]  Deering, S. and R. Hinden, "Internet Protocol, Version 6}\par\pard\li760\ri0\sl-240\slmult0 \*\tx6093\fs20\cf0\f1\charscalex100 {              (IPv6) Specification", STD 86,}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8200"}}{\fldrslt {RFC 8200}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc8200"}}{\fldrslt {,}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              DOI 10.17487/RFC8200, July 2017,}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {              {\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc8200"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc8200"}}{\fldrslt {https://www.rfc-editor.org/info/rfc8200}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc8200"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   [SEC-CONS] Rescorla, E. and B. Korver, "Guidelines for Writing RFC}\par\pard\li760\ri0\sl-240\slmult0 \*\tx6453\*\tx7400\fs20\cf0\f1\charscalex100 {              Text on Security Considerations",}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/bcp72"}}{\fldrslt {BCP 72}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/bcp72"}}{\fldrslt {,}}}}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc3552"}}{\fldrslt {RFC 3552}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc3552"}}{\fldrslt {,}}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              DOI 10.17487/RFC3552, July 2003,}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {              {\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc3552"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc3552"}}{\fldrslt {https://www.rfc-editor.org/info/rfc3552}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc3552"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   [SLOWLORIS]}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              RSnake Hansen, R., "Welcome to Slowloris...", June 2009,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              {\field{\*\fldinst{HYPERLINK "https://web.archive.org/web/20150315054838/"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://web.archive.org/web/20150315054838/"}}{\fldrslt {https://web.archive.org/web/20150315054838/}}}}\par\pard\li2413\ri0\sl-240\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "http://ha.ckers.org/slowloris/"}}{\fldrslt {http://ha.ckers.org/slowloris/}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "http://ha.ckers.org/slowloris/"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   [STD]      Bradner, S., "The Internet Standards Process -- Revision}\par\pard\li760\ri0\sl-240\slmult0 \*\tx2893\*\tx3720\fs20\cf0\f1\charscalex100 {              3",}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/bcp9"}}{\fldrslt {BCP 9}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/bcp9"}}{\fldrslt {,}}}}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc2026"}}{\fldrslt {RFC 2026}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/rfc2026"}}{\fldrslt {, }}}DOI 10.17487/RFC2026, October 1996,}\par\pard\li746\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {              {\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc2026"}}{\fldrslt {<}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc2026"}}{\fldrslt {https://www.rfc-editor.org/info/rfc2026}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://www.rfc-editor.org/info/rfc2026"}}{\fldrslt {>.}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#164"}}{\fldrslt {Appendix A}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#164"}}{\fldrslt {. }}} Sample Packet Number Decoding Algorithm}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The pseudo-code in Figure 44 shows how an implementation can decode}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   packet numbers after header protection has been removed.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 164]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2356\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2357\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#165"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   DecodePacketNumber(largest_pn, truncated_pn, pn_nbits):}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      expected_pn  = largest_pn + 1}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      pn_win       = 1 << pn_nbits}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      pn_hwin      = pn_win / 2}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      pn_mask      = pn_win - 1}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      // The incoming packet number should be greater than}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      // expected_pn - pn_hwin and less than or equal to}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      // expected_pn + pn_hwin}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      //}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      // This means we can\uc1\u8217Xt just strip the trailing bits from}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      // expected_pn and add the truncated_pn because that might}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      // yield a value outside the window.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      //}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      // The following code calculates a candidate value and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      // makes sure it\uc1\u8217Xs within the packet number window.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      // Note the extra checks to prevent overflow and underflow.}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      candidate_pn = (expected_pn & ~pn_mask) | truncated_pn}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      if candidate_pn <= expected_pn - pn_hwin and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {         candidate_pn < (1 << 62) - pn_win:}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {         return candidate_pn + pn_win}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      if candidate_pn > expected_pn + pn_hwin and}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {         candidate_pn >= pn_win:}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {         return candidate_pn - pn_win}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      return candidate_pn}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {             Figure 44: Sample Packet Number Decoding Algorithm}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#165"}}{\fldrslt {Appendix B}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#165"}}{\fldrslt {. }}} Sample ECN Validation Algorithm}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Each time an endpoint commences sending on a new network path, it}\par\pard\li760\ri0\sl-240\slmult0 \*\tx6573\fs20\cf0\f1\charscalex100 {   determines whether the path supports ECN; see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#92"}}{\fldrslt {Section 13.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#92"}}{\fldrslt {. }}} If the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   path supports ECN, the goal is to use ECN.  Endpoints might also}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   periodically reassess a path that was determined to not support ECN.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   This section describes one method for testing new paths.  This}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   algorithm is intended to show how a path might be tested for ECN}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   support.  Endpoints can implement different methods.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The path is assigned an ECN state that is one of "testing",}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   "unknown", "failed", or "capable".  On paths with a "testing" or}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   "capable" state the endpoint sends packets with an ECT marking, by}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   default ECT(0); otherwise, the endpoint sends unmarked packets.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   To start testing a path, the ECN state is set to "testing" and}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   existing ECN counts are remembered as a baseline.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-173\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 165]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2358\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2359\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#166"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   The testing period runs for a number of packets or round-trip times,}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   as determined by the endpoint.  The goal is not to limit the duration}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   of the testing period, but to ensure that enough marked packets are}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {   sent for received ECN counts to provide a clear indication of how the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   path treats marked packets. {\field{\*\fldinst{HYPERLINK "#93"}}{\fldrslt { }}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#93"}}{\fldrslt {Section 13.4.2.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#93"}}{\fldrslt { suggests }}}limiting this}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   to 10 packets or 3 round-trip times.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   After the testing period ends, the ECN state for the path becomes}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   "unknown".  From the "unknown" state, successful validation of the}\par\pard\li760\ri0\sl-240\slmult0 \*\tx4560\fs20\cf0\f1\charscalex100 {   ECN counts an ACK frame (see}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#93"}}{\fldrslt {Section 13.4.2.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#93"}}{\fldrslt {) }}}causes the ECN state}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   for the path to become "capable", unless no marked packet has been}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   acknowledged.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   If validation of ECN counts fails at any time, the ECN state for the}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   affected path becomes "failed".  An endpoint can also mark the ECN}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   state for a path as "failed" if marked packets are all declared lost}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   or if they are all CE marked.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Following this algorithm ensures that ECN is rarely disabled for}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   paths that properly support ECN.  Any path that incorrectly modifies}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   markings will cause ECN to be disabled.  For those rare cases where}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   marked packets are discarded by the path, the short duration of the}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {   testing period limits the number of losses incurred.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#166"}}{\fldrslt {Appendix C}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#166"}}{\fldrslt {. }}} Change Log}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      *RFC Editor\uc1\u8217Xs Note:* Please remove this section prior to}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      publication of a final version of this document.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Issue and pull request numbers are listed with a leading octothorp.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx2173\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#166"}}{\fldrslt {C.1}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#166"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-28"}}{\fldrslt {draft-ietf-quic-transport-28}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Made SERVER_BUSY error (0x2) more generic, now CONNECTION_REFUSED}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#3709, #3690, #3694)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Allow TRANSPORT_PARAMETER_ERROR when validating connection IDs}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#3703, #3691)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \*\tx5986\fs20\cf0\f1\charscalex100 {   *  Integrate QUIC-specific language from}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-tsvwg-datagram-plpmtud"}}{\fldrslt {draft-ietf-tsvwg-datagram-}}}}\par\pard\li1466\ri0\sl-240\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-tsvwg-datagram-plpmtud"}}{\fldrslt {plpmtud}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-tsvwg-datagram-plpmtud"}}{\fldrslt { (#3695, }}}#3702)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  disable_active_migration does not apply to the addresses offered}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      in server_preferred_address (#3608, #3670)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \*\tx2173\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#166"}}{\fldrslt {C.2}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#166"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-27"}}{\fldrslt {draft-ietf-quic-transport-27}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-360\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 166]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2360\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2361\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#167"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   *  Allowed CONNECTION_CLOSE in any packet number space, with a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      requirement to use a new transport-level error for application-}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      specific errors in Initial and Handshake packets (#3430, #3435,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #3440)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Clearer requirements for address validation (#2125, #3327)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  Security analysis of handshake and migration (#2143, #2387, #2925)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  The entire payload of a datagram is used when counting bytes for}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      mitigating amplification attacks (#3333, #3470)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   *  Connection IDs can be used at any time, including in the handshake}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#3348, #3560, #3438, #3565)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Only one ACK should be sent for each instance of reordering}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      (#3357, #3361)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Remove text allowing a server to proceed with a bad Retry token}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#3396, #3398)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  Ignore active_connection_id_limit with a zero-length connection ID}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      (#3427, #3426)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  Require active_connection_id_limit be remembered for 0-RTT (#3423,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #3425)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Require ack_delay not be remembered for 0-RTT (#3433, #3545)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Redefined max_packet_size to max_udp_datagram_size (#3471, #3473)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  Guidance on limiting outstanding attempts to retire connection IDs}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#3489, #3509, #3557, #3547)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Restored text on dropping bogus Version Negotiation packets}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#3532, #3533)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Clarified that largest acknowledged needs to be saved, but not}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      necessarily signaled in all cases (#3541, #3581)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Addressed linkability risk with the use of preferred_address}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#3559, #3563)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Added authentication of handshake connection IDs (#3439, #3499)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Opening a stream in the wrong direction is an error (#3527)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-360\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 167]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2362\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2363\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#168"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \*\tx2173\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#168"}}{\fldrslt {C.3}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#168"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-26"}}{\fldrslt {draft-ietf-quic-transport-26}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Change format of transport parameters to use varints (#3294,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #3169)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \*\tx2173\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#168"}}{\fldrslt {C.4}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#168"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-25"}}{\fldrslt {draft-ietf-quic-transport-25}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Define the use of CONNECTION_CLOSE prior to establishing}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      connection state (#3269, #3297, #3292)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Allow use of address validation tokens after client address}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      changes (#3307, #3308)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Define the timer for address validation (#2910, #3339)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx2173\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#168"}}{\fldrslt {C.5}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#168"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-24"}}{\fldrslt {draft-ietf-quic-transport-24}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Added HANDSHAKE_DONE to signal handshake confirmation (#2863,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #3142, #3145)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Add integrity check to Retry packets (#3014, #3274, #3120)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Specify handling of reordered NEW_CONNECTION_ID frames (#3194,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #3202)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Require checking of sequence numbers in RETIRE_CONNECTION_ID}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#3037, #3036)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  active_connection_id_limit is enforced (#3193, #3197, #3200,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #3201)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Correct overflow in packet number decode algorithm (#3187, #3188)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Allow use of CRYPTO_BUFFER_EXCEEDED for CRYPTO frame errors}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#3258, #3186)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Define applicability and scope of NEW_TOKEN (#3150, #3152, #3155,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #3156)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Tokens from Retry and NEW_TOKEN must be differentiated (#3127,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #3128)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  Allow CONNECTION_CLOSE in response to invalid token (#3168, #3107)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Treat an invalid CONNECTION_CLOSE as an invalid frame (#2475,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #3230, #3231)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-360\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 168]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2364\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2365\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#169"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   *  Throttle when sending CONNECTION_CLOSE after discarding state}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#3095, #3157)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Application-variant of CONNECTION_CLOSE can only be sent in 0-RTT}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      or 1-RTT packets (#3158, #3164)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Advise sending while blocked to avoid idle timeout (#2744, #3266)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Define error codes for invalid frames (#3027, #3042)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Idle timeout is symmetric (#2602, #3099)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Prohibit IP fragmentation (#3243, #3280)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Define the use of provisional registration for all registries}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#3109, #3020, #3102, #3170)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Packets on one path must not adjust values for a different path}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#2909, #3139)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx2173\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#169"}}{\fldrslt {C.6}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#169"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-23"}}{\fldrslt {draft-ietf-quic-transport-23}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Allow ClientHello to span multiple packets (#2928, #3045)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Client Initial size constraints apply to UDP datagram payload}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#3053, #3051)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Stateless reset changes (#2152, #2993)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      -  tokens need to be compared in constant time}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      -  detection uses UDP datagrams, not packets}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {      -  tokens cannot be reused (#2785, #2968)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Clearer rules for sharing of UDP ports and use of connection IDs}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      when doing so (#2844, #2851)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  A new connection ID is necessary when responding to migration}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#2778, #2969)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Stronger requirements for connection ID retirement (#3046, #3096)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  NEW_TOKEN cannot be empty (#2978, #2977)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  PING can be sent at any encryption level (#3034, #3035)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  CONNECTION_CLOSE is not ack-eliciting (#3097, #3098)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 169]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2366\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2367\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#170"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   *  Frame encoding error conditions updated (#3027, #3042)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Non-ack-eliciting packets cannot be sent in response to non-ack-}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      eliciting packets (#3100, #3104)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Servers have to change connection IDs in Retry (#2837, #3147)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx2173\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#170"}}{\fldrslt {C.7}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#170"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-22"}}{\fldrslt {draft-ietf-quic-transport-22}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Rules for preventing correlation by connection ID tightened}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#2084, #2929)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Clarified use of CONNECTION_CLOSE in Handshake packets (#2151,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #2541, #2688)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Discourage regressions of largest acknowledged in ACK (#2205,}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      #2752)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Improved robustness of validation process for ECN counts (#2534,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #2752)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Require endpoints to ignore spurious migration attempts (#2342,}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      #2893)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  Transport parameter for disabling migration clarified to allow NAT}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      rebinding (#2389, #2893)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Document principles for defining new error codes (#2388, #2880)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Reserve transport parameters for greasing (#2550, #2873)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  A maximum ACK delay of 0 is used for handshake packet number}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      spaces (#2646, #2638)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Improved rules for use of congestion control state on new paths}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#2685, #2918)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  Removed recommendation to coordinate spin for multiple connections}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      that share a path (#2763, #2882)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Allow smaller stateless resets and recommend a smaller minimum on}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      packets that might trigger a stateless reset (#2770, #2869, #2927,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #3007).}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Provide guidance around the interface to QUIC as used by}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      application protocols (#2805, #2857)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-360\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 170]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2368\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2369\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#171"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   *  Frames other than STREAM can cause STREAM_LIMIT_ERROR (#2825,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #2826)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Tighter rules about processing of rejected 0-RTT packets (#2829,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #2840, #2841)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   *  Explanation of the effect of Retry on 0-RTT packets (#2842, #2852)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Cryptographic handshake needs to provide server transport}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      parameter encryption (#2920, #2921)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Moved ACK generation guidance from recovery draft to transport}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      draft (#1860, #2916).}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx2173\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#171"}}{\fldrslt {C.8}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#171"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-21"}}{\fldrslt {draft-ietf-quic-transport-21}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Connection ID lengths are now one octet, but limited in version 1}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      to 20 octets of length (#2736, #2749)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx2173\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#171"}}{\fldrslt {C.9}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#171"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-20"}}{\fldrslt {draft-ietf-quic-transport-20}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  Error codes are encoded as variable-length integers (#2672, #2680)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  NEW_CONNECTION_ID includes a request to retire old connection IDs}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#2645, #2769)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Tighter rules for generating and explicitly eliciting ACK frames}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      (#2546, #2794)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Recommend having only one packet per encryption level in a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      datagram (#2308, #2747)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  More normative language about use of stateless reset (#2471,}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      #2574)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Allow reuse of stateless reset tokens (#2732, #2733)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Allow, but not require, enforcing non-duplicate transport}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      parameters (#2689, #2691)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Added an active_connection_id_limit transport parameter (#1994,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #1998)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  max_ack_delay transport parameter defaults to 0 (#2638, #2646)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  When sending 0-RTT, only remembered transport parameters apply}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#2458, #2360, #2466, #2461)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 171]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2370\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2371\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#172"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs18\cf0\f1\charscalex100 {   *  Define handshake completion and confirmation; define clearer rules}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      when it encryption keys should be discarded (#2214, #2267, #2673)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Prohibit path migration prior to handshake confirmation (#2309,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #2370)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   *  PATH_RESPONSE no longer needs to be received on the validated path}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#2582, #2580, #2579, #2637)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  PATH_RESPONSE frames are not stored and retransmitted (#2724,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #2729)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   *  Document hack for enabling routing of ICMP when doing PMTU probing}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#1243, #2402)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx2293\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#172"}}{\fldrslt {C.10}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#172"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-19"}}{\fldrslt {draft-ietf-quic-transport-19}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Refine discussion of 0-RTT transport parameters (#2467, #2464)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  Fewer transport parameters need to be remembered for 0-RTT (#2624,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #2467)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Spin bit text incorporated (#2564)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  Close the connection when maximum stream ID in MAX_STREAMS exceeds}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      2^62 - 1 (#2499, #2487)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  New connection ID required for intentional migration (#2414,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #2413)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Connection ID issuance can be rate-limited (#2436, #2428)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  The "QUIC bit" is ignored in Version Negotiation (#2400, #2561)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Initial packets from clients need to be padded to 1200 unless a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      Handshake packet is sent as well (#2522, #2523)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  CRYPTO frames can be discarded if too much data is buffered}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      (#1834, #2524)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Stateless reset uses a short header packet (#2599, #2600)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx2293\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#172"}}{\fldrslt {C.11}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#172"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-18"}}{\fldrslt {draft-ietf-quic-transport-18}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Removed version negotiation; version negotiation, including}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      authentication of the result, will be addressed in the next}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      version of QUIC (#1773, #2313)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 172]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2372\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2373\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#173"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   *  Added discussion of the use of IPv6 flow labels (#2348, #2399)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  A connection ID can\uc1\u8217Xt be retired in a packet that uses that}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      connection ID (#2101, #2420)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   *  Idle timeout transport parameter is in milliseconds (from seconds)}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#2453, #2454)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  Endpoints are required to use new connection IDs when they use new}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      network paths (#2413, #2414)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Increased the set of permissible frames in 0-RTT (#2344, #2355)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx2293\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#173"}}{\fldrslt {C.12}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#173"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-17"}}{\fldrslt {draft-ietf-quic-transport-17}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Stream-related errors now use STREAM_STATE_ERROR (#2305)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Endpoints discard initial keys as soon as handshake keys are}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      available (#1951, #2045)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Expanded conditions for ignoring ICMP packet too big messages}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#2108, #2161)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Remove rate control from PATH_CHALLENGE/PATH_RESPONSE (#2129,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #2241)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Endpoints are permitted to discard malformed initial packets}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      (#2141)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  Clarified ECN implementation and usage requirements (#2156, #2201)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Disable ECN count verification for packets that arrive out of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      order (#2198, #2215)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Use Probe Timeout (PTO) instead of RTO (#2206, #2238)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Loosen constraints on retransmission of ACK ranges (#2199, #2245)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Limit Retry and Version Negotiation to once per datagram (#2259,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #2303)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Set a maximum value for max_ack_delay transport parameter (#2282,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #2301)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Allow server preferred address for both IPv4 and IPv6 (#2122,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #2296)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-360\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 173]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2374\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2375\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#174"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   *  Corrected requirements for migration to a preferred address}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#2146, #2349)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  ACK of non-existent packet is illegal (#2298, #2302)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \*\tx2293\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#174"}}{\fldrslt {C.13}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#174"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-16"}}{\fldrslt {draft-ietf-quic-transport-16}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Stream limits are defined as counts, not maximums (#1850, #1906)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Require amplification attack defense after closing (#1905, #1911)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Remove reservation of application error code 0 for STOPPING}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#1804, #1922)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Renumbered frames (#1945)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Renumbered transport parameters (#1946)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Numeric transport parameters are expressed as varints (#1608,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #1947, #1955)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Reorder the NEW_CONNECTION_ID frame (#1952, #1963)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Rework the first byte (#2006)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      -  Fix the 0x40 bit}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {      -  Change type values for long header}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      -  Add spin bit to short header (#631, #1988)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      -  Encrypt the remainder of the first byte (#1322)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {      -  Move packet number length to first byte}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      -  Move ODCIL to first byte of retry packets}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      -  Simplify packet number protection (#1575)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Allow STOP_SENDING to open a remote bidirectional stream (#1797,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #2013)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Added mitigation for off-path migration attacks (#1278, #1749,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #2033)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Don\uc1\u8217Xt let the PMTU to drop below 1280 (#2063, #2069)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Require peers to replace retired connection IDs (#2085)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 174]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2376\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2377\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#175"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs18\cf0\f1\charscalex100 {   *  Servers are required to ignore Version Negotiation packets (#2088)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Tokens are repeated in all Initial packets (#2089)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Clarified how PING frames are sent after loss (#2094)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Initial keys are discarded once Handshake are available (#1951,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #2045)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  ICMP PTB validation clarifications (#2161, #2109, #2108)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \*\tx2293\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#175"}}{\fldrslt {C.14}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#175"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-15"}}{\fldrslt {draft-ietf-quic-transport-15}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Substantial editorial reorganization; no technical changes.}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx2293\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#175"}}{\fldrslt {C.15}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#175"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-14"}}{\fldrslt {draft-ietf-quic-transport-14}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Merge ACK and ACK_ECN (#1778, #1801)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Explicitly communicate max_ack_delay (#981, #1781)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  Validate original connection ID after Retry packets (#1710, #1486,}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      #1793)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Idle timeout is optional and has no specified maximum (#1765)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Update connection ID handling; add RETIRE_CONNECTION_ID type}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      (#1464, #1468, #1483, #1484, #1486, #1495, #1729, #1742, #1799,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #1821)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Include a Token in all Initial packets (#1649, #1794)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Prevent handshake deadlock (#1764, #1824)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \*\tx2293\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#175"}}{\fldrslt {C.16}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#175"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-13"}}{\fldrslt {draft-ietf-quic-transport-13}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Streams open when higher-numbered streams of the same type open}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#1342, #1549)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Split initial stream flow control limit into 3 transport}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      parameters (#1016, #1542)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  All flow control transport parameters are optional (#1610)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Removed UNSOLICITED_PATH_RESPONSE error code (#1265, #1539)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Permit stateless reset in response to any packet (#1348, #1553)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 175]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2378\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2379\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#176"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   *  Recommended defense against stateless reset spoofing (#1386,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #1554)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Prevent infinite stateless reset exchanges (#1443, #1627)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Forbid processing of the same packet number twice (#1405, #1624)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Added a packet number decoding example (#1493)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  More precisely define idle timeout (#1429, #1614, #1652)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Corrected format of Retry packet and prevented looping (#1492,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #1451, #1448, #1498)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Permit 0-RTT after receiving Version Negotiation or Retry (#1507,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #1514, #1621)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Permit Retry in response to 0-RTT (#1547, #1552)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Looser verification of ECN counters to account for ACK loss}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#1555, #1481, #1565)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Remove frame type field from APPLICATION_CLOSE (#1508, #1528)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx2293\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#176"}}{\fldrslt {C.17}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#176"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-12"}}{\fldrslt {draft-ietf-quic-transport-12}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Changes to integration of the TLS handshake (#829, #1018, #1094,}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      #1165, #1190, #1233, #1242, #1252, #1450, #1458)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      -  The cryptographic handshake uses CRYPTO frames, not stream 0}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      -  QUIC packet protection is used in place of TLS record}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {         protection}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {      -  Separate QUIC packet number spaces are used for the handshake}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      -  Changed Retry to be independent of the cryptographic handshake}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {      -  Added NEW_TOKEN frame and Token fields to Initial packet}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      -  Limit the use of HelloRetryRequest to address TLS needs (like}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {         key shares)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Enable server to transition connections to a preferred address}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      (#560, #1251, #1373)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Added ECN feedback mechanisms and handling; new ACK_ECN frame}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#804, #805, #1372)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 176]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2380\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2381\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#177"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   *  Changed rules and recommendations for use of new connection IDs}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#1258, #1264, #1276, #1280, #1419, #1452, #1453, #1465)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Added a transport parameter to disable intentional connection}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      migration (#1271, #1447)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Packets from different connection ID can\uc1\u8217Xt be coalesced (#1287,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #1423)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Fixed sampling method for packet number encryption; the length}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      field in long headers includes the packet number field in addition}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      to the packet payload (#1387, #1389)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Stateless Reset is now symmetric and subject to size constraints}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#466, #1346)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Added frame type extension mechanism (#58, #1473)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx2293\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#177"}}{\fldrslt {C.18}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#177"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-11"}}{\fldrslt {draft-ietf-quic-transport-11}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Enable server to transition connections to a preferred address}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#560, #1251)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Packet numbers are encrypted (#1174, #1043, #1048, #1034, #850,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #990, #734, #1317, #1267, #1079)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Packet numbers use a variable-length encoding (#989, #1334)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  STREAM frames can now be empty (#1350)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx2293\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#177"}}{\fldrslt {C.19}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#177"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-10"}}{\fldrslt {draft-ietf-quic-transport-10}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Swap payload length and packed number fields in long header}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      (#1294)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Clarified that CONNECTION_CLOSE is allowed in Handshake packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#1274)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Spin bit reserved (#1283)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Coalescing multiple QUIC packets in a UDP datagram (#1262, #1285)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  A more complete connection migration (#1249)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Refine opportunistic ACK defense text (#305, #1030, #1185)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  A Stateless Reset Token isn\uc1\u8217Xt mandatory (#818, #1191)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 177]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2382\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2383\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#178"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   *  Removed implicit stream opening (#896, #1193)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  An empty STREAM frame can be used to open a stream without sending}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      data (#901, #1194)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs18\cf0\f1\charscalex100 {   *  Define stream counts in transport parameters rather than a maximum}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      stream ID (#1023, #1065)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  STOP_SENDING is now prohibited before streams are used (#1050)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  Recommend including ACK in Retry packets and allow PADDING (#1067,}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      #882)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Endpoints now become closing after an idle timeout (#1178, #1179)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Remove implication that Version Negotiation is sent when a packet}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      of the wrong version is received (#1197)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx2293\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#178"}}{\fldrslt {C.20}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#178"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-09"}}{\fldrslt {draft-ietf-quic-transport-09}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  Added PATH_CHALLENGE and PATH_RESPONSE frames to replace PING with}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      Data and PONG frame.  Changed ACK frame type from 0x0e to 0x0d.}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      (#1091, #725, #1086)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  A server can now only send 3 packets without validating the client}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      address (#38, #1090)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Delivery order of stream data is no longer strongly specified}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#252, #1070)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Rework of packet handling and version negotiation (#1038)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Stream 0 is now exempt from flow control until the handshake}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      completes (#1074, #725, #825, #1082)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Improved retransmission rules for all frame types: information is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      retransmitted, not packets or frames (#463, #765, #1095, #1053)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Added an error code for server busy signals (#1137)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Endpoints now set the connection ID that their peer uses.}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      Connection IDs are variable length.  Removed the}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      omit_connection_id transport parameter and the corresponding short}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      header flag. (#1089, #1052, #1146, #821, #745, #821, #1166, #1151)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-186\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 178]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2384\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2385\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#179"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \*\tx2293\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#179"}}{\fldrslt {C.21}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#179"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-08"}}{\fldrslt {draft-ietf-quic-transport-08}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Clarified requirements for BLOCKED usage (#65, #924)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  BLOCKED frame now includes reason for blocking (#452, #924, #927,}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      #928)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  GAP limitation in ACK Frame (#613)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Improved PMTUD description (#614, #1036)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Clarified stream state machine (#634, #662, #743, #894)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Reserved versions don\uc1\u8217Xt need to be generated deterministically}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#831, #931)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  You don\uc1\u8217Xt always need the draining period (#871)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Stateless reset clarified as version-specific (#930, #986)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  initial_max_stream_id_x transport parameters are optional (#970,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #971)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Ack Delay assumes a default value during the handshake (#1007,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #1009)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Removed transport parameters from NewSessionTicket (#1015)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \*\tx2293\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#179"}}{\fldrslt {C.22}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#179"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-07"}}{\fldrslt {draft-ietf-quic-transport-07}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  The long header now has version before packet number (#926, #939)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Rename and consolidate packet types (#846, #822, #847)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Packet types are assigned new codepoints and the Connection ID}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      Flag is inverted (#426, #956)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Removed type for Version Negotiation and use Version 0 (#963,}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      #968)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Streams are split into unidirectional and bidirectional (#643,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #656, #720, #872, #175, #885)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      -  Stream limits now have separate uni- and bi-directional}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {         transport parameters (#909, #958)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      -  Stream limit transport parameters are now optional and default}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {         to 0 (#970, #971)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 179]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2386\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2387\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#180"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs18\cf0\f1\charscalex100 {   *  The stream state machine has been split into read and write (#634,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #894)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Employ variable-length integer encodings throughout (#595)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Improvements to connection close}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      -  Added distinct closing and draining states (#899, #871)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      -  Draining period can terminate early (#869, #870)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {      -  Clarifications about stateless reset (#889, #890)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Address validation for connection migration (#161, #732, #878)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  Clearly defined retransmission rules for BLOCKED (#452, #65, #924)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  negotiated_version is sent in server transport parameters (#710,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #959)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Increased the range over which packet numbers are randomized}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#864, #850, #964)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \*\tx2293\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#180"}}{\fldrslt {C.23}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#180"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-06"}}{\fldrslt {draft-ietf-quic-transport-06}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Replaced FNV-1a with AES-GCM for all "Cleartext" packets (#554)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Split error code space between application and transport (#485)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Stateless reset token moved to end (#820)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  1-RTT-protected long header types removed (#848)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  No acknowledgments during draining period (#852)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Remove "application close" as a separate close type (#854)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Remove timestamps from the ACK frame (#841)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Require transport parameters to only appear once (#792)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx2293\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#180"}}{\fldrslt {C.24}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#180"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-05"}}{\fldrslt {draft-ietf-quic-transport-05}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Stateless token is server-only (#726)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Refactor section on connection termination (#733, #748, #328,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #177)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 180]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2388\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2389\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#181"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   *  Limit size of Version Negotiation packet (#585)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Clarify when and what to ack (#736)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Renamed STREAM_ID_NEEDED to STREAM_ID_BLOCKED}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Clarify Keep-alive requirements (#729)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx2293\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#181"}}{\fldrslt {C.25}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#181"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-04"}}{\fldrslt {draft-ietf-quic-transport-04}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Introduce STOP_SENDING frame, RESET_STREAM only resets in one}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      direction (#165)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  Removed GOAWAY; application protocols are responsible for graceful}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      shutdown (#696)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Reduced the number of error codes (#96, #177, #184, #211)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Version validation fields can\uc1\u8217Xt move or change (#121)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Removed versions from the transport parameters in a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      NewSessionTicket message (#547)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Clarify the meaning of "bytes in flight" (#550)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Public reset is now stateless reset and not visible to the path}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#215)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Reordered bits and fields in STREAM frame (#620)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Clarifications to the stream state machine (#572, #571)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Increased the maximum length of the Largest Acknowledged field in}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      ACK frames to 64 bits (#629)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  truncate_connection_id is renamed to omit_connection_id (#659)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  CONNECTION_CLOSE terminates the connection like TCP RST (#330,}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      #328)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Update labels used in HKDF-Expand-Label to match TLS 1.3 (#642)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx2293\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#181"}}{\fldrslt {C.26}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#181"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-03"}}{\fldrslt {draft-ietf-quic-transport-03}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Change STREAM and RESET_STREAM layout}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Add MAX_STREAM_ID settings}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 181]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2390\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2391\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#182"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \*\tx2293\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#182"}}{\fldrslt {C.27}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#182"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-02"}}{\fldrslt {draft-ietf-quic-transport-02}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  The size of the initial packet payload has a fixed minimum (#267,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #472)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Define when Version Negotiation packets are ignored (#284, #294,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #241, #143, #474)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  The 64-bit FNV-1a algorithm is used for integrity protection of}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      unprotected packets (#167, #480, #481, #517)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Rework initial packet types to change how the connection ID is}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      chosen (#482, #442, #493)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  No timestamps are forbidden in unprotected packets (#542, #429)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Cryptographic handshake is now on stream 0 (#456)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Remove congestion control exemption for cryptographic handshake}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#248, #476)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Version 1 of QUIC uses TLS; a new version is needed to use a}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      different handshake protocol (#516)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  STREAM frames have a reduced number of offset lengths (#543, #430)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Split some frames into separate connection- and stream- level}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      frames (#443)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      -  WINDOW_UPDATE split into MAX_DATA and MAX_STREAM_DATA (#450)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      -  BLOCKED split to match WINDOW_UPDATE split (#454)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {      -  Define STREAM_ID_NEEDED frame (#455)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  A NEW_CONNECTION_ID frame supports connection migration without}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      linkability (#232, #491, #496)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Transport parameters for 0-RTT are retained from a previous}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      connection (#405, #513, #512)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {      -  A client in 0-RTT no longer required to reset excess streams}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {         (#425, #479)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Expanded security considerations (#440, #444, #445, #448)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx2293\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#182"}}{\fldrslt {C.28}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#182"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-01"}}{\fldrslt {draft-ietf-quic-transport-01}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 182]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2392\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2393\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#183"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   *  Defined short and long packet headers (#40, #148, #361)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Defined a versioning scheme and stable fields (#51, #361)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Define reserved version values for "greasing" negotiation (#112,}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      #278)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  The initial packet number is randomized (#35, #283)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Narrow the packet number encoding range requirement (#67, #286,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #299, #323, #356)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Defined client address validation (#52, #118, #120, #275)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Define transport parameters as a TLS extension (#49, #122)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  SCUP and COPT parameters are no longer valid (#116, #117)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Transport parameters for 0-RTT are either remembered from before,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      or assume default values (#126)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  The server chooses connection IDs in its final flight (#119, #349,}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      #361)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  The server echoes the Connection ID and packet number fields when}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      sending a Version Negotiation packet (#133, #295, #244)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Defined a minimum packet size for the initial handshake packet}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      from the client (#69, #136, #139, #164)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Path MTU Discovery (#64, #106)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  The initial handshake packet from the client needs to fit in a}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      single packet (#338)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Forbid acknowledgment of packets containing only ACK and PADDING}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#291)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Require that frames are processed when packets are acknowledged}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#381, #341)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Removed the STOP_WAITING frame (#66)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  Don\uc1\u8217Xt require retransmission of old timestamps for lost ACK frames}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      (#308)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Clarified that frames are not retransmitted, but the information}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      in them can be (#157, #298)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 183]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2394\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2395\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#184"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   *  Error handling definitions (#335)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Split error codes into four sections (#74)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Forbid the use of Public Reset where CONNECTION_CLOSE is possible}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      (#289)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Define packet protection rules (#336)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Require that stream be entirely delivered or reset, including}\par\pard\li760\ri0\sl-240\slmult0 \fs18\cf0\f1\charscalex100 {      acknowledgment of all STREAM frames or the RESET_STREAM, before it}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      closes (#381)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Remove stream reservation from state machine (#174, #280)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  Only stream 1 does not contribute to connection-level flow control}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      (#204)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  Stream 1 counts towards the maximum concurrent stream limit (#201,}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      #282)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Remove connection-level flow control exclusion for some streams}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      (except 1) (#246)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  RESET_STREAM affects connection-level flow control (#162, #163)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Flow control accounting uses the maximum data offset on each}\par\pard\li760\ri0\sl-226\slmult0 \fs20\cf0\f1\charscalex100 {      stream, rather than bytes received (#378)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Moved length-determining fields to the start of STREAM and ACK}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#168, #277)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Added the ability to pad between frames (#158, #276)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Remove error code and reason phrase from GOAWAY (#352, #355)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  GOAWAY includes a final stream number for both directions (#347)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Error codes for RESET_STREAM and CONNECTION_CLOSE are now at a}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      consistent offset (#249)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs18\cf0\f1\charscalex100 {   *  Defined priority as the responsibility of the application protocol}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {      (#104, #303)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \*\tx2293\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#184"}}{\fldrslt {C.29}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#184"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-transport-00"}}{\fldrslt {draft-ietf-quic-transport-00}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Replaced DIVERSIFICATION_NONCE flag with KEY_PHASE flag}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-333\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 184]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2396\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2397\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#185"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   *  Defined versioning}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Reworked description of packet and frame layout}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Error code space is divided into regions for each component}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Use big endian for all numeric values}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx2293\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#185"}}{\fldrslt {C.30}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#185"}}{\fldrslt {. }}} Since}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-hamilton-quic-transport-protocol-01"}}{\fldrslt {draft-hamilton-quic-transport-protocol-01}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \*\tx3840\fs20\cf0\f1\charscalex100 {   *  Adopted as base for}\tab \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "https://tools.ietf.org/pdf/draft-ietf-quic-tls"}}{\fldrslt {draft-ietf-quic-tls}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Updated authors/editors list}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Added IANA Considerations section}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Moved Contributors and Acknowledgments to appendices}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {Contributors}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   The original design and rationale behind this protocol draw}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   significantly from work by Jim Roskind {\field{\*\fldinst{HYPERLINK "#163"}}{\fldrslt {[}}}}\fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#163"}}{\fldrslt {EARLY-DESIGN}}}}\fs20\cf0\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#163"}}{\fldrslt {].}}}}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   The IETF QUIC Working Group received an enormous amount of support}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   from many people.  The following people provided substantive}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   contributions to this document:}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Alessandro Ghedini}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Alyssa Wilk}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Antoine Delignat-Lavaud}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Brian Trammell}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Christian Huitema}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Colin Perkins}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  David Schinazi}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Dmitri Tikhonov}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Eric Kinnear}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Eric Rescorla}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Gorry Fairhurst}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 185]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2398\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}
{\shp{\*\shpinst\shpleft1426\shptop14693\shpright10506\shpbottom14693\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2399\shpz1\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9080}}
{\sp{\sn geoBottom}{\sv 0}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;2;(0,0);(9080,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;5;16384;45824;1;45824;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 0}}
{\sp{\sn lineWidth}{\sv 8382}}
{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineDashing}{\sv 0}}
{\sp{\sn fLine}{\sv 1}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#186"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   *  Ian Swett}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Igor Lubashev}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *    (Kazuho Oku)}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Lucas Pardue}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Magnus Westerlund}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Marten Seemann}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Martin Duke}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Mike Bishop}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Mikkel Fahne Jrgensen}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Mirja Khlewind}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Nick Banks}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Nick Harper}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Patrick McManus}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Roberto Peon}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Ryan Hamilton}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Subodh Iyengar}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Tatsuhiro Tsujikawa}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Ted Hardie}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   *  Tom Jones}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   *  Victor Vasiliev}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {Authors\uc1\u8217X Addresses}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Jana Iyengar (editor)}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Fastly}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-253\slmult0 \fs20\cf0\f1\charscalex100 {   Email: jri.ietf@gmail.com}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-360\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 186]}\par\pard\sect\sectd\sbkpage
{\shp{\*\shpinst\shpleft1106\shptop826\shpright10813\shpbottom16026\shpfhdr0\shpwr3\shpwrk0\shpfblwtxt1\shplid2400\shpz0\shpbxpage\shpbypage
{\sp{\sn shapeType}{\sv 0}}
{\sp{\sn fFlipH}{\sv 0}}
{\sp{\sn fFlipV}{\sv 0}}
{\sp{\sn rotation}{\sv 0}}
{\sp{\sn geoRight}{\sv 9707}}
{\sp{\sn geoBottom}{\sv 15200}}
{\sp{\sn shapePath}{\sv 4}}
{\sp{\sn pVerticies}{\sv 8;5;(0,0);(0,15200);(9693,15200);(9693,0);(0,0);}}
{\sp{\sn pSegmentInfo}{\sv 2;12;16384;45824;1;45824;1;45824;1;45824;1;45824;24577;32768}}
{\sp{\sn fFillOK}{\sv 1}}
{\sp{\sn fFilled}{\sv 1}}
{\sp{\sn fillColor}{\sv 16777215}}
{\sp{\sn fLine}{\sv 0}}{\sp{\sn lineColor}{\sv 0}}
{\sp{\sn lineType}{\sv 0}}
{\sp{\sn fArrowheadsOK}{\sv 0}}
{\sp{\sn fBehindDocument}{\sv 1}}
{\sp{\sn fLayoutInCell}{\sv 1}}}}\pgwsxn11893\pghsxn16840\marglsxn666\margrsxn133\margtsxn666\margbsxn586\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-320\slmult0 \fs20\cf1\f1\charscalex100 {{\field{\*\fldinst{HYPERLINK "#187"}}{\fldrslt { }}}}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {Internet-Draft           QUIC Transport Protocol               June 2020}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-280\slmult0 \fs20\cf0\f1\charscalex100 {   Martin Thomson (editor)}\par\pard\li760\ri0\sl-240\slmult0 \fs20\cf0\f1\charscalex100 {   Mozilla}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-266\slmult0 \fs20\cf0\f1\charscalex100 {   Email: mt@lowentropy.net}\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-213\slmult0 \fs18\cf0\par\pard\li760\ri0\sl-306\slmult0 \fs18\cf0\f1\charscalex100 {Iyengar & Thomson       Expires 12 December 2020              [Page 187]}\par}